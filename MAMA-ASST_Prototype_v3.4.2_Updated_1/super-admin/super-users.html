<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ì‚¬ìš©ì ê´€ë¦¬ | MAMA-ASST ìŠˆí¼ê´€ë¦¬ì</title>
  
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
  
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            'super': '#6366F1',
            'super-dark': '#4F46E5',
            'super-light': '#EEF2FF',
            primary: '#FF6D4D',
            'primary-dark': '#E55A3A',
            'primary-light': '#FFF0ED',
            navy: '#1A2E4D',
            'navy-light': '#2C4872',
            korean: '#4285F4',
            'korean-light': '#E8F0FE',
            math: '#FBBC05',
            'math-light': '#FEF7E0',
            english: '#34A853',
            'english-light': '#E6F4EA',
            planner: '#9C27B0',
            'planner-light': '#F3E5F5',
            background: '#F9FAFB',
            surface: '#FFFFFF',
            'border-light': '#E5E7EB',
            'text-primary': '#1F2937',
            'text-secondary': '#6B7280',
            'text-tertiary': '#9CA3AF',
            success: '#22C55E',
            'success-light': '#F0FDF4',
            error: '#EF4444',
            'error-light': '#FEF2F2',
            warning: '#F59E0B',
            'warning-light': '#FFFBEB',
            info: '#3B82F6',
            'info-light': '#EFF6FF',
          },
          fontFamily: { sans: ['Pretendard', 'Apple SD Gothic Neo', 'Malgun Gothic', 'sans-serif'] },
        },
      },
    }
  </script>
  
  <style>
    .sidebar-item.active { 
      background: linear-gradient(135deg, #6366F1 0%, #818CF8 100%); 
      color: white; 
    }
    .sidebar-item.active .material-icons-round { color: white; }
    .mobile-menu-overlay { opacity: 0; visibility: hidden; transition: opacity 0.3s, visibility 0.3s; }
    .mobile-menu-overlay.open { opacity: 1; visibility: visible; }
    .mobile-menu { transform: translateX(-100%); transition: transform 0.3s ease; }
    .mobile-menu.open { transform: translateX(0); }
    .gradient-super { background: linear-gradient(135deg, #6366F1 0%, #818CF8 100%); }
    .modal-overlay { opacity: 0; visibility: hidden; transition: all 0.3s; }
    .modal-overlay.open { opacity: 1; visibility: visible; }
    .modal-content { transform: scale(0.95) translateY(10px); transition: all 0.3s; }
    .modal-overlay.open .modal-content { transform: scale(1) translateY(0); }
    .role-tab { transition: all 0.2s ease; border-bottom: 3px solid transparent; }
    .role-tab.active { border-color: #6366F1; background: #EEF2FF; color: #6366F1; }
    .status-badge { padding: 4px 10px; border-radius: 9999px; font-size: 12px; font-weight: 500; }
    .table-row:hover { background-color: #F9FAFB; }
    .stat-card { transition: all 0.2s ease; }
    .stat-card:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(99, 102, 241, 0.15); }
  </style>
</head>
<body class="bg-background font-sans text-text-primary antialiased">
  
  <div class="flex min-h-screen">
    
    <!-- Desktop Sidebar -->
    <aside class="hidden lg:flex w-72 bg-gradient-to-b from-slate-900 to-slate-800 text-white flex-col fixed h-full z-40">
      <div class="p-5 border-b border-white/10">
        <div class="flex items-center gap-3">
          <div class="w-10 h-10 bg-super rounded-xl flex items-center justify-center">
            <span class="material-icons-round text-white">shield</span>
          </div>
          <div>
            <span class="font-bold text-lg">MAMA-ASST</span>
            <p class="text-xs text-super-light">Super Admin</p>
          </div>
        </div>
      </div>
      
      <nav class="flex-1 p-4 space-y-1 overflow-y-auto">
        <a href="super-dashboard.html" class="sidebar-item flex items-center gap-3 px-4 py-3 rounded-xl text-white/70 hover:bg-white/10 hover:text-white transition-all">
          <span class="material-icons-round text-xl">space_dashboard</span>
          <span class="font-medium">í”Œë«í¼ ëŒ€ì‹œë³´ë“œ</span>
        </a>
        
        <div class="pt-4">
          <p class="px-4 py-2 text-xs text-white/40 font-medium uppercase tracking-wider">ë¹„ì¦ˆë‹ˆìŠ¤</p>
          <a href="super-academies.html" class="sidebar-item flex items-center gap-3 px-4 py-3 rounded-xl text-white/70 hover:bg-white/10 hover:text-white transition-all">
            <span class="material-icons-round text-xl">apartment</span>
            <span class="font-medium">í•™ì› ê´€ë¦¬</span>
            <span class="ml-auto px-2 py-0.5 bg-super/50 text-white text-xs rounded-full">127</span>
          </a>
          <a href="super-inquiries.html" class="sidebar-item flex items-center gap-3 px-4 py-3 rounded-xl text-white/70 hover:bg-white/10 hover:text-white transition-all">
            <span class="material-icons-round text-xl">support_agent</span>
            <span class="font-medium">ë„ì… ë¬¸ì˜</span>
            <span class="ml-auto px-2 py-0.5 bg-warning text-white text-xs rounded-full">12</span>
          </a>
          <a href="super-payments.html" class="sidebar-item flex items-center gap-3 px-4 py-3 rounded-xl text-white/70 hover:bg-white/10 hover:text-white transition-all">
            <span class="material-icons-round text-xl">account_balance</span>
            <span class="font-medium">ê²°ì œ/ì •ì‚°</span>
          </a>
        </div>
        
        <div class="pt-4">
          <p class="px-4 py-2 text-xs text-white/40 font-medium uppercase tracking-wider">ì½˜í…ì¸ </p>
          <a href="super-contents.html" class="sidebar-item flex items-center gap-3 px-4 py-3 rounded-xl text-white/70 hover:bg-white/10 hover:text-white transition-all">
            <span class="material-icons-round text-xl">library_books</span>
            <span class="font-medium">ì½˜í…ì¸  ë§ˆìŠ¤í„°</span>
          </a>
        </div>
        
        <div class="pt-4">
          <p class="px-4 py-2 text-xs text-white/40 font-medium uppercase tracking-wider">ìš´ì˜</p>
          <a href="super-users.html" class="sidebar-item active flex items-center gap-3 px-4 py-3 rounded-xl transition-all">
            <span class="material-icons-round text-xl">groups</span>
            <span class="font-medium">ì‚¬ìš©ì ê´€ë¦¬</span>
          </a>
          <a href="super-ai-usage.html" class="sidebar-item flex items-center gap-3 px-4 py-3 rounded-xl text-white/70 hover:bg-white/10 hover:text-white transition-all">
            <span class="material-icons-round text-xl">smart_toy</span>
            <span class="font-medium">AI ëª¨ë‹ˆí„°ë§</span>
          </a>
          <a href="super-notices.html" class="sidebar-item flex items-center gap-3 px-4 py-3 rounded-xl text-white/70 hover:bg-white/10 hover:text-white transition-all">
            <span class="material-icons-round text-xl">campaign</span>
            <span class="font-medium">ê³µì§€ì‚¬í•­</span>
          </a>
        </div>
        
        <div class="pt-4">
          <p class="px-4 py-2 text-xs text-white/40 font-medium uppercase tracking-wider">ì‹œìŠ¤í…œ</p>
          <a href="super-settings.html" class="sidebar-item flex items-center gap-3 px-4 py-3 rounded-xl text-white/70 hover:bg-white/10 hover:text-white transition-all">
            <span class="material-icons-round text-xl">tune</span>
            <span class="font-medium">ì‹œìŠ¤í…œ ì„¤ì •</span>
          </a>
          <a href="super-logs.html" class="sidebar-item flex items-center gap-3 px-4 py-3 rounded-xl text-white/70 hover:bg-white/10 hover:text-white transition-all">
            <span class="material-icons-round text-xl">history</span>
            <span class="font-medium">ë¡œê·¸/ê°ì‚¬</span>
          </a>
        </div>
      </nav>
      
      <div class="p-4 border-t border-white/10">
        <div class="flex items-center gap-3 mb-3">
          <div class="w-10 h-10 rounded-full gradient-super flex items-center justify-center text-white font-bold">
            <span class="material-icons-round text-xl">admin_panel_settings</span>
          </div>
          <div class="flex-1 min-w-0">
            <p class="font-medium text-sm truncate">Super Admin</p>
            <p class="text-xs text-white/60">MAMA-ASST Platform</p>
          </div>
        </div>
        <a href="../login.html" class="flex items-center justify-center gap-2 px-4 py-2 border border-white/20 rounded-xl text-white/70 hover:bg-white/10 hover:text-white transition-all text-sm">
          <span class="material-icons-round text-sm">logout</span>
          <span>ë¡œê·¸ì•„ì›ƒ</span>
        </a>
      </div>
    </aside>
    
    <!-- Mobile Menu Overlay -->
    <div id="mobileMenuOverlay" class="mobile-menu-overlay fixed inset-0 bg-black/50 z-50 lg:hidden" onclick="closeMobileMenu()"></div>
    
    <!-- Mobile Slide Menu -->
    <div id="mobileMenu" class="mobile-menu fixed top-0 left-0 w-72 h-full bg-gradient-to-b from-slate-900 to-slate-800 text-white z-50 lg:hidden flex flex-col">
      <div class="p-5 border-b border-white/10 flex items-center justify-between">
        <div class="flex items-center gap-3">
          <div class="w-10 h-10 bg-super rounded-xl flex items-center justify-center">
            <span class="material-icons-round text-white">shield</span>
          </div>
          <span class="font-bold text-lg">Super Admin</span>
        </div>
        <button onclick="closeMobileMenu()" class="p-2 hover:bg-white/10 rounded-lg">
          <span class="material-icons-round">close</span>
        </button>
      </div>
      
      <nav class="flex-1 p-4 space-y-1 overflow-y-auto">
        <a href="super-dashboard.html" class="sidebar-item flex items-center gap-3 px-4 py-3 rounded-xl text-white/70">
          <span class="material-icons-round text-xl">space_dashboard</span>
          <span class="font-medium">í”Œë«í¼ ëŒ€ì‹œë³´ë“œ</span>
        </a>
        <a href="super-academies.html" class="sidebar-item flex items-center gap-3 px-4 py-3 rounded-xl text-white/70">
          <span class="material-icons-round text-xl">apartment</span>
          <span class="font-medium">í•™ì› ê´€ë¦¬</span>
        </a>
        <a href="super-inquiries.html" class="sidebar-item flex items-center gap-3 px-4 py-3 rounded-xl text-white/70">
          <span class="material-icons-round text-xl">support_agent</span>
          <span class="font-medium">ë„ì… ë¬¸ì˜</span>
        </a>
        <a href="super-payments.html" class="sidebar-item flex items-center gap-3 px-4 py-3 rounded-xl text-white/70">
          <span class="material-icons-round text-xl">account_balance</span>
          <span class="font-medium">ê²°ì œ/ì •ì‚°</span>
        </a>
        <a href="super-contents.html" class="sidebar-item flex items-center gap-3 px-4 py-3 rounded-xl text-white/70">
          <span class="material-icons-round text-xl">library_books</span>
          <span class="font-medium">ì½˜í…ì¸  ë§ˆìŠ¤í„°</span>
        </a>
        <a href="super-users.html" class="sidebar-item active flex items-center gap-3 px-4 py-3 rounded-xl">
          <span class="material-icons-round text-xl">groups</span>
          <span class="font-medium">ì‚¬ìš©ì ê´€ë¦¬</span>
        </a>
        <a href="super-ai-usage.html" class="sidebar-item flex items-center gap-3 px-4 py-3 rounded-xl text-white/70">
          <span class="material-icons-round text-xl">smart_toy</span>
          <span class="font-medium">AI ëª¨ë‹ˆí„°ë§</span>
        </a>
        <a href="super-settings.html" class="sidebar-item flex items-center gap-3 px-4 py-3 rounded-xl text-white/70">
          <span class="material-icons-round text-xl">tune</span>
          <span class="font-medium">ì‹œìŠ¤í…œ ì„¤ì •</span>
        </a>
      </nav>
    </div>
    
    <!-- Main Content -->
    <main class="flex-1 lg:ml-72">
      <!-- Top Header -->
      <header class="bg-white border-b border-border-light sticky top-0 z-30">
        <div class="flex items-center justify-between px-4 lg:px-8 py-4">
          <div class="flex items-center gap-4">
            <button onclick="openMobileMenu()" class="lg:hidden p-2 hover:bg-gray-100 rounded-xl">
              <span class="material-icons-round">menu</span>
            </button>
            <div>
              <h1 class="text-xl font-bold text-navy">ì‚¬ìš©ì ê´€ë¦¬</h1>
              <p class="text-sm text-text-secondary">ì „ì²´ í”Œë«í¼ ì‚¬ìš©ì í†µí•© ê´€ë¦¬</p>
            </div>
          </div>
          
          <div class="flex items-center gap-3">
            <button onclick="openExportUsersModal()" class="p-2 hover:bg-gray-100 rounded-xl" title="ë‚´ë³´ë‚´ê¸°">
              <span class="material-icons-round text-text-secondary">file_download</span>
            </button>
          </div>
        </div>
      </header>
      
      <div class="p-4 lg:p-8">
        <!-- ì‚¬ìš©ì í†µê³„ ì¹´ë“œ -->
        <div class="grid grid-cols-2 lg:grid-cols-5 gap-4 lg:gap-6 mb-6">
          <!-- ì „ì²´ ì‚¬ìš©ì -->
          <div class="stat-card bg-white rounded-2xl p-5 shadow-sm border border-border-light">
            <div class="flex items-center justify-between mb-3">
              <div class="w-12 h-12 rounded-xl gradient-super flex items-center justify-center">
                <span class="material-icons-round text-white text-2xl">groups</span>
              </div>
              <span class="px-2 py-1 bg-success-light text-success text-xs font-medium rounded-lg">+128</span>
            </div>
            <p class="text-sm text-text-secondary mb-1">ì „ì²´ ì‚¬ìš©ì</p>
            <p class="text-2xl font-bold text-navy">5,847</p>
          </div>
          
          <!-- í•™ìƒ -->
          <div class="stat-card bg-white rounded-2xl p-5 shadow-sm border border-border-light cursor-pointer" onclick="filterByRole('student')">
            <div class="flex items-center justify-between mb-3">
              <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-korean to-blue-400 flex items-center justify-center">
                <span class="material-icons-round text-white text-2xl">school</span>
              </div>
              <span class="px-2 py-1 bg-korean-light text-korean text-xs font-medium rounded-lg">í•™ìƒ</span>
            </div>
            <p class="text-sm text-text-secondary mb-1">í•™ìƒ</p>
            <p class="text-2xl font-bold text-korean">4,823</p>
          </div>
          
          <!-- í•™ë¶€ëª¨ -->
          <div class="stat-card bg-white rounded-2xl p-5 shadow-sm border border-border-light cursor-pointer" onclick="filterByRole('parent')">
            <div class="flex items-center justify-between mb-3">
              <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-english to-emerald-400 flex items-center justify-center">
                <span class="material-icons-round text-white text-2xl">family_restroom</span>
              </div>
              <span class="px-2 py-1 bg-english-light text-english text-xs font-medium rounded-lg">í•™ë¶€ëª¨</span>
            </div>
            <p class="text-sm text-text-secondary mb-1">í•™ë¶€ëª¨</p>
            <p class="text-2xl font-bold text-english">612</p>
          </div>
          
          <!-- ê°•ì‚¬ -->
          <div class="stat-card bg-white rounded-2xl p-5 shadow-sm border border-border-light cursor-pointer" onclick="filterByRole('instructor')">
            <div class="flex items-center justify-between mb-3">
              <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-planner to-purple-400 flex items-center justify-center">
                <span class="material-icons-round text-white text-2xl">person</span>
              </div>
              <span class="px-2 py-1 bg-planner-light text-planner text-xs font-medium rounded-lg">ê°•ì‚¬</span>
            </div>
            <p class="text-sm text-text-secondary mb-1">ê°•ì‚¬</p>
            <p class="text-2xl font-bold text-planner">285</p>
          </div>
          
          <!-- í•™ì›ê´€ë¦¬ì -->
          <div class="stat-card bg-white rounded-2xl p-5 shadow-sm border border-border-light cursor-pointer" onclick="filterByRole('admin')">
            <div class="flex items-center justify-between mb-3">
              <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-primary to-orange-400 flex items-center justify-center">
                <span class="material-icons-round text-white text-2xl">manage_accounts</span>
              </div>
              <span class="px-2 py-1 bg-primary-light text-primary text-xs font-medium rounded-lg">ê´€ë¦¬ì</span>
            </div>
            <p class="text-sm text-text-secondary mb-1">í•™ì› ê´€ë¦¬ì</p>
            <p class="text-2xl font-bold text-primary">127</p>
          </div>
        </div>
        
        <!-- ê²€ìƒ‰ ë° í•„í„° -->
        <div class="bg-white rounded-2xl p-4 lg:p-6 shadow-sm border border-border-light mb-6">
          <div class="flex flex-col lg:flex-row gap-4">
            <div class="flex-1 relative">
              <span class="material-icons-round absolute left-4 top-1/2 -translate-y-1/2 text-text-tertiary">search</span>
              <input type="text" placeholder="ì´ë¦„, ì´ë©”ì¼, ì—°ë½ì²˜, í•™ì› ê²€ìƒ‰" 
                     class="w-full pl-12 pr-4 py-3 bg-background border border-border-light rounded-xl focus:outline-none focus:ring-2 focus:ring-super/20 focus:border-super">
            </div>
            
            <div class="flex flex-wrap gap-3">
              <select id="roleFilter" class="px-4 py-3 bg-background border border-border-light rounded-xl focus:outline-none focus:ring-2 focus:ring-super/20 text-sm min-w-[120px]">
                <option value="all">ì „ì²´ ì—­í• </option>
                <option value="student">í•™ìƒ</option>
                <option value="parent">í•™ë¶€ëª¨</option>
                <option value="instructor">ê°•ì‚¬</option>
                <option value="admin">í•™ì› ê´€ë¦¬ì</option>
              </select>
              
              <select class="px-4 py-3 bg-background border border-border-light rounded-xl focus:outline-none focus:ring-2 focus:ring-super/20 text-sm min-w-[120px]">
                <option>ì „ì²´ ìƒíƒœ</option>
                <option>í™œì„±</option>
                <option>ë¹„í™œì„±</option>
                <option>ì •ì§€</option>
              </select>
              
              <select class="px-4 py-3 bg-background border border-border-light rounded-xl focus:outline-none focus:ring-2 focus:ring-super/20 text-sm min-w-[120px]">
                <option>ì „ì²´ í•™ì›</option>
                <option>ëª…ë¶ˆí—ˆì „í•™ì›</option>
                <option>ê°•ë‚¨ìˆ˜í•™í•™ì›</option>
                <option>ë¶„ë‹¹ì˜ì¬í•™ì›</option>
              </select>
              
              <select class="px-4 py-3 bg-background border border-border-light rounded-xl focus:outline-none focus:ring-2 focus:ring-super/20 text-sm min-w-[130px]">
                <option>ìµœê·¼ ê°€ì…ìˆœ</option>
                <option>ì´ë¦„ìˆœ</option>
                <option>ìµœê·¼ ì ‘ì†ìˆœ</option>
                <option>í•™ì›ìˆœ</option>
              </select>
            </div>
          </div>
        </div>
        
        <!-- ì‚¬ìš©ì ëª©ë¡ í…Œì´ë¸” -->
        <div class="bg-white rounded-2xl shadow-sm border border-border-light overflow-hidden">
          <div class="overflow-x-auto">
            <table class="w-full">
              <thead class="bg-gray-50 border-b border-border-light">
                <tr>
                  <th class="px-4 py-3 text-left text-xs font-semibold text-text-secondary uppercase tracking-wider">
                    <input type="checkbox" class="w-4 h-4 rounded border-border-light">
                  </th>
                  <th class="px-4 py-3 text-left text-xs font-semibold text-text-secondary uppercase tracking-wider">ì‚¬ìš©ì</th>
                  <th class="px-4 py-3 text-center text-xs font-semibold text-text-secondary uppercase tracking-wider">ì—­í• </th>
                  <th class="px-4 py-3 text-left text-xs font-semibold text-text-secondary uppercase tracking-wider">ì†Œì† í•™ì›</th>
                  <th class="px-4 py-3 text-center text-xs font-semibold text-text-secondary uppercase tracking-wider">ìƒíƒœ</th>
                  <th class="px-4 py-3 text-center text-xs font-semibold text-text-secondary uppercase tracking-wider">ìµœê·¼ ì ‘ì†</th>
                  <th class="px-4 py-3 text-center text-xs font-semibold text-text-secondary uppercase tracking-wider">ê°€ì…ì¼</th>
                  <th class="px-4 py-3 text-center text-xs font-semibold text-text-secondary uppercase tracking-wider">ê´€ë¦¬</th>
                </tr>
              </thead>
              <tbody class="divide-y divide-border-light">
                <!-- í•™ì› ê´€ë¦¬ì -->
                <tr class="table-row cursor-pointer" onclick="openUserModal('admin', 'USR001')">
                  <td class="px-4 py-4" onclick="event.stopPropagation()">
                    <input type="checkbox" class="user-checkbox w-4 h-4 rounded border-border-light" data-id="USR001" data-name="ê¹€ê´€ë¦¬" onchange="updateBulkSelection()">
                  </td>
                  <td class="px-4 py-4">
                    <div class="flex items-center gap-3">
                      <div class="w-10 h-10 rounded-full bg-primary-light flex items-center justify-center">
                        <span class="font-bold text-primary">ê¹€</span>
                      </div>
                      <div>
                        <p class="font-medium text-navy">ê¹€ê´€ë¦¬</p>
                        <p class="text-xs text-text-tertiary">admin@mbh.com</p>
                      </div>
                    </div>
                  </td>
                  <td class="px-4 py-4 text-center">
                    <span class="status-badge bg-primary-light text-primary">ê´€ë¦¬ì</span>
                  </td>
                  <td class="px-4 py-4">
                    <p class="text-sm font-medium">ëª…ë¶ˆí—ˆì „í•™ì›</p>
                    <p class="text-xs text-text-tertiary">MBH001</p>
                  </td>
                  <td class="px-4 py-4 text-center">
                    <span class="status-badge bg-success text-white">í™œì„±</span>
                  </td>
                  <td class="px-4 py-4 text-center text-sm text-text-secondary">ì˜¤ëŠ˜ 10:32</td>
                  <td class="px-4 py-4 text-center text-sm text-text-secondary">2024.08.15</td>
                  <td class="px-4 py-4 text-center" onclick="event.stopPropagation()">
                    <div class="flex items-center justify-center gap-1">
                      <button onclick="openUserModal('admin', 'USR001')" class="p-2 hover:bg-gray-100 rounded-lg" title="ìƒì„¸">
                        <span class="material-icons-round text-text-secondary text-lg">visibility</span>
                      </button>
                      <button onclick="openEditUserModal('admin', 'USR001')" class="p-2 hover:bg-gray-100 rounded-lg" title="ìˆ˜ì •">
                        <span class="material-icons-round text-text-secondary text-lg">edit</span>
                      </button>
                      <button onclick="openUserActivityModal('admin', 'USR001')" class="p-2 hover:bg-gray-100 rounded-lg" title="í™œë™ë¡œê·¸">
                        <span class="material-icons-round text-text-secondary text-lg">history</span>
                      </button>
                    </div>
                  </td>
                </tr>
                
                <!-- ê°•ì‚¬ -->
                <tr class="table-row cursor-pointer" onclick="openUserModal('instructor', 'USR002')">
                  <td class="px-4 py-4" onclick="event.stopPropagation()">
                    <input type="checkbox" class="user-checkbox w-4 h-4 rounded border-border-light" data-id="USR002" data-name="ë°•ì„ ìƒ" onchange="updateBulkSelection()">
                  </td>
                  <td class="px-4 py-4">
                    <div class="flex items-center gap-3">
                      <div class="w-10 h-10 rounded-full bg-planner-light flex items-center justify-center">
                        <span class="font-bold text-planner">ë°•</span>
                      </div>
                      <div>
                        <p class="font-medium text-navy">ë°•ì„ ìƒ</p>
                        <p class="text-xs text-text-tertiary">teacher.park@mbh.com</p>
                      </div>
                    </div>
                  </td>
                  <td class="px-4 py-4 text-center">
                    <span class="status-badge bg-planner-light text-planner">ê°•ì‚¬</span>
                  </td>
                  <td class="px-4 py-4">
                    <p class="text-sm font-medium">ëª…ë¶ˆí—ˆì „í•™ì›</p>
                    <p class="text-xs text-text-tertiary">MBH001</p>
                  </td>
                  <td class="px-4 py-4 text-center">
                    <span class="status-badge bg-success text-white">í™œì„±</span>
                  </td>
                  <td class="px-4 py-4 text-center text-sm text-text-secondary">ì–´ì œ 18:45</td>
                  <td class="px-4 py-4 text-center text-sm text-text-secondary">2024.09.01</td>
                  <td class="px-4 py-4 text-center" onclick="event.stopPropagation()">
                    <div class="flex items-center justify-center gap-1">
                      <button onclick="openUserModal('instructor', 'USR002')" class="p-2 hover:bg-gray-100 rounded-lg" title="ìƒì„¸">
                        <span class="material-icons-round text-text-secondary text-lg">visibility</span>
                      </button>
                      <button onclick="openEditUserModal('instructor', 'USR002')" class="p-2 hover:bg-gray-100 rounded-lg" title="ìˆ˜ì •">
                        <span class="material-icons-round text-text-secondary text-lg">edit</span>
                      </button>
                      <button onclick="openUserActivityModal('instructor', 'USR002')" class="p-2 hover:bg-gray-100 rounded-lg" title="í™œë™ë¡œê·¸">
                        <span class="material-icons-round text-text-secondary text-lg">history</span>
                      </button>
                    </div>
                  </td>
                </tr>
                
                <!-- í•™ìƒ -->
                <tr class="table-row cursor-pointer" onclick="openUserModal('student', 'USR003')">
                  <td class="px-4 py-4" onclick="event.stopPropagation()">
                    <input type="checkbox" class="user-checkbox w-4 h-4 rounded border-border-light" data-id="USR003" data-name="ì´ë¯¼ì¤€" onchange="updateBulkSelection()">
                  </td>
                  <td class="px-4 py-4">
                    <div class="flex items-center gap-3">
                      <div class="w-10 h-10 rounded-full bg-korean-light flex items-center justify-center">
                        <span class="font-bold text-korean">ì´</span>
                      </div>
                      <div>
                        <p class="font-medium text-navy">ì´ë¯¼ì¤€</p>
                        <p class="text-xs text-text-tertiary">010-1234-5678</p>
                      </div>
                    </div>
                  </td>
                  <td class="px-4 py-4 text-center">
                    <span class="status-badge bg-korean-light text-korean">í•™ìƒ</span>
                  </td>
                  <td class="px-4 py-4">
                    <p class="text-sm font-medium">ëª…ë¶ˆí—ˆì „í•™ì›</p>
                    <p class="text-xs text-text-tertiary">ì¤‘2 Â· Aë°˜</p>
                  </td>
                  <td class="px-4 py-4 text-center">
                    <span class="status-badge bg-success text-white">í™œì„±</span>
                  </td>
                  <td class="px-4 py-4 text-center text-sm text-text-secondary">ì˜¤ëŠ˜ 09:15</td>
                  <td class="px-4 py-4 text-center text-sm text-text-secondary">2024.09.10</td>
                  <td class="px-4 py-4 text-center" onclick="event.stopPropagation()">
                    <div class="flex items-center justify-center gap-1">
                      <button onclick="openUserModal('student', 'USR003')" class="p-2 hover:bg-gray-100 rounded-lg" title="ìƒì„¸">
                        <span class="material-icons-round text-text-secondary text-lg">visibility</span>
                      </button>
                      <button onclick="openEditUserModal('student', 'USR003')" class="p-2 hover:bg-gray-100 rounded-lg" title="ìˆ˜ì •">
                        <span class="material-icons-round text-text-secondary text-lg">edit</span>
                      </button>
                      <button onclick="openUserActivityModal('student', 'USR003')" class="p-2 hover:bg-gray-100 rounded-lg" title="í™œë™ë¡œê·¸">
                        <span class="material-icons-round text-text-secondary text-lg">history</span>
                      </button>
                    </div>
                  </td>
                </tr>
                
                <!-- í•™ë¶€ëª¨ -->
                <tr class="table-row cursor-pointer" onclick="openUserModal('parent', 'USR004')">
                  <td class="px-4 py-4" onclick="event.stopPropagation()">
                    <input type="checkbox" class="user-checkbox w-4 h-4 rounded border-border-light" data-id="USR004" data-name="ìµœí•™ë¶€ëª¨" onchange="updateBulkSelection()">
                  </td>
                  <td class="px-4 py-4">
                    <div class="flex items-center gap-3">
                      <div class="w-10 h-10 rounded-full bg-english-light flex items-center justify-center">
                        <span class="font-bold text-english">ìµœ</span>
                      </div>
                      <div>
                        <p class="font-medium text-navy">ìµœí•™ë¶€ëª¨</p>
                        <p class="text-xs text-text-tertiary">010-9876-5432</p>
                      </div>
                    </div>
                  </td>
                  <td class="px-4 py-4 text-center">
                    <span class="status-badge bg-english-light text-english">í•™ë¶€ëª¨</span>
                  </td>
                  <td class="px-4 py-4">
                    <p class="text-sm font-medium">ëª…ë¶ˆí—ˆì „í•™ì›</p>
                    <p class="text-xs text-text-tertiary">ìë…€: ì´ë¯¼ì¤€</p>
                  </td>
                  <td class="px-4 py-4 text-center">
                    <span class="status-badge bg-success text-white">í™œì„±</span>
                  </td>
                  <td class="px-4 py-4 text-center text-sm text-text-secondary">01.05</td>
                  <td class="px-4 py-4 text-center text-sm text-text-secondary">2024.09.10</td>
                  <td class="px-4 py-4 text-center" onclick="event.stopPropagation()">
                    <div class="flex items-center justify-center gap-1">
                      <button onclick="openUserModal('parent', 'USR004')" class="p-2 hover:bg-gray-100 rounded-lg" title="ìƒì„¸">
                        <span class="material-icons-round text-text-secondary text-lg">visibility</span>
                      </button>
                      <button onclick="openEditUserModal('parent', 'USR004')" class="p-2 hover:bg-gray-100 rounded-lg" title="ìˆ˜ì •">
                        <span class="material-icons-round text-text-secondary text-lg">edit</span>
                      </button>
                      <button onclick="openUserActivityModal('parent', 'USR004')" class="p-2 hover:bg-gray-100 rounded-lg" title="í™œë™ë¡œê·¸">
                        <span class="material-icons-round text-text-secondary text-lg">history</span>
                      </button>
                    </div>
                  </td>
                </tr>
                
                <!-- ë¹„í™œì„± ì‚¬ìš©ì -->
                <tr class="table-row cursor-pointer opacity-60" onclick="openUserModal('student', 'USR005')">
                  <td class="px-4 py-4" onclick="event.stopPropagation()">
                    <input type="checkbox" class="user-checkbox w-4 h-4 rounded border-border-light" data-id="USR005" data-name="ì •íœ´í•™" onchange="updateBulkSelection()">
                  </td>
                  <td class="px-4 py-4">
                    <div class="flex items-center gap-3">
                      <div class="w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center">
                        <span class="font-bold text-text-tertiary">ì •</span>
                      </div>
                      <div>
                        <p class="font-medium text-text-secondary">ì •íœ´í•™</p>
                        <p class="text-xs text-text-tertiary">010-5555-6666</p>
                      </div>
                    </div>
                  </td>
                  <td class="px-4 py-4 text-center">
                    <span class="status-badge bg-gray-100 text-text-tertiary">í•™ìƒ</span>
                  </td>
                  <td class="px-4 py-4">
                    <p class="text-sm text-text-secondary">ê°•ë‚¨ìˆ˜í•™í•™ì›</p>
                    <p class="text-xs text-text-tertiary">ì¤‘3 Â· Bë°˜</p>
                  </td>
                  <td class="px-4 py-4 text-center">
                    <span class="status-badge bg-gray-200 text-text-tertiary">ë¹„í™œì„±</span>
                  </td>
                  <td class="px-4 py-4 text-center text-sm text-text-tertiary">30ì¼ ì „</td>
                  <td class="px-4 py-4 text-center text-sm text-text-tertiary">2024.06.01</td>
                  <td class="px-4 py-4 text-center" onclick="event.stopPropagation()">
                    <div class="flex items-center justify-center gap-1">
                      <button onclick="openUserModal('student', 'USR005')" class="p-2 hover:bg-gray-100 rounded-lg" title="ìƒì„¸">
                        <span class="material-icons-round text-text-tertiary text-lg">visibility</span>
                      </button>
                      <button onclick="openActivateUserModal('USR005', 'ì •íœ´í•™', 'í•™ìƒ', 'ê°•ë‚¨ìˆ˜í•™í•™ì›')" class="p-2 hover:bg-success-light rounded-lg" title="í™œì„±í™”">
                        <span class="material-icons-round text-success text-lg">check_circle</span>
                      </button>
                    </div>
                  </td>
                </tr>
                
                <!-- ì •ì§€ëœ ì‚¬ìš©ì -->
                <tr class="table-row cursor-pointer bg-error-light/20" onclick="openUserModal('student', 'USR006')">
                  <td class="px-4 py-4" onclick="event.stopPropagation()">
                    <input type="checkbox" class="user-checkbox w-4 h-4 rounded border-border-light" data-id="USR006" data-name="í•œë¬¸ì œ" onchange="updateBulkSelection()">
                  </td>
                  <td class="px-4 py-4">
                    <div class="flex items-center gap-3">
                      <div class="w-10 h-10 rounded-full bg-error-light flex items-center justify-center">
                        <span class="font-bold text-error">í•œ</span>
                      </div>
                      <div>
                        <p class="font-medium text-navy">í•œë¬¸ì œ</p>
                        <p class="text-xs text-text-tertiary">010-7777-8888</p>
                      </div>
                    </div>
                  </td>
                  <td class="px-4 py-4 text-center">
                    <span class="status-badge bg-korean-light text-korean">í•™ìƒ</span>
                  </td>
                  <td class="px-4 py-4">
                    <p class="text-sm font-medium">ë¶„ë‹¹ì˜ì¬í•™ì›</p>
                    <p class="text-xs text-text-tertiary">ê³ 1 Â· Cë°˜</p>
                  </td>
                  <td class="px-4 py-4 text-center">
                    <span class="status-badge bg-error text-white">ì •ì§€</span>
                  </td>
                  <td class="px-4 py-4 text-center text-sm text-text-secondary">01.02</td>
                  <td class="px-4 py-4 text-center text-sm text-text-secondary">2024.03.15</td>
                  <td class="px-4 py-4 text-center" onclick="event.stopPropagation()">
                    <div class="flex items-center justify-center gap-1">
                      <button onclick="openUserModal('student', 'USR006')" class="p-2 hover:bg-gray-100 rounded-lg" title="ìƒì„¸">
                        <span class="material-icons-round text-text-secondary text-lg">visibility</span>
                      </button>
                      <button onclick="openUnsuspendUserModal('USR006', 'í•œë¬¸ì œ', 'í•™ìƒ', 'ë¶„ë‹¹ì˜ì¬í•™ì›')" class="p-2 hover:bg-success-light rounded-lg" title="ì •ì§€ í•´ì œ">
                        <span class="material-icons-round text-success text-lg">lock_open</span>
                      </button>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          
          <!-- í˜ì´ì§€ë„¤ì´ì…˜ -->
          <div class="px-6 py-4 border-t border-border-light flex flex-col sm:flex-row items-center justify-between gap-4">
            <p class="text-sm text-text-secondary">ì´ <span class="font-bold text-navy">5,847ëª…</span> ì¤‘ 1-20 í‘œì‹œ</p>
            <div class="flex items-center gap-2">
              <button class="p-2 border border-border-light rounded-lg hover:bg-gray-50 disabled:opacity-50" disabled>
                <span class="material-icons-round text-sm">chevron_left</span>
              </button>
              <button class="w-10 h-10 gradient-super text-white rounded-lg font-medium">1</button>
              <button class="w-10 h-10 border border-border-light rounded-lg hover:bg-gray-50 font-medium">2</button>
              <button class="w-10 h-10 border border-border-light rounded-lg hover:bg-gray-50 font-medium">3</button>
              <span class="px-2 text-text-tertiary">...</span>
              <button class="w-10 h-10 border border-border-light rounded-lg hover:bg-gray-50 font-medium">293</button>
              <button class="p-2 border border-border-light rounded-lg hover:bg-gray-50">
                <span class="material-icons-round text-sm">chevron_right</span>
              </button>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>
  
  <!-- ì‚¬ìš©ì ìƒì„¸ ëª¨ë‹¬ -->
  <div id="userModal" class="modal-overlay fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4" onclick="closeUserModal()">
    <div class="modal-content bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden" onclick="event.stopPropagation()">
      <!-- ëª¨ë‹¬ í—¤ë” -->
      <div class="px-6 py-4 border-b border-border-light flex items-center justify-between">
        <div class="flex items-center gap-4">
          <div class="w-14 h-14 rounded-full bg-korean-light flex items-center justify-center">
            <span class="font-bold text-korean text-xl">ì´</span>
          </div>
          <div>
            <div class="flex items-center gap-2">
              <h2 class="text-lg font-bold text-navy">ì´ë¯¼ì¤€</h2>
              <span class="status-badge bg-korean-light text-korean">í•™ìƒ</span>
              <span class="status-badge bg-success text-white">í™œì„±</span>
            </div>
            <p class="text-sm text-text-secondary">ëª…ë¶ˆí—ˆì „í•™ì› Â· ì¤‘2 Aë°˜</p>
          </div>
        </div>
        <button onclick="closeUserModal()" class="p-2 hover:bg-gray-100 rounded-lg">
          <span class="material-icons-round">close</span>
        </button>
      </div>
      
      <div class="p-6 overflow-y-auto max-h-[60vh]">
        <!-- ê¸°ë³¸ ì •ë³´ -->
        <div class="mb-6">
          <h3 class="font-bold text-navy flex items-center gap-2 mb-4">
            <span class="material-icons-round text-super">person</span>
            ê¸°ë³¸ ì •ë³´
          </h3>
          <div class="grid grid-cols-2 gap-4">
            <div class="bg-gray-50 rounded-xl p-4">
              <p class="text-xs text-text-secondary mb-1">ì´ë¦„</p>
              <p class="font-medium">ì´ë¯¼ì¤€</p>
            </div>
            <div class="bg-gray-50 rounded-xl p-4">
              <p class="text-xs text-text-secondary mb-1">ì—°ë½ì²˜</p>
              <p class="font-medium">010-1234-5678</p>
            </div>
            <div class="bg-gray-50 rounded-xl p-4">
              <p class="text-xs text-text-secondary mb-1">í•™êµ/í•™ë…„</p>
              <p class="font-medium">ì„œìš¸ì¤‘í•™êµ 2í•™ë…„</p>
            </div>
            <div class="bg-gray-50 rounded-xl p-4">
              <p class="text-xs text-text-secondary mb-1">í•™ë¶€ëª¨ ì—°ë½ì²˜</p>
              <p class="font-medium">010-9876-5432 (ìµœí•™ë¶€ëª¨)</p>
            </div>
          </div>
        </div>
        
        <!-- í•™ìŠµ í˜„í™© -->
        <div class="mb-6">
          <h3 class="font-bold text-navy flex items-center gap-2 mb-4">
            <span class="material-icons-round text-super">trending_up</span>
            í•™ìŠµ í˜„í™©
          </h3>
          <div class="grid grid-cols-3 gap-4">
            <div class="bg-korean-light/50 rounded-xl p-4 text-center">
              <p class="text-2xl font-bold text-korean">87%</p>
              <p class="text-xs text-text-secondary">êµ­ì–´ ì •ë‹µë¥ </p>
            </div>
            <div class="bg-english-light/50 rounded-xl p-4 text-center">
              <p class="text-2xl font-bold text-english">1,250</p>
              <p class="text-xs text-text-secondary">ì˜ì–´ ë‹¨ì–´</p>
            </div>
            <div class="bg-math-light/50 rounded-xl p-4 text-center">
              <p class="text-2xl font-bold" style="color: #9A7B0A;">92%</p>
              <p class="text-xs text-text-secondary">ìˆ˜í•™ ì •ë‹µë¥ </p>
            </div>
          </div>
        </div>
        
        <!-- ê³„ì • ì •ë³´ -->
        <div class="mb-6">
          <h3 class="font-bold text-navy flex items-center gap-2 mb-4">
            <span class="material-icons-round text-super">security</span>
            ê³„ì • ì •ë³´
          </h3>
          <div class="grid grid-cols-2 gap-4">
            <div class="bg-gray-50 rounded-xl p-4">
              <p class="text-xs text-text-secondary mb-1">ê°€ì…ì¼</p>
              <p class="font-medium">2024.09.10</p>
            </div>
            <div class="bg-gray-50 rounded-xl p-4">
              <p class="text-xs text-text-secondary mb-1">ìµœê·¼ ì ‘ì†</p>
              <p class="font-medium">ì˜¤ëŠ˜ 09:15</p>
            </div>
            <div class="bg-gray-50 rounded-xl p-4">
              <p class="text-xs text-text-secondary mb-1">ì´ í•™ìŠµ ì‹œê°„</p>
              <p class="font-medium">128ì‹œê°„ 32ë¶„</p>
            </div>
            <div class="bg-gray-50 rounded-xl p-4">
              <p class="text-xs text-text-secondary mb-1">ì—°ì† ì¶œì„</p>
              <p class="font-medium">15ì¼ ğŸ”¥</p>
            </div>
          </div>
        </div>
        
        <!-- ê´€ë¦¬ ì•¡ì…˜ -->
        <div>
          <h3 class="font-bold text-navy flex items-center gap-2 mb-4">
            <span class="material-icons-round text-super">settings</span>
            ê³„ì • ê´€ë¦¬
          </h3>
          <div class="flex flex-wrap gap-3">
            <button onclick="openUserActivityFromDetail()" class="px-4 py-2 border border-border-light rounded-xl hover:bg-gray-50 flex items-center gap-2 text-sm">
              <span class="material-icons-round text-sm">history</span>
              í™œë™ ë¡œê·¸
            </button>
            <button onclick="openResetUserPwModal()" class="px-4 py-2 border border-border-light rounded-xl hover:bg-gray-50 flex items-center gap-2 text-sm">
              <span class="material-icons-round text-sm">lock_reset</span>
              ë¹„ë°€ë²ˆí˜¸ ì´ˆê¸°í™”
            </button>
            <button onclick="openTransferUserModal()" class="px-4 py-2 border border-border-light rounded-xl hover:bg-gray-50 flex items-center gap-2 text-sm">
              <span class="material-icons-round text-sm">swap_horiz</span>
              í•™ì› ì´ë™
            </button>
            <button onclick="openSuspendUserModal()" class="px-4 py-2 border border-warning text-warning rounded-xl hover:bg-warning-light flex items-center gap-2 text-sm">
              <span class="material-icons-round text-sm">block</span>
              ê³„ì • ì •ì§€
            </button>
            <button onclick="openDeleteUserModal()" class="px-4 py-2 border border-error text-error rounded-xl hover:bg-error-light flex items-center gap-2 text-sm">
              <span class="material-icons-round text-sm">delete</span>
              ê³„ì • ì‚­ì œ
            </button>
          </div>
        </div>
      </div>
      
      <!-- ëª¨ë‹¬ í‘¸í„° -->
      <div class="px-6 py-4 border-t border-border-light flex justify-end gap-3">
        <button onclick="closeUserModal()" class="px-6 py-2 border border-border-light rounded-xl hover:bg-gray-50">
          ë‹«ê¸°
        </button>
        <button onclick="openEditUserFromDetail()" class="px-6 py-2 gradient-super text-white rounded-xl hover:opacity-90">
          ì •ë³´ ìˆ˜ì •
        </button>
      </div>
    </div>
  </div>
  
  <!-- ê³„ì • ì •ì§€ ëª¨ë‹¬ -->
  <div id="suspendUserModal" class="modal-overlay fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4" onclick="closeSuspendUserModal()">
    <div class="modal-content bg-white rounded-2xl w-full max-w-md overflow-hidden" onclick="event.stopPropagation()">
      <div class="px-6 py-4 border-b border-warning bg-warning-light flex items-center gap-3">
        <span class="material-icons-round text-warning text-2xl">block</span>
        <h2 class="text-lg font-bold text-warning">ê³„ì • ì •ì§€</h2>
      </div>
      
      <div class="p-6">
        <!-- ì‚¬ìš©ì ì •ë³´ -->
        <div class="bg-gray-50 rounded-xl p-4 mb-4 flex items-center gap-3">
          <div id="suspendUserAvatar" class="w-12 h-12 rounded-full bg-super-light flex items-center justify-center">
            <span class="font-bold text-super text-lg">ê¹€</span>
          </div>
          <div>
            <p class="font-medium text-navy" id="suspendUserName">ê¹€ê´€ë¦¬</p>
            <p class="text-sm text-text-secondary" id="suspendUserRole">ê´€ë¦¬ì Â· ëª…ë¶ˆí—ˆì „í•™ì›</p>
          </div>
        </div>
        
        <!-- ì •ì§€ ì‚¬ìœ  -->
        <div class="mb-4">
          <label class="block text-sm font-medium text-navy mb-2">ì •ì§€ ì‚¬ìœ  <span class="text-error">*</span></label>
          <select id="suspendUserReason" class="w-full px-4 py-3 border border-border-light rounded-xl focus:outline-none focus:ring-2 focus:ring-warning/20 focus:border-warning" onchange="checkSuspendUserForm()">
            <option value="">ì‚¬ìœ ë¥¼ ì„ íƒí•˜ì„¸ìš”</option>
            <option value="policy_violation">ì´ìš© ì •ì±… ìœ„ë°˜</option>
            <option value="abuse">ì„œë¹„ìŠ¤ ë‚¨ìš©</option>
            <option value="inactive">ì¥ê¸° ë¯¸ì‚¬ìš©</option>
            <option value="academy_request">í•™ì› ìš”ì²­</option>
            <option value="other">ê¸°íƒ€</option>
          </select>
        </div>
        
        <!-- ì •ì§€ ê¸°ê°„ -->
        <div class="mb-4">
          <label class="block text-sm font-medium text-navy mb-2">ì •ì§€ ê¸°ê°„</label>
          <div class="grid grid-cols-4 gap-2">
            <label class="flex items-center justify-center p-3 border-2 border-warning bg-warning-light rounded-xl cursor-pointer">
              <input type="radio" name="suspendUserPeriod" value="7" class="hidden" checked>
              <span class="text-sm font-medium text-warning">7ì¼</span>
            </label>
            <label class="flex items-center justify-center p-3 border border-border-light rounded-xl cursor-pointer hover:border-warning">
              <input type="radio" name="suspendUserPeriod" value="30" class="hidden">
              <span class="text-sm">30ì¼</span>
            </label>
            <label class="flex items-center justify-center p-3 border border-border-light rounded-xl cursor-pointer hover:border-warning">
              <input type="radio" name="suspendUserPeriod" value="90" class="hidden">
              <span class="text-sm">90ì¼</span>
            </label>
            <label class="flex items-center justify-center p-3 border border-border-light rounded-xl cursor-pointer hover:border-warning">
              <input type="radio" name="suspendUserPeriod" value="0" class="hidden">
              <span class="text-sm">ë¬´ê¸°í•œ</span>
            </label>
          </div>
        </div>
        
        <!-- ìƒì„¸ ì‚¬ìœ  -->
        <div class="mb-4">
          <label class="block text-sm font-medium text-navy mb-2">ìƒì„¸ ë‚´ìš©</label>
          <textarea id="suspendUserDetail" placeholder="ì •ì§€ ì‚¬ìœ ë¥¼ ìƒì„¸íˆ ì…ë ¥í•˜ì„¸ìš”..." 
                    class="w-full px-4 py-3 border border-border-light rounded-xl focus:outline-none focus:ring-2 focus:ring-warning/20 focus:border-warning resize-none h-20"></textarea>
        </div>
        
        <!-- í™•ì¸ ì²´í¬ë°•ìŠ¤ -->
        <label class="flex items-start gap-3 p-4 bg-warning-light rounded-xl cursor-pointer">
          <input type="checkbox" id="suspendUserConfirm" class="mt-0.5 accent-warning" onchange="checkSuspendUserForm()">
          <span class="text-sm text-warning">í•´ë‹¹ ì‚¬ìš©ìì˜ ê³„ì •ì„ ì •ì§€í•˜ë©°, ì •ì§€ ê¸°ê°„ ë™ì•ˆ ì„œë¹„ìŠ¤ ì´ìš©ì´ ë¶ˆê°€í•¨ì„ ì´í•´í•©ë‹ˆë‹¤.</span>
        </label>
      </div>
      
      <div class="px-6 py-4 border-t border-border-light flex justify-end gap-3">
        <button onclick="closeSuspendUserModal()" class="px-6 py-2.5 border border-border-light rounded-xl hover:bg-gray-50">
          ì·¨ì†Œ
        </button>
        <button id="confirmSuspendUserBtn" onclick="confirmSuspendUser()" class="px-6 py-2.5 bg-warning text-white rounded-xl hover:bg-warning/90 disabled:opacity-50 flex items-center gap-2" disabled>
          <span class="material-icons-round text-sm">block</span>
          ê³„ì • ì •ì§€
        </button>
      </div>
    </div>
  </div>
  
  <!-- ê³„ì • ì‚­ì œ ëª¨ë‹¬ -->
  <div id="deleteUserModal" class="modal-overlay fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4" onclick="closeDeleteUserModal()">
    <div class="modal-content bg-white rounded-2xl w-full max-w-md overflow-hidden" onclick="event.stopPropagation()">
      <div class="px-6 py-4 border-b border-error bg-error-light flex items-center gap-3">
        <span class="material-icons-round text-error text-2xl">delete_forever</span>
        <h2 class="text-lg font-bold text-error">ê³„ì • ì‚­ì œ</h2>
      </div>
      
      <div class="p-6">
        <div class="bg-gray-50 rounded-xl p-4 mb-4 flex items-center gap-3">
          <div id="deleteUserAvatar" class="w-12 h-12 rounded-full bg-super-light flex items-center justify-center">
            <span class="font-bold text-super text-lg">ê¹€</span>
          </div>
          <div>
            <p class="font-medium text-navy" id="deleteUserName">ê¹€ê´€ë¦¬</p>
            <p class="text-sm text-text-secondary" id="deleteUserRole">ê´€ë¦¬ì Â· ëª…ë¶ˆí—ˆì „í•™ì›</p>
          </div>
        </div>
        
        <div class="bg-error-light rounded-xl p-4 mb-4">
          <p class="text-sm text-error flex items-start gap-2">
            <span class="material-icons-round text-lg">warning</span>
            <span>ê³„ì • ì‚­ì œ ì‹œ í•´ë‹¹ ì‚¬ìš©ìì˜ ëª¨ë“  ë°ì´í„°(í•™ìŠµ ê¸°ë¡, ìƒë‹´ ê¸°ë¡ ë“±)ê°€ ì˜êµ¬ ì‚­ì œë©ë‹ˆë‹¤. ì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</span>
          </p>
        </div>
        
        <!-- ì‚­ì œ ì‚¬ìœ  -->
        <div class="mb-4">
          <label class="block text-sm font-medium text-navy mb-2">ì‚­ì œ ì‚¬ìœ  <span class="text-error">*</span></label>
          <select id="deleteUserReason" class="w-full px-4 py-3 border border-border-light rounded-xl focus:outline-none focus:ring-2 focus:ring-error/20 focus:border-error" onchange="checkDeleteUserForm()">
            <option value="">ì‚¬ìœ ë¥¼ ì„ íƒí•˜ì„¸ìš”</option>
            <option value="user_request">ë³¸ì¸ ìš”ì²­</option>
            <option value="academy_request">í•™ì› ìš”ì²­</option>
            <option value="policy_violation">ì‹¬ê°í•œ ì •ì±… ìœ„ë°˜</option>
            <option value="duplicate">ì¤‘ë³µ ê³„ì •</option>
            <option value="other">ê¸°íƒ€</option>
          </select>
        </div>
        
        <!-- ì´ë¦„ ì…ë ¥ í™•ì¸ -->
        <div class="mb-4">
          <label class="block text-sm font-medium text-navy mb-2">í™•ì¸ì„ ìœ„í•´ ì‚¬ìš©ì ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”</label>
          <input type="text" id="deleteUserNameConfirm" placeholder="ì‚¬ìš©ì ì´ë¦„ ì…ë ¥" 
                 class="w-full px-4 py-3 border border-border-light rounded-xl focus:outline-none focus:ring-2 focus:ring-error/20 focus:border-error"
                 oninput="checkDeleteUserForm()">
        </div>
        
        <!-- í™•ì¸ ì²´í¬ë°•ìŠ¤ -->
        <label class="flex items-start gap-3 p-4 bg-error-light rounded-xl cursor-pointer">
          <input type="checkbox" id="deleteUserConfirm" class="mt-0.5 accent-error" onchange="checkDeleteUserForm()">
          <span class="text-sm text-error">ì‚­ì œì— ë™ì˜í•˜ë©°, ì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŒì„ ì´í•´í•©ë‹ˆë‹¤.</span>
        </label>
      </div>
      
      <div class="px-6 py-4 border-t border-border-light flex justify-end gap-3">
        <button onclick="closeDeleteUserModal()" class="px-6 py-2.5 border border-border-light rounded-xl hover:bg-gray-50">
          ì·¨ì†Œ
        </button>
        <button id="confirmDeleteUserBtn" onclick="confirmDeleteUser()" class="px-6 py-2.5 bg-error text-white rounded-xl hover:bg-error/90 disabled:opacity-50 flex items-center gap-2" disabled>
          <span class="material-icons-round text-sm">delete</span>
          ì‚­ì œ
        </button>
      </div>
    </div>
  </div>
  
  <!-- í•™ì› ì´ë™ ëª¨ë‹¬ -->
  <div id="transferUserModal" class="modal-overlay fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4" onclick="closeTransferUserModal()">
    <div class="modal-content bg-white rounded-2xl w-full max-w-md overflow-hidden" onclick="event.stopPropagation()">
      <div class="px-6 py-4 border-b border-border-light flex items-center justify-between">
        <h2 class="text-lg font-bold text-navy flex items-center gap-2">
          <span class="material-icons-round text-super">swap_horiz</span>
          í•™ì› ì´ë™
        </h2>
        <button onclick="closeTransferUserModal()" class="p-2 hover:bg-gray-100 rounded-lg">
          <span class="material-icons-round">close</span>
        </button>
      </div>
      
      <div class="p-6">
        <!-- ì´ë™ ëŒ€ìƒ ì‚¬ìš©ì -->
        <div class="bg-gray-50 rounded-xl p-4 mb-4 flex items-center gap-3">
          <div id="transferUserAvatar" class="w-12 h-12 rounded-full bg-korean-light flex items-center justify-center">
            <span class="font-bold text-korean text-lg">ì´</span>
          </div>
          <div class="flex-1">
            <p class="font-medium text-navy" id="transferUserName">ì´ë¯¼ì¤€</p>
            <p class="text-sm text-text-secondary" id="transferUserInfo">í•™ìƒ Â· ì¤‘2</p>
          </div>
        </div>
        
        <!-- í˜„ì¬ í•™ì› -->
        <div class="mb-4">
          <label class="block text-sm font-medium text-navy mb-2">í˜„ì¬ í•™ì›</label>
          <div class="px-4 py-3 bg-gray-100 rounded-xl text-text-secondary" id="currentAcademyDisplay">
            ëª…ë¶ˆí—ˆì „í•™ì› (MBH001)
          </div>
        </div>
        
        <!-- ì´ë™í•  í•™ì› -->
        <div class="mb-4">
          <label class="block text-sm font-medium text-navy mb-2">ì´ë™í•  í•™ì› <span class="text-error">*</span></label>
          <select id="targetAcademy" class="w-full px-4 py-3 border border-border-light rounded-xl focus:outline-none focus:ring-2 focus:ring-super/20 focus:border-super" onchange="updateTransferPreview()">
            <option value="">í•™ì›ì„ ì„ íƒí•˜ì„¸ìš”</option>
            <option value="GNM002" data-name="ê°•ë‚¨ìˆ˜í•™í•™ì›">ê°•ë‚¨ìˆ˜í•™í•™ì› (GNM002)</option>
            <option value="BDE004" data-name="ë¶„ë‹¹ì˜ì¬í•™ì›">ë¶„ë‹¹ì˜ì¬í•™ì› (BDE004)</option>
            <option value="ILS006" data-name="ì¼ì‚°ìˆ˜í•™í•™ì›">ì¼ì‚°ìˆ˜í•™í•™ì› (ILS006)</option>
          </select>
        </div>
        
        <!-- ì´ë™ ì˜µì…˜ -->
        <div class="space-y-3 mb-4">
          <label class="flex items-center gap-3 p-3 bg-gray-50 rounded-xl cursor-pointer">
            <input type="checkbox" id="transferWithData" class="accent-super" checked>
            <div>
              <p class="text-sm font-medium">í•™ìŠµ ë°ì´í„° í•¨ê»˜ ì´ë™</p>
              <p class="text-xs text-text-tertiary">ì„±í–¥ê²€ì‚¬, í•™ìŠµ ê¸°ë¡ ë“±</p>
            </div>
          </label>
          <label class="flex items-center gap-3 p-3 bg-gray-50 rounded-xl cursor-pointer">
            <input type="checkbox" id="notifyUser" class="accent-super" checked>
            <div>
              <p class="text-sm font-medium">ì‚¬ìš©ìì—ê²Œ ì•Œë¦¼ ë°œì†¡</p>
              <p class="text-xs text-text-tertiary">í•™ì› ë³€ê²½ ì•ˆë‚´ SMS ë°œì†¡</p>
            </div>
          </label>
        </div>
        
        <!-- ì´ë™ ë¯¸ë¦¬ë³´ê¸° -->
        <div id="transferPreview" class="hidden bg-super-light rounded-xl p-4">
          <div class="flex items-center justify-center gap-4">
            <div class="text-center">
              <p class="text-xs text-text-secondary mb-1">í˜„ì¬</p>
              <p class="font-medium text-sm">ëª…ë¶ˆí—ˆì „í•™ì›</p>
            </div>
            <span class="material-icons-round text-super">arrow_forward</span>
            <div class="text-center">
              <p class="text-xs text-text-secondary mb-1">ì´ë™</p>
              <p class="font-medium text-sm text-super" id="targetAcademyPreview">-</p>
            </div>
          </div>
        </div>
      </div>
      
      <div class="px-6 py-4 border-t border-border-light flex justify-end gap-3">
        <button onclick="closeTransferUserModal()" class="px-6 py-2.5 border border-border-light rounded-xl hover:bg-gray-50">
          ì·¨ì†Œ
        </button>
        <button id="confirmTransferBtn" onclick="confirmTransferUser()" class="px-6 py-2.5 gradient-super text-white rounded-xl hover:opacity-90 disabled:opacity-50 flex items-center gap-2" disabled>
          <span class="material-icons-round text-sm">swap_horiz</span>
          í•™ì› ì´ë™
        </button>
      </div>
    </div>
  </div>
  
  <!-- ë¹„ë°€ë²ˆí˜¸ ì´ˆê¸°í™” ëª¨ë‹¬ -->
  <div id="resetUserPwModal" class="modal-overlay fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4" onclick="closeResetUserPwModal()">
    <div class="modal-content bg-white rounded-2xl w-full max-w-md overflow-hidden" onclick="event.stopPropagation()">
      <div class="px-6 py-4 border-b border-border-light flex items-center justify-between">
        <h2 class="text-lg font-bold text-navy flex items-center gap-2">
          <span class="material-icons-round text-info">lock_reset</span>
          ë¹„ë°€ë²ˆí˜¸ ì´ˆê¸°í™”
        </h2>
        <button onclick="closeResetUserPwModal()" class="p-2 hover:bg-gray-100 rounded-lg">
          <span class="material-icons-round">close</span>
        </button>
      </div>
      
      <div class="p-6">
        <div class="bg-gray-50 rounded-xl p-4 mb-4 flex items-center gap-3">
          <div id="resetPwUserAvatar" class="w-12 h-12 rounded-full bg-super-light flex items-center justify-center">
            <span class="font-bold text-super text-lg">ê¹€</span>
          </div>
          <div>
            <p class="font-medium text-navy" id="resetPwUserName">ê¹€ê´€ë¦¬</p>
            <p class="text-sm text-text-secondary" id="resetPwUserContact">admin.kim@mbh.com</p>
          </div>
        </div>
        
        <div class="bg-info-light rounded-xl p-4 mb-4">
          <p class="text-sm text-info flex items-start gap-2">
            <span class="material-icons-round text-lg">info</span>
            <span>ë¹„ë°€ë²ˆí˜¸ê°€ ì´ˆê¸°í™”ë˜ë©´ ì„ì‹œ ë¹„ë°€ë²ˆí˜¸ê°€ ì‚¬ìš©ìì—ê²Œ SMSë¡œ ë°œì†¡ë©ë‹ˆë‹¤. ì²« ë¡œê·¸ì¸ ì‹œ ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ì´ í•„ìš”í•©ë‹ˆë‹¤.</span>
          </p>
        </div>
        
        <!-- ë°œì†¡ ë°©ë²• -->
        <div class="mb-4">
          <label class="block text-sm font-medium text-navy mb-2">ì„ì‹œ ë¹„ë°€ë²ˆí˜¸ ë°œì†¡ ë°©ë²•</label>
          <div class="space-y-2">
            <label class="flex items-center gap-3 p-3 border-2 border-super bg-super-light rounded-xl cursor-pointer">
              <input type="radio" name="resetMethod" value="sms" class="accent-super" checked>
              <div class="flex-1">
                <p class="text-sm font-medium">SMS</p>
                <p class="text-xs text-text-tertiary" id="resetPhonePreview">010-****-5678</p>
              </div>
            </label>
            <label class="flex items-center gap-3 p-3 border border-border-light rounded-xl cursor-pointer hover:border-super">
              <input type="radio" name="resetMethod" value="email" class="accent-super">
              <div class="flex-1">
                <p class="text-sm font-medium">ì´ë©”ì¼</p>
                <p class="text-xs text-text-tertiary" id="resetEmailPreview">admin.***@mbh.com</p>
              </div>
            </label>
          </div>
        </div>
        
        <!-- ê°•ì œ ë¡œê·¸ì•„ì›ƒ ì˜µì…˜ -->
        <label class="flex items-center gap-3 p-3 bg-gray-50 rounded-xl cursor-pointer">
          <input type="checkbox" id="forceLogoutOnReset" class="accent-super" checked>
          <span class="text-sm">í˜„ì¬ ë¡œê·¸ì¸ëœ ì„¸ì…˜ ê°•ì œ ë¡œê·¸ì•„ì›ƒ</span>
        </label>
      </div>
      
      <div class="px-6 py-4 border-t border-border-light flex justify-end gap-3">
        <button onclick="closeResetUserPwModal()" class="px-6 py-2.5 border border-border-light rounded-xl hover:bg-gray-50">
          ì·¨ì†Œ
        </button>
        <button onclick="confirmResetUserPw()" class="px-6 py-2.5 gradient-super text-white rounded-xl hover:opacity-90 flex items-center gap-2">
          <span class="material-icons-round text-sm">send</span>
          ì´ˆê¸°í™” ë° ë°œì†¡
        </button>
      </div>
    </div>
  </div>
  
  <!-- ì‚¬ìš©ì ì •ë³´ í¸ì§‘ ëª¨ë‹¬ -->
  <div id="editUserModal" class="modal-overlay fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4" onclick="closeEditUserModal()">
    <div class="modal-content bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden" onclick="event.stopPropagation()">
      <div class="px-6 py-4 border-b border-border-light flex items-center justify-between">
        <div class="flex items-center gap-3">
          <div class="w-10 h-10 rounded-xl gradient-super flex items-center justify-center">
            <span class="material-icons-round text-white">edit</span>
          </div>
          <div>
            <h2 class="text-lg font-bold text-navy">ì‚¬ìš©ì ì •ë³´ í¸ì§‘</h2>
            <p class="text-sm text-text-secondary" id="editUserSubtitle">ì´ë¯¼ì¤€ Â· í•™ìƒ</p>
          </div>
        </div>
        <button onclick="closeEditUserModal()" class="p-2 hover:bg-gray-100 rounded-lg">
          <span class="material-icons-round">close</span>
        </button>
      </div>
      
      <div class="p-6 overflow-y-auto max-h-[60vh]">
        <!-- ê¸°ë³¸ ì •ë³´ ì„¹ì…˜ -->
        <div class="mb-6">
          <h3 class="font-bold text-navy flex items-center gap-2 mb-4">
            <span class="material-icons-round text-super text-sm">person</span>
            ê¸°ë³¸ ì •ë³´
          </h3>
          <div class="grid grid-cols-2 gap-4">
            <div>
              <label class="block text-sm font-medium text-navy mb-2">ì´ë¦„ <span class="text-error">*</span></label>
              <input type="text" id="editUserName" class="w-full px-4 py-3 border border-border-light rounded-xl focus:outline-none focus:ring-2 focus:ring-super/20 focus:border-super" value="ì´ë¯¼ì¤€">
            </div>
            <div>
              <label class="block text-sm font-medium text-navy mb-2">ì—°ë½ì²˜ <span class="text-error">*</span></label>
              <input type="tel" id="editUserPhone" class="w-full px-4 py-3 border border-border-light rounded-xl focus:outline-none focus:ring-2 focus:ring-super/20 focus:border-super" value="010-1234-5678">
            </div>
            <div>
              <label class="block text-sm font-medium text-navy mb-2">ì´ë©”ì¼</label>
              <input type="email" id="editUserEmail" class="w-full px-4 py-3 border border-border-light rounded-xl focus:outline-none focus:ring-2 focus:ring-super/20 focus:border-super" placeholder="ì´ë©”ì¼ ì…ë ¥">
            </div>
            <div>
              <label class="block text-sm font-medium text-navy mb-2">ìƒíƒœ</label>
              <select id="editUserStatus" class="w-full px-4 py-3 border border-border-light rounded-xl focus:outline-none focus:ring-2 focus:ring-super/20 focus:border-super">
                <option value="active">í™œì„±</option>
                <option value="inactive">ë¹„í™œì„±</option>
                <option value="suspended">ì •ì§€</option>
              </select>
            </div>
          </div>
        </div>
        
        <!-- í•™ìƒ ì „ìš© ì„¹ì…˜ -->
        <div id="editStudentSection" class="mb-6">
          <h3 class="font-bold text-navy flex items-center gap-2 mb-4">
            <span class="material-icons-round text-korean text-sm">school</span>
            í•™ìƒ ì •ë³´
          </h3>
          <div class="grid grid-cols-2 gap-4">
            <div>
              <label class="block text-sm font-medium text-navy mb-2">í•™êµ</label>
              <input type="text" id="editStudentSchool" class="w-full px-4 py-3 border border-border-light rounded-xl focus:outline-none focus:ring-2 focus:ring-super/20 focus:border-super" value="ì„œìš¸ì¤‘í•™êµ">
            </div>
            <div>
              <label class="block text-sm font-medium text-navy mb-2">í•™ë…„</label>
              <select id="editStudentGrade" class="w-full px-4 py-3 border border-border-light rounded-xl focus:outline-none focus:ring-2 focus:ring-super/20 focus:border-super">
                <option>ì´ˆë“± 1í•™ë…„</option>
                <option>ì´ˆë“± 2í•™ë…„</option>
                <option>ì´ˆë“± 3í•™ë…„</option>
                <option>ì´ˆë“± 4í•™ë…„</option>
                <option>ì´ˆë“± 5í•™ë…„</option>
                <option>ì´ˆë“± 6í•™ë…„</option>
                <option>ì¤‘ë“± 1í•™ë…„</option>
                <option selected>ì¤‘ë“± 2í•™ë…„</option>
                <option>ì¤‘ë“± 3í•™ë…„</option>
                <option>ê³ ë“± 1í•™ë…„</option>
                <option>ê³ ë“± 2í•™ë…„</option>
                <option>ê³ ë“± 3í•™ë…„</option>
              </select>
            </div>
            <div>
              <label class="block text-sm font-medium text-navy mb-2">ì†Œì† ë°˜</label>
              <select id="editStudentClass" class="w-full px-4 py-3 border border-border-light rounded-xl focus:outline-none focus:ring-2 focus:ring-super/20 focus:border-super">
                <option selected>Aë°˜</option>
                <option>Bë°˜</option>
                <option>Cë°˜</option>
              </select>
            </div>
            <div>
              <label class="block text-sm font-medium text-navy mb-2">í•™ë¶€ëª¨ ì—°ë½ì²˜</label>
              <input type="tel" id="editStudentParentPhone" class="w-full px-4 py-3 border border-border-light rounded-xl focus:outline-none focus:ring-2 focus:ring-super/20 focus:border-super" value="010-9876-5432">
            </div>
          </div>
        </div>
        
        <!-- ê°•ì‚¬ ì „ìš© ì„¹ì…˜ -->
        <div id="editInstructorSection" class="mb-6 hidden">
          <h3 class="font-bold text-navy flex items-center gap-2 mb-4">
            <span class="material-icons-round text-planner text-sm">work</span>
            ê°•ì‚¬ ì •ë³´
          </h3>
          <div class="grid grid-cols-2 gap-4">
            <div>
              <label class="block text-sm font-medium text-navy mb-2">ë‹´ë‹¹ ê³¼ëª©</label>
              <div class="flex flex-wrap gap-2">
                <label class="flex items-center gap-2 px-3 py-2 border border-border-light rounded-lg cursor-pointer hover:border-super">
                  <input type="checkbox" class="accent-korean" checked>
                  <span class="text-sm">êµ­ì–´</span>
                </label>
                <label class="flex items-center gap-2 px-3 py-2 border border-border-light rounded-lg cursor-pointer hover:border-super">
                  <input type="checkbox" class="accent-english">
                  <span class="text-sm">ì˜ì–´</span>
                </label>
                <label class="flex items-center gap-2 px-3 py-2 border border-border-light rounded-lg cursor-pointer hover:border-super">
                  <input type="checkbox" class="accent-yellow-500" checked>
                  <span class="text-sm">ìˆ˜í•™</span>
                </label>
              </div>
            </div>
            <div>
              <label class="block text-sm font-medium text-navy mb-2">ë‹´ë‹¹ ë°˜</label>
              <input type="text" id="editInstructorClasses" class="w-full px-4 py-3 border border-border-light rounded-xl focus:outline-none focus:ring-2 focus:ring-super/20 focus:border-super" value="Aë°˜, Bë°˜">
            </div>
            <div class="col-span-2">
              <label class="block text-sm font-medium text-navy mb-2">ì†Œê°œ</label>
              <textarea id="editInstructorBio" class="w-full px-4 py-3 border border-border-light rounded-xl focus:outline-none focus:ring-2 focus:ring-super/20 focus:border-super resize-none h-20" placeholder="ê°•ì‚¬ ì†Œê°œë¥¼ ì…ë ¥í•˜ì„¸ìš”">10ë…„ ê²½ë ¥ì˜ ìˆ˜í•™ ì „ë¬¸ ê°•ì‚¬ì…ë‹ˆë‹¤.</textarea>
            </div>
          </div>
        </div>
        
        <!-- í•™ë¶€ëª¨ ì „ìš© ì„¹ì…˜ -->
        <div id="editParentSection" class="mb-6 hidden">
          <h3 class="font-bold text-navy flex items-center gap-2 mb-4">
            <span class="material-icons-round text-english text-sm">family_restroom</span>
            í•™ë¶€ëª¨ ì •ë³´
          </h3>
          <div class="grid grid-cols-2 gap-4">
            <div class="col-span-2">
              <label class="block text-sm font-medium text-navy mb-2">ì—°ê²°ëœ ìë…€</label>
              <div class="space-y-2">
                <div class="flex items-center justify-between p-3 bg-gray-50 rounded-xl">
                  <div class="flex items-center gap-3">
                    <div class="w-8 h-8 rounded-full bg-korean-light flex items-center justify-center">
                      <span class="text-sm font-bold text-korean">ì´</span>
                    </div>
                    <div>
                      <p class="text-sm font-medium">ì´ë¯¼ì¤€</p>
                      <p class="text-xs text-text-tertiary">ì¤‘2 Â· Aë°˜</p>
                    </div>
                  </div>
                  <button class="text-error hover:bg-error-light p-1 rounded">
                    <span class="material-icons-round text-sm">close</span>
                  </button>
                </div>
              </div>
              <button class="mt-2 text-sm text-super flex items-center gap-1 hover:underline">
                <span class="material-icons-round text-sm">add</span>
                ìë…€ ì¶”ê°€
              </button>
            </div>
            <div>
              <label class="block text-sm font-medium text-navy mb-2">ì•Œë¦¼ ìˆ˜ì‹ </label>
              <div class="space-y-2">
                <label class="flex items-center gap-3">
                  <input type="checkbox" class="accent-super" checked>
                  <span class="text-sm">ì¶œê²° ì•Œë¦¼</span>
                </label>
                <label class="flex items-center gap-3">
                  <input type="checkbox" class="accent-super" checked>
                  <span class="text-sm">ìˆ™ì œ ì•Œë¦¼</span>
                </label>
                <label class="flex items-center gap-3">
                  <input type="checkbox" class="accent-super">
                  <span class="text-sm">ë§ˆì¼€íŒ… ì•Œë¦¼</span>
                </label>
              </div>
            </div>
          </div>
        </div>
        
        <!-- ê´€ë¦¬ì ì „ìš© ì„¹ì…˜ -->
        <div id="editAdminSection" class="mb-6 hidden">
          <h3 class="font-bold text-navy flex items-center gap-2 mb-4">
            <span class="material-icons-round text-primary text-sm">admin_panel_settings</span>
            ê´€ë¦¬ì ê¶Œí•œ
          </h3>
          <div class="space-y-3">
            <label class="flex items-center gap-3 p-3 bg-gray-50 rounded-xl cursor-pointer">
              <input type="checkbox" class="accent-super" checked>
              <div>
                <p class="text-sm font-medium">ì‚¬ìš©ì ê´€ë¦¬</p>
                <p class="text-xs text-text-tertiary">í•™ìƒ, ê°•ì‚¬, í•™ë¶€ëª¨ ê³„ì • ê´€ë¦¬</p>
              </div>
            </label>
            <label class="flex items-center gap-3 p-3 bg-gray-50 rounded-xl cursor-pointer">
              <input type="checkbox" class="accent-super" checked>
              <div>
                <p class="text-sm font-medium">ë°˜ ê´€ë¦¬</p>
                <p class="text-xs text-text-tertiary">ë°˜ ìƒì„±, ìˆ˜ì •, ì‚­ì œ</p>
              </div>
            </label>
            <label class="flex items-center gap-3 p-3 bg-gray-50 rounded-xl cursor-pointer">
              <input type="checkbox" class="accent-super" checked>
              <div>
                <p class="text-sm font-medium">ê²°ì œ ê´€ë¦¬</p>
                <p class="text-xs text-text-tertiary">ì²­êµ¬ì„œ ë°œí–‰, ê²°ì œ í˜„í™© ì¡°íšŒ</p>
              </div>
            </label>
            <label class="flex items-center gap-3 p-3 bg-gray-50 rounded-xl cursor-pointer">
              <input type="checkbox" class="accent-super">
              <div>
                <p class="text-sm font-medium">ì½˜í…ì¸  ê´€ë¦¬</p>
                <p class="text-xs text-text-tertiary">í•™ìŠµ ì½˜í…ì¸  ë“±ë¡ ë° ìˆ˜ì •</p>
              </div>
            </label>
          </div>
        </div>
        
        <!-- ì†Œì† í•™ì› -->
        <div>
          <h3 class="font-bold text-navy flex items-center gap-2 mb-4">
            <span class="material-icons-round text-super text-sm">business</span>
            ì†Œì† í•™ì›
          </h3>
          <div class="p-4 bg-super-light rounded-xl flex items-center justify-between">
            <div class="flex items-center gap-3">
              <div class="w-10 h-10 rounded-xl bg-white flex items-center justify-center">
                <span class="material-icons-round text-super">apartment</span>
              </div>
              <div>
                <p class="font-medium text-navy">ëª…ë¶ˆí—ˆì „í•™ì›</p>
                <p class="text-xs text-text-secondary">MBH001</p>
              </div>
            </div>
            <button onclick="openTransferFromEdit()" class="text-sm text-super hover:underline flex items-center gap-1">
              <span class="material-icons-round text-sm">swap_horiz</span>
              í•™ì› ë³€ê²½
            </button>
          </div>
        </div>
      </div>
      
      <div class="px-6 py-4 border-t border-border-light flex justify-between">
        <button onclick="closeEditUserModal()" class="px-6 py-2.5 border border-border-light rounded-xl hover:bg-gray-50">
          ì·¨ì†Œ
        </button>
        <button onclick="saveEditUser()" class="px-6 py-2.5 gradient-super text-white rounded-xl hover:opacity-90 flex items-center gap-2">
          <span class="material-icons-round text-sm">save</span>
          ì €ì¥
        </button>
      </div>
    </div>
  </div>
  
  <!-- CSV ë‚´ë³´ë‚´ê¸° ëª¨ë‹¬ -->
  <div id="exportUsersModal" class="modal-overlay fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4" onclick="closeExportUsersModal()">
    <div class="modal-content bg-white rounded-2xl w-full max-w-lg overflow-hidden" onclick="event.stopPropagation()">
      <div class="px-6 py-4 border-b border-border-light flex items-center justify-between">
        <div class="flex items-center gap-3">
          <div class="w-10 h-10 rounded-xl bg-success-light flex items-center justify-center">
            <span class="material-icons-round text-success">file_download</span>
          </div>
          <div>
            <h2 class="text-lg font-bold text-navy">ì‚¬ìš©ì ë‚´ë³´ë‚´ê¸°</h2>
            <p class="text-sm text-text-secondary">CSV ë˜ëŠ” Excel í˜•ì‹</p>
          </div>
        </div>
        <button onclick="closeExportUsersModal()" class="p-2 hover:bg-gray-100 rounded-lg">
          <span class="material-icons-round">close</span>
        </button>
      </div>
      
      <div class="p-6">
        <!-- íŒŒì¼ í˜•ì‹ -->
        <div class="mb-5">
          <label class="block text-sm font-medium text-navy mb-2">íŒŒì¼ í˜•ì‹</label>
          <div class="grid grid-cols-2 gap-3">
            <label class="flex items-center justify-center gap-2 p-4 border-2 border-super bg-super-light rounded-xl cursor-pointer">
              <input type="radio" name="exportFormat" value="csv" class="hidden" checked>
              <span class="material-icons-round text-super">description</span>
              <span class="font-medium text-super">CSV</span>
            </label>
            <label class="flex items-center justify-center gap-2 p-4 border border-border-light rounded-xl cursor-pointer hover:border-super" onclick="selectExportFormat(this)">
              <input type="radio" name="exportFormat" value="xlsx" class="hidden">
              <span class="material-icons-round text-text-secondary">table_chart</span>
              <span class="font-medium">Excel</span>
            </label>
          </div>
        </div>
        
        <!-- ì—­í•  í•„í„° -->
        <div class="mb-5">
          <label class="block text-sm font-medium text-navy mb-2">ëŒ€ìƒ ì—­í• </label>
          <div class="flex flex-wrap gap-2">
            <label class="flex items-center gap-2 px-3 py-2 border border-border-light rounded-lg cursor-pointer hover:border-super">
              <input type="checkbox" class="accent-super" checked>
              <span class="text-sm">ì „ì²´</span>
            </label>
            <label class="flex items-center gap-2 px-3 py-2 border border-border-light rounded-lg cursor-pointer hover:border-korean">
              <input type="checkbox" class="accent-korean">
              <span class="text-sm">í•™ìƒ</span>
            </label>
            <label class="flex items-center gap-2 px-3 py-2 border border-border-light rounded-lg cursor-pointer hover:border-english">
              <input type="checkbox" class="accent-english">
              <span class="text-sm">í•™ë¶€ëª¨</span>
            </label>
            <label class="flex items-center gap-2 px-3 py-2 border border-border-light rounded-lg cursor-pointer hover:border-planner">
              <input type="checkbox" class="accent-planner">
              <span class="text-sm">ê°•ì‚¬</span>
            </label>
            <label class="flex items-center gap-2 px-3 py-2 border border-border-light rounded-lg cursor-pointer hover:border-primary">
              <input type="checkbox" class="accent-primary">
              <span class="text-sm">ê´€ë¦¬ì</span>
            </label>
          </div>
        </div>
        
        <!-- ê¸°ê°„ í•„í„° -->
        <div class="mb-5">
          <label class="block text-sm font-medium text-navy mb-2">ê°€ì… ê¸°ê°„</label>
          <div class="grid grid-cols-2 gap-3">
            <div>
              <label class="text-xs text-text-tertiary">ì‹œì‘ì¼</label>
              <input type="date" id="exportStartDate" class="w-full px-4 py-2.5 border border-border-light rounded-xl focus:outline-none focus:ring-2 focus:ring-super/20 focus:border-super">
            </div>
            <div>
              <label class="text-xs text-text-tertiary">ì¢…ë£Œì¼</label>
              <input type="date" id="exportEndDate" class="w-full px-4 py-2.5 border border-border-light rounded-xl focus:outline-none focus:ring-2 focus:ring-super/20 focus:border-super">
            </div>
          </div>
        </div>
        
        <!-- í¬í•¨ í•„ë“œ -->
        <div class="mb-5">
          <label class="block text-sm font-medium text-navy mb-2">í¬í•¨ í•„ë“œ</label>
          <div class="grid grid-cols-2 gap-2">
            <label class="flex items-center gap-2 p-2">
              <input type="checkbox" class="accent-super" checked disabled>
              <span class="text-sm">ì´ë¦„</span>
            </label>
            <label class="flex items-center gap-2 p-2">
              <input type="checkbox" class="accent-super" checked>
              <span class="text-sm">ì—­í• </span>
            </label>
            <label class="flex items-center gap-2 p-2">
              <input type="checkbox" class="accent-super" checked>
              <span class="text-sm">ì—°ë½ì²˜</span>
            </label>
            <label class="flex items-center gap-2 p-2">
              <input type="checkbox" class="accent-super" checked>
              <span class="text-sm">ì´ë©”ì¼</span>
            </label>
            <label class="flex items-center gap-2 p-2">
              <input type="checkbox" class="accent-super" checked>
              <span class="text-sm">ì†Œì† í•™ì›</span>
            </label>
            <label class="flex items-center gap-2 p-2">
              <input type="checkbox" class="accent-super" checked>
              <span class="text-sm">ìƒíƒœ</span>
            </label>
            <label class="flex items-center gap-2 p-2">
              <input type="checkbox" class="accent-super" checked>
              <span class="text-sm">ê°€ì…ì¼</span>
            </label>
            <label class="flex items-center gap-2 p-2">
              <input type="checkbox" class="accent-super">
              <span class="text-sm">ìµœê·¼ ì ‘ì†</span>
            </label>
          </div>
        </div>
        
        <!-- ë‚´ë³´ë‚´ê¸° ë¯¸ë¦¬ë³´ê¸° -->
        <div class="bg-gray-50 rounded-xl p-4">
          <div class="flex items-center justify-between text-sm">
            <span class="text-text-secondary">ì˜ˆìƒ ë°ì´í„°</span>
            <span class="font-bold text-navy" id="exportPreviewCount">5,847ëª…</span>
          </div>
        </div>
      </div>
      
      <div class="px-6 py-4 border-t border-border-light flex justify-end gap-3">
        <button onclick="closeExportUsersModal()" class="px-6 py-2.5 border border-border-light rounded-xl hover:bg-gray-50">
          ì·¨ì†Œ
        </button>
        <button onclick="confirmExportUsers()" class="px-6 py-2.5 bg-success text-white rounded-xl hover:bg-success/90 flex items-center gap-2">
          <span class="material-icons-round text-sm">file_download</span>
          ë‚´ë³´ë‚´ê¸°
        </button>
      </div>
    </div>
  </div>
  
  <!-- ì‚¬ìš©ì í™œì„±í™” ëª¨ë‹¬ -->
  <div id="activateUserModal" class="modal-overlay fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4" onclick="closeActivateUserModal()">
    <div class="modal-content bg-white rounded-2xl w-full max-w-md overflow-hidden" onclick="event.stopPropagation()">
      <div class="px-6 py-4 border-b border-success bg-success-light flex items-center gap-3">
        <span class="material-icons-round text-success text-2xl">check_circle</span>
        <h2 class="text-lg font-bold text-success">ê³„ì • í™œì„±í™”</h2>
      </div>
      
      <div class="p-6">
        <div class="bg-gray-50 rounded-xl p-4 mb-4 flex items-center gap-3">
          <div id="activateUserAvatar" class="w-12 h-12 rounded-full bg-gray-200 flex items-center justify-center">
            <span class="font-bold text-text-tertiary text-lg">ì •</span>
          </div>
          <div>
            <p class="font-medium text-navy" id="activateUserName">ì •íœ´í•™</p>
            <p class="text-sm text-text-secondary" id="activateUserInfo">í•™ìƒ Â· ê°•ë‚¨ìˆ˜í•™í•™ì›</p>
          </div>
        </div>
        
        <div class="bg-gray-50 rounded-xl p-4 mb-4">
          <div class="grid grid-cols-2 gap-4 text-sm">
            <div>
              <p class="text-text-tertiary">ë¹„í™œì„± ê¸°ê°„</p>
              <p class="font-medium text-navy" id="activateInactiveDays">30ì¼</p>
            </div>
            <div>
              <p class="text-text-tertiary">ë§ˆì§€ë§‰ ì ‘ì†</p>
              <p class="font-medium text-navy" id="activateLastAccess">2024.12.08</p>
            </div>
          </div>
        </div>
        
        <div class="bg-success-light rounded-xl p-4 mb-4">
          <p class="text-sm text-success flex items-start gap-2">
            <span class="material-icons-round text-lg">info</span>
            <span>ê³„ì •ì„ í™œì„±í™”í•˜ë©´ í•´ë‹¹ ì‚¬ìš©ìê°€ ë‹¤ì‹œ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</span>
          </p>
        </div>
        
        <label class="flex items-center gap-3 p-3 bg-gray-50 rounded-xl cursor-pointer">
          <input type="checkbox" id="activateNotifyUser" class="accent-success" checked>
          <span class="text-sm">ì‚¬ìš©ìì—ê²Œ í™œì„±í™” ì•Œë¦¼ ë°œì†¡</span>
        </label>
      </div>
      
      <div class="px-6 py-4 border-t border-border-light flex justify-end gap-3">
        <button onclick="closeActivateUserModal()" class="px-6 py-2.5 border border-border-light rounded-xl hover:bg-gray-50">
          ì·¨ì†Œ
        </button>
        <button onclick="confirmActivateUser()" class="px-6 py-2.5 bg-success text-white rounded-xl hover:bg-success/90 flex items-center gap-2">
          <span class="material-icons-round text-sm">check_circle</span>
          í™œì„±í™”
        </button>
      </div>
    </div>
  </div>
  
  <!-- ì •ì§€ í•´ì œ ëª¨ë‹¬ -->
  <div id="unsuspendUserModal" class="modal-overlay fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4" onclick="closeUnsuspendUserModal()">
    <div class="modal-content bg-white rounded-2xl w-full max-w-md overflow-hidden" onclick="event.stopPropagation()">
      <div class="px-6 py-4 border-b border-info bg-info-light flex items-center gap-3">
        <span class="material-icons-round text-info text-2xl">lock_open</span>
        <h2 class="text-lg font-bold text-info">ì •ì§€ í•´ì œ</h2>
      </div>
      
      <div class="p-6">
        <div class="bg-gray-50 rounded-xl p-4 mb-4 flex items-center gap-3">
          <div id="unsuspendUserAvatar" class="w-12 h-12 rounded-full bg-error-light flex items-center justify-center">
            <span class="font-bold text-error text-lg">í•œ</span>
          </div>
          <div>
            <p class="font-medium text-navy" id="unsuspendUserName">í•œë¬¸ì œ</p>
            <p class="text-sm text-text-secondary" id="unsuspendUserInfo">í•™ìƒ Â· ë¶„ë‹¹ì˜ì¬í•™ì›</p>
          </div>
        </div>
        
        <div class="bg-error-light rounded-xl p-4 mb-4">
          <h4 class="font-medium text-error mb-2">ì •ì§€ ì •ë³´</h4>
          <div class="grid grid-cols-2 gap-2 text-sm">
            <div>
              <p class="text-text-tertiary">ì •ì§€ ì‚¬ìœ </p>
              <p class="font-medium text-navy" id="unsuspendReason">ì´ìš© ì •ì±… ìœ„ë°˜</p>
            </div>
            <div>
              <p class="text-text-tertiary">ì •ì§€ì¼</p>
              <p class="font-medium text-navy" id="unsuspendDate">2025.01.02</p>
            </div>
            <div>
              <p class="text-text-tertiary">ì •ì§€ ê¸°ê°„</p>
              <p class="font-medium text-navy" id="unsuspendPeriod">30ì¼</p>
            </div>
            <div>
              <p class="text-text-tertiary">í•´ì œ ì˜ˆì •ì¼</p>
              <p class="font-medium text-navy" id="unsuspendEndDate">2025.02.01</p>
            </div>
          </div>
        </div>
        
        <div class="mb-4">
          <label class="block text-sm font-medium text-navy mb-2">í•´ì œ ì‚¬ìœ </label>
          <textarea id="unsuspendReasonInput" placeholder="ì •ì§€ í•´ì œ ì‚¬ìœ ë¥¼ ì…ë ¥í•˜ì„¸ìš”..." 
                    class="w-full px-4 py-3 border border-border-light rounded-xl focus:outline-none focus:ring-2 focus:ring-info/20 focus:border-info resize-none h-20"></textarea>
        </div>
        
        <label class="flex items-center gap-3 p-3 bg-gray-50 rounded-xl cursor-pointer">
          <input type="checkbox" id="unsuspendNotifyUser" class="accent-info" checked>
          <span class="text-sm">ì‚¬ìš©ìì—ê²Œ ì •ì§€ í•´ì œ ì•Œë¦¼ ë°œì†¡</span>
        </label>
      </div>
      
      <div class="px-6 py-4 border-t border-border-light flex justify-end gap-3">
        <button onclick="closeUnsuspendUserModal()" class="px-6 py-2.5 border border-border-light rounded-xl hover:bg-gray-50">
          ì·¨ì†Œ
        </button>
        <button onclick="confirmUnsuspendUser()" class="px-6 py-2.5 bg-info text-white rounded-xl hover:bg-info/90 flex items-center gap-2">
          <span class="material-icons-round text-sm">lock_open</span>
          ì •ì§€ í•´ì œ
        </button>
      </div>
    </div>
  </div>
  
  <!-- ì‚¬ìš©ì í™œë™ ë¡œê·¸ ëª¨ë‹¬ -->
  <div id="userActivityModal" class="modal-overlay fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4" onclick="closeUserActivityModal()">
    <div class="modal-content bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden" onclick="event.stopPropagation()">
      <div class="px-6 py-4 border-b border-border-light flex items-center justify-between sticky top-0 bg-white z-10">
        <div class="flex items-center gap-3">
          <div class="w-10 h-10 rounded-xl bg-info-light flex items-center justify-center">
            <span class="material-icons-round text-info">history</span>
          </div>
          <div>
            <h2 class="text-lg font-bold text-navy">í™œë™ ë¡œê·¸</h2>
            <p class="text-sm text-text-secondary" id="activityUserName">ì´ë¯¼ì¤€ Â· í•™ìƒ</p>
          </div>
        </div>
        <button onclick="closeUserActivityModal()" class="p-2 hover:bg-gray-100 rounded-lg">
          <span class="material-icons-round">close</span>
        </button>
      </div>
      
      <div class="p-6 overflow-y-auto max-h-[65vh]">
        <!-- í•„í„° -->
        <div class="flex gap-2 mb-4">
          <button class="px-4 py-2 rounded-lg text-sm font-medium bg-super text-white">ì „ì²´</button>
          <button class="px-4 py-2 rounded-lg text-sm font-medium bg-gray-100 text-text-secondary hover:bg-gray-200">ë¡œê·¸ì¸</button>
          <button class="px-4 py-2 rounded-lg text-sm font-medium bg-gray-100 text-text-secondary hover:bg-gray-200">í•™ìŠµ</button>
          <button class="px-4 py-2 rounded-lg text-sm font-medium bg-gray-100 text-text-secondary hover:bg-gray-200">ì„¤ì •</button>
        </div>
        
        <!-- íƒ€ì„ë¼ì¸ -->
        <div class="space-y-4">
          <!-- ì˜¤ëŠ˜ -->
          <div>
            <p class="text-xs font-medium text-text-tertiary mb-3">ì˜¤ëŠ˜</p>
            <div class="space-y-3">
              <div class="flex gap-3">
                <div class="w-8 h-8 rounded-full bg-success-light flex items-center justify-center flex-shrink-0">
                  <span class="material-icons-round text-success text-sm">login</span>
                </div>
                <div class="flex-1 bg-gray-50 rounded-xl p-3">
                  <div class="flex items-center justify-between mb-1">
                    <p class="text-sm font-medium text-navy">ë¡œê·¸ì¸</p>
                    <span class="text-xs text-text-tertiary">09:15</span>
                  </div>
                  <p class="text-xs text-text-secondary">IP: 211.xxx.xxx.123 Â· Chrome / Windows</p>
                </div>
              </div>
              
              <div class="flex gap-3">
                <div class="w-8 h-8 rounded-full bg-korean-light flex items-center justify-center flex-shrink-0">
                  <span class="material-icons-round text-korean text-sm">menu_book</span>
                </div>
                <div class="flex-1 bg-gray-50 rounded-xl p-3">
                  <div class="flex items-center justify-between mb-1">
                    <p class="text-sm font-medium text-navy">êµ­ì–´ í•™ìŠµ ì™„ë£Œ</p>
                    <span class="text-xs text-text-tertiary">09:42</span>
                  </div>
                  <p class="text-xs text-text-secondary">ì§€ë¬¸ 3ê°œ Â· O/X í€´ì¦ˆ 15ë¬¸í•­ Â· ì •ë‹µë¥  93%</p>
                </div>
              </div>
              
              <div class="flex gap-3">
                <div class="w-8 h-8 rounded-full bg-english-light flex items-center justify-center flex-shrink-0">
                  <span class="material-icons-round text-english text-sm">translate</span>
                </div>
                <div class="flex-1 bg-gray-50 rounded-xl p-3">
                  <div class="flex items-center justify-between mb-1">
                    <p class="text-sm font-medium text-navy">ì˜ì–´ 7ì´ˆ ë°œí™” í…ŒìŠ¤íŠ¸</p>
                    <span class="text-xs text-text-tertiary">10:05</span>
                  </div>
                  <p class="text-xs text-text-secondary">ë‹¨ì–´ 20ê°œ Â· PASS 18ê°œ Â· FAIL 2ê°œ</p>
                </div>
              </div>
            </div>
          </div>
          
          <!-- ì–´ì œ -->
          <div>
            <p class="text-xs font-medium text-text-tertiary mb-3">ì–´ì œ</p>
            <div class="space-y-3">
              <div class="flex gap-3">
                <div class="w-8 h-8 rounded-full bg-success-light flex items-center justify-center flex-shrink-0">
                  <span class="material-icons-round text-success text-sm">login</span>
                </div>
                <div class="flex-1 bg-gray-50 rounded-xl p-3">
                  <div class="flex items-center justify-between mb-1">
                    <p class="text-sm font-medium text-navy">ë¡œê·¸ì¸</p>
                    <span class="text-xs text-text-tertiary">18:30</span>
                  </div>
                  <p class="text-xs text-text-secondary">IP: 211.xxx.xxx.123 Â· Chrome / Windows</p>
                </div>
              </div>
              
              <div class="flex gap-3">
                <div class="w-8 h-8 rounded-full bg-math-light flex items-center justify-center flex-shrink-0">
                  <span class="material-icons-round text-yellow-600 text-sm">calculate</span>
                </div>
                <div class="flex-1 bg-gray-50 rounded-xl p-3">
                  <div class="flex items-center justify-between mb-1">
                    <p class="text-sm font-medium text-navy">ìˆ˜í•™ ë¬¸ì œ í’€ì´</p>
                    <span class="text-xs text-text-tertiary">18:52</span>
                  </div>
                  <p class="text-xs text-text-secondary">ì´ì°¨ë°©ì •ì‹ Â· ë¬¸ì œ 5ê°œ Â· ì •ë‹µë¥  80%</p>
                </div>
              </div>
              
              <div class="flex gap-3">
                <div class="w-8 h-8 rounded-full bg-planner-light flex items-center justify-center flex-shrink-0">
                  <span class="material-icons-round text-planner text-sm">event_note</span>
                </div>
                <div class="flex-1 bg-gray-50 rounded-xl p-3">
                  <div class="flex items-center justify-between mb-1">
                    <p class="text-sm font-medium text-navy">í”Œë˜ë„ˆ ì‘ì„±</p>
                    <span class="text-xs text-text-tertiary">19:10</span>
                  </div>
                  <p class="text-xs text-text-secondary">ì£¼ê°„ í•™ìŠµ ê³„íš ë“±ë¡</p>
                </div>
              </div>
              
              <div class="flex gap-3">
                <div class="w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center flex-shrink-0">
                  <span class="material-icons-round text-text-tertiary text-sm">logout</span>
                </div>
                <div class="flex-1 bg-gray-50 rounded-xl p-3">
                  <div class="flex items-center justify-between mb-1">
                    <p class="text-sm font-medium text-navy">ë¡œê·¸ì•„ì›ƒ</p>
                    <span class="text-xs text-text-tertiary">19:35</span>
                  </div>
                  <p class="text-xs text-text-secondary">ì„¸ì…˜ ì¢…ë£Œ</p>
                </div>
              </div>
            </div>
          </div>
          
          <!-- 1ì›” 5ì¼ -->
          <div>
            <p class="text-xs font-medium text-text-tertiary mb-3">2025.01.05</p>
            <div class="space-y-3">
              <div class="flex gap-3">
                <div class="w-8 h-8 rounded-full bg-info-light flex items-center justify-center flex-shrink-0">
                  <span class="material-icons-round text-info text-sm">quiz</span>
                </div>
                <div class="flex-1 bg-gray-50 rounded-xl p-3">
                  <div class="flex items-center justify-between mb-1">
                    <p class="text-sm font-medium text-navy">ì„±í–¥ê²€ì‚¬ ì™„ë£Œ</p>
                    <span class="text-xs text-text-tertiary">16:20</span>
                  </div>
                  <p class="text-xs text-text-secondary">150ë¬¸í•­ ì™„ë£Œ Â· ì‹ ë¢°ë„: HIGH</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <div class="px-6 py-4 border-t border-border-light flex justify-between items-center">
        <button class="text-sm text-super flex items-center gap-1 hover:underline">
          <span class="material-icons-round text-sm">file_download</span>
          ë¡œê·¸ ë‚´ë³´ë‚´ê¸°
        </button>
        <button onclick="closeUserActivityModal()" class="px-6 py-2.5 border border-border-light rounded-xl hover:bg-gray-50">
          ë‹«ê¸°
        </button>
      </div>
    </div>
  </div>
  
  <!-- ì¼ê´„ ì‘ì—… íˆ´ë°” -->
  <div id="bulkActionBar" class="fixed bottom-6 left-1/2 transform -translate-x-1/2 bg-slate-800 text-white px-6 py-4 rounded-2xl shadow-2xl z-40 hidden">
    <div class="flex items-center gap-6">
      <div class="flex items-center gap-3">
        <div class="w-10 h-10 rounded-full bg-white/20 flex items-center justify-center">
          <span class="material-icons-round">check_circle</span>
        </div>
        <div>
          <p class="text-sm text-white/70">ì„ íƒë¨</p>
          <p class="font-bold text-xl" id="bulkSelectedCount">0ëª…</p>
        </div>
      </div>
      
      <div class="w-px h-10 bg-white/20"></div>
      
      <div class="flex items-center gap-2">
        <button onclick="bulkSendNotification()" class="px-4 py-2.5 bg-white/10 hover:bg-white/20 rounded-xl flex items-center gap-2 transition-colors">
          <span class="material-icons-round text-sm">notifications</span>
          <span class="text-sm">ì•Œë¦¼ ë°œì†¡</span>
        </button>
        <button onclick="bulkChangeStatus()" class="px-4 py-2.5 bg-white/10 hover:bg-white/20 rounded-xl flex items-center gap-2 transition-colors">
          <span class="material-icons-round text-sm">toggle_on</span>
          <span class="text-sm">ìƒíƒœ ë³€ê²½</span>
        </button>
        <button onclick="bulkTransferAcademy()" class="px-4 py-2.5 bg-white/10 hover:bg-white/20 rounded-xl flex items-center gap-2 transition-colors">
          <span class="material-icons-round text-sm">swap_horiz</span>
          <span class="text-sm">í•™ì› ì´ë™</span>
        </button>
        <button onclick="bulkDelete()" class="px-4 py-2.5 bg-error/80 hover:bg-error rounded-xl flex items-center gap-2 transition-colors">
          <span class="material-icons-round text-sm">delete</span>
          <span class="text-sm">ì‚­ì œ</span>
        </button>
      </div>
      
      <button onclick="clearBulkSelection()" class="p-2 hover:bg-white/10 rounded-lg transition-colors">
        <span class="material-icons-round">close</span>
      </button>
    </div>
  </div>
  
  <!-- ì¼ê´„ ì•Œë¦¼ ë°œì†¡ ëª¨ë‹¬ -->
  <div id="bulkNotificationModal" class="modal-overlay fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4" onclick="closeBulkNotificationModal()">
    <div class="modal-content bg-white rounded-2xl w-full max-w-lg overflow-hidden" onclick="event.stopPropagation()">
      <div class="px-6 py-4 border-b border-border-light flex items-center justify-between">
        <div class="flex items-center gap-3">
          <div class="w-10 h-10 rounded-xl bg-info-light flex items-center justify-center">
            <span class="material-icons-round text-info">notifications</span>
          </div>
          <div>
            <h2 class="text-lg font-bold text-navy">ì¼ê´„ ì•Œë¦¼ ë°œì†¡</h2>
            <p class="text-sm text-text-secondary"><span id="bulkNotifCount">3</span>ëª…ì—ê²Œ ë°œì†¡</p>
          </div>
        </div>
        <button onclick="closeBulkNotificationModal()" class="p-2 hover:bg-gray-100 rounded-lg">
          <span class="material-icons-round">close</span>
        </button>
      </div>
      
      <div class="p-6">
        <div class="mb-4">
          <label class="block text-sm font-medium text-navy mb-2">ë°œì†¡ ì±„ë„</label>
          <div class="flex gap-2">
            <label class="flex-1 flex items-center justify-center gap-2 p-3 border-2 border-super bg-super-light rounded-xl cursor-pointer">
              <input type="radio" name="bulkNotifChannel" value="kakao" class="hidden" checked>
              <span class="material-icons-round text-super text-sm">chat</span>
              <span class="text-sm font-medium text-super">ì¹´ì¹´ì˜¤í†¡</span>
            </label>
            <label class="flex-1 flex items-center justify-center gap-2 p-3 border border-border-light rounded-xl cursor-pointer hover:border-super">
              <input type="radio" name="bulkNotifChannel" value="sms" class="hidden">
              <span class="material-icons-round text-text-secondary text-sm">sms</span>
              <span class="text-sm">SMS</span>
            </label>
            <label class="flex-1 flex items-center justify-center gap-2 p-3 border border-border-light rounded-xl cursor-pointer hover:border-super">
              <input type="radio" name="bulkNotifChannel" value="push" class="hidden">
              <span class="material-icons-round text-text-secondary text-sm">phone_android</span>
              <span class="text-sm">í‘¸ì‹œ</span>
            </label>
          </div>
        </div>
        
        <div class="mb-4">
          <label class="block text-sm font-medium text-navy mb-2">ë©”ì‹œì§€ ìœ í˜•</label>
          <select id="bulkNotifType" class="w-full px-4 py-3 border border-border-light rounded-xl focus:outline-none focus:ring-2 focus:ring-super/20 focus:border-super">
            <option value="">ì§ì ‘ ì…ë ¥</option>
            <option value="homework">ìˆ™ì œ ì•Œë¦¼</option>
            <option value="attendance">ì¶œê²° ì•ˆë‚´</option>
            <option value="payment">ê²°ì œ ì•ˆë‚´</option>
            <option value="event">ì´ë²¤íŠ¸ ì•ˆë‚´</option>
          </select>
        </div>
        
        <div class="mb-4">
          <label class="block text-sm font-medium text-navy mb-2">ë©”ì‹œì§€ ë‚´ìš© <span class="text-error">*</span></label>
          <textarea id="bulkNotifMessage" placeholder="ë°œì†¡í•  ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ì„¸ìš”..." 
                    class="w-full px-4 py-3 border border-border-light rounded-xl focus:outline-none focus:ring-2 focus:ring-super/20 focus:border-super resize-none h-28"></textarea>
          <p class="text-xs text-text-tertiary mt-1 text-right"><span id="bulkNotifCharCount">0</span>/500ì</p>
        </div>
        
        <div class="bg-info-light rounded-xl p-3 text-sm text-info flex items-start gap-2">
          <span class="material-icons-round text-lg">info</span>
          <span>{{name}} ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ ìˆ˜ì‹ ì ì´ë¦„ìœ¼ë¡œ ìë™ ì¹˜í™˜ë©ë‹ˆë‹¤.</span>
        </div>
      </div>
      
      <div class="px-6 py-4 border-t border-border-light flex justify-end gap-3">
        <button onclick="closeBulkNotificationModal()" class="px-6 py-2.5 border border-border-light rounded-xl hover:bg-gray-50">
          ì·¨ì†Œ
        </button>
        <button onclick="confirmBulkNotification()" class="px-6 py-2.5 gradient-super text-white rounded-xl hover:opacity-90 flex items-center gap-2">
          <span class="material-icons-round text-sm">send</span>
          ë°œì†¡
        </button>
      </div>
    </div>
  </div>
  
  <!-- ì¼ê´„ ìƒíƒœ ë³€ê²½ ëª¨ë‹¬ -->
  <div id="bulkStatusModal" class="modal-overlay fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4" onclick="closeBulkStatusModal()">
    <div class="modal-content bg-white rounded-2xl w-full max-w-md overflow-hidden" onclick="event.stopPropagation()">
      <div class="px-6 py-4 border-b border-border-light flex items-center justify-between">
        <div class="flex items-center gap-3">
          <div class="w-10 h-10 rounded-xl bg-warning-light flex items-center justify-center">
            <span class="material-icons-round text-warning">toggle_on</span>
          </div>
          <div>
            <h2 class="text-lg font-bold text-navy">ì¼ê´„ ìƒíƒœ ë³€ê²½</h2>
            <p class="text-sm text-text-secondary"><span id="bulkStatusCount">3</span>ëª… ì„ íƒë¨</p>
          </div>
        </div>
        <button onclick="closeBulkStatusModal()" class="p-2 hover:bg-gray-100 rounded-lg">
          <span class="material-icons-round">close</span>
        </button>
      </div>
      
      <div class="p-6">
        <div class="mb-4">
          <label class="block text-sm font-medium text-navy mb-3">ë³€ê²½í•  ìƒíƒœ</label>
          <div class="space-y-2">
            <label class="flex items-center gap-3 p-4 border-2 border-success bg-success-light rounded-xl cursor-pointer">
              <input type="radio" name="bulkStatusChange" value="active" class="accent-success" checked>
              <span class="material-icons-round text-success">check_circle</span>
              <div>
                <p class="font-medium text-success">í™œì„±</p>
                <p class="text-xs text-text-secondary">ì„œë¹„ìŠ¤ ì´ìš© ê°€ëŠ¥</p>
              </div>
            </label>
            <label class="flex items-center gap-3 p-4 border border-border-light rounded-xl cursor-pointer hover:border-gray-400">
              <input type="radio" name="bulkStatusChange" value="inactive" class="accent-gray-500">
              <span class="material-icons-round text-text-tertiary">remove_circle</span>
              <div>
                <p class="font-medium text-text-secondary">ë¹„í™œì„±</p>
                <p class="text-xs text-text-tertiary">ì„ì‹œ ë¹„í™œì„±í™”</p>
              </div>
            </label>
            <label class="flex items-center gap-3 p-4 border border-border-light rounded-xl cursor-pointer hover:border-warning">
              <input type="radio" name="bulkStatusChange" value="suspended" class="accent-warning">
              <span class="material-icons-round text-warning">block</span>
              <div>
                <p class="font-medium text-warning">ì •ì§€</p>
                <p class="text-xs text-text-tertiary">ê³„ì • ì •ì§€ ì²˜ë¦¬</p>
              </div>
            </label>
          </div>
        </div>
        
        <label class="flex items-center gap-3 p-3 bg-gray-50 rounded-xl cursor-pointer">
          <input type="checkbox" id="bulkStatusNotify" class="accent-super" checked>
          <span class="text-sm">ëŒ€ìƒìì—ê²Œ ìƒíƒœ ë³€ê²½ ì•Œë¦¼ ë°œì†¡</span>
        </label>
      </div>
      
      <div class="px-6 py-4 border-t border-border-light flex justify-end gap-3">
        <button onclick="closeBulkStatusModal()" class="px-6 py-2.5 border border-border-light rounded-xl hover:bg-gray-50">
          ì·¨ì†Œ
        </button>
        <button onclick="confirmBulkStatus()" class="px-6 py-2.5 gradient-super text-white rounded-xl hover:opacity-90 flex items-center gap-2">
          <span class="material-icons-round text-sm">check</span>
          ë³€ê²½
        </button>
      </div>
    </div>
  </div>
  
  <!-- ì¼ê´„ ì‚­ì œ í™•ì¸ ëª¨ë‹¬ -->
  <div id="bulkDeleteModal" class="modal-overlay fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4" onclick="closeBulkDeleteModal()">
    <div class="modal-content bg-white rounded-2xl w-full max-w-md overflow-hidden" onclick="event.stopPropagation()">
      <div class="px-6 py-4 border-b border-error bg-error-light flex items-center gap-3">
        <span class="material-icons-round text-error text-2xl">delete_forever</span>
        <h2 class="text-lg font-bold text-error">ì¼ê´„ ì‚­ì œ</h2>
      </div>
      
      <div class="p-6">
        <div class="bg-error-light rounded-xl p-4 mb-4">
          <p class="text-sm text-error flex items-start gap-2">
            <span class="material-icons-round text-lg">warning</span>
            <span><strong id="bulkDeleteCount">3</strong>ëª…ì˜ ì‚¬ìš©ìë¥¼ ì‚­ì œí•©ë‹ˆë‹¤. ëª¨ë“  í•™ìŠµ ê¸°ë¡, ìƒë‹´ ê¸°ë¡ ë“±ì´ ì˜êµ¬ ì‚­ì œë˜ë©°, ì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</span>
          </p>
        </div>
        
        <div class="mb-4">
          <label class="block text-sm font-medium text-navy mb-2">ì‚­ì œ í™•ì¸</label>
          <p class="text-sm text-text-secondary mb-2">í™•ì¸ì„ ìœ„í•´ <strong class="text-error">"ì‚­ì œ"</strong>ë¥¼ ì…ë ¥í•˜ì„¸ìš”</p>
          <input type="text" id="bulkDeleteConfirmInput" placeholder="ì‚­ì œ" 
                 class="w-full px-4 py-3 border border-border-light rounded-xl focus:outline-none focus:ring-2 focus:ring-error/20 focus:border-error"
                 oninput="checkBulkDeleteForm()">
        </div>
        
        <label class="flex items-start gap-3 p-4 bg-error-light rounded-xl cursor-pointer">
          <input type="checkbox" id="bulkDeleteConfirmCheck" class="mt-0.5 accent-error" onchange="checkBulkDeleteForm()">
          <span class="text-sm text-error">ì„ íƒí•œ ëª¨ë“  ì‚¬ìš©ìì˜ ë°ì´í„°ê°€ ì˜êµ¬ ì‚­ì œë¨ì„ ì´í•´í•˜ê³  ë™ì˜í•©ë‹ˆë‹¤.</span>
        </label>
      </div>
      
      <div class="px-6 py-4 border-t border-border-light flex justify-end gap-3">
        <button onclick="closeBulkDeleteModal()" class="px-6 py-2.5 border border-border-light rounded-xl hover:bg-gray-50">
          ì·¨ì†Œ
        </button>
        <button id="confirmBulkDeleteBtn" onclick="confirmBulkDelete()" class="px-6 py-2.5 bg-error text-white rounded-xl hover:bg-error/90 disabled:opacity-50 flex items-center gap-2" disabled>
          <span class="material-icons-round text-sm">delete</span>
          ì‚­ì œ
        </button>
      </div>
    </div>
  </div>
  
  <!-- í† ìŠ¤íŠ¸ ì»¨í…Œì´ë„ˆ -->
  <div id="toastContainer" class="fixed bottom-6 right-6 z-50 space-y-3"></div>
  
  <script>
    // ========================================
    // í† ìŠ¤íŠ¸ ì•Œë¦¼ ì‹œìŠ¤í…œ
    // ========================================
    // [MIGRATED TO MODULE] showToast - now using toast.js module
    
    // ========================================
    // í˜„ì¬ ì‚¬ìš©ì ì •ë³´
    // ========================================
    let currentUser = {
      name: 'ê¹€ê´€ë¦¬',
      initial: 'ê¹€',
      role: 'admin',
      roleName: 'ê´€ë¦¬ì',
      academy: 'ëª…ë¶ˆí—ˆì „í•™ì›',
      academyCode: 'MBH001',
      email: 'admin.kim@mbh.com',
      phone: '010-1234-5678'
    };
    
    // ========================================
    // Mobile Menu
    // ========================================
    function openMobileMenu() {
      document.getElementById('mobileMenu').classList.add('open');
      document.getElementById('mobileMenuOverlay').classList.add('open');
      document.body.style.overflow = 'hidden';
    }
    
    function closeMobileMenu() {
      document.getElementById('mobileMenu').classList.remove('open');
      document.getElementById('mobileMenuOverlay').classList.remove('open');
      document.body.style.overflow = '';
    }
    
    // ========================================
    // User Detail Modal
    // ========================================
    function openUserModal(role, userId) {
      const user = usersData[userId] || usersData['USR003'];
      currentUser = { ...user };
      
      // ëª¨ë‹¬ í—¤ë” ì—…ë°ì´íŠ¸
      const modalHeader = document.querySelector('#userModal .flex.items-center.gap-4');
      const roleColors = {
        admin: { bg: 'bg-primary-light', text: 'text-primary' },
        instructor: { bg: 'bg-planner-light', text: 'text-planner' },
        student: { bg: 'bg-korean-light', text: 'text-korean' },
        parent: { bg: 'bg-english-light', text: 'text-english' }
      };
      const color = roleColors[role] || roleColors.student;
      
      // ì•„ë°”íƒ€ ìƒ‰ìƒ ë³€ê²½
      const avatar = modalHeader.querySelector('.w-14.h-14');
      avatar.className = `w-14 h-14 rounded-full ${color.bg} flex items-center justify-center`;
      avatar.querySelector('span').className = `font-bold ${color.text} text-xl`;
      avatar.querySelector('span').textContent = user.initial;
      
      // ì´ë¦„ê³¼ ì—­í•  ë±ƒì§€
      const nameDiv = modalHeader.querySelector('.text-lg');
      nameDiv.textContent = user.name;
      
      const roleBadge = modalHeader.querySelector('.status-badge');
      roleBadge.className = `status-badge ${color.bg} ${color.text}`;
      roleBadge.textContent = user.roleName;
      
      // ì†Œì† ì •ë³´
      const academyInfo = modalHeader.querySelector('.text-sm.text-text-secondary');
      if (role === 'student') {
        academyInfo.textContent = `${user.academy} Â· ${user.grade?.replace('ì¤‘ë“± ', 'ì¤‘').replace('ê³ ë“± ', 'ê³ ').replace('í•™ë…„', '')} ${user.class || ''}`;
      } else {
        academyInfo.textContent = user.academy;
      }
      
      // ê¸°ë³¸ ì •ë³´ ì—…ë°ì´íŠ¸
      updateUserModalBasicInfo(user, role);
      
      // í•™ìŠµ í˜„í™© (í•™ìƒë§Œ í‘œì‹œ)
      const learningSection = document.querySelector('#userModal .grid.grid-cols-3');
      if (learningSection) {
        learningSection.parentElement.style.display = role === 'student' ? 'block' : 'none';
      }
      
      document.getElementById('userModal').classList.add('open');
      document.body.style.overflow = 'hidden';
    }
    
    function updateUserModalBasicInfo(user, role) {
      const infoGrid = document.querySelector('#userModal .grid.grid-cols-2');
      if (!infoGrid) return;
      
      if (role === 'student') {
        infoGrid.innerHTML = `
          <div class="bg-gray-50 rounded-xl p-4">
            <p class="text-xs text-text-secondary mb-1">ì´ë¦„</p>
            <p class="font-medium">${user.name}</p>
          </div>
          <div class="bg-gray-50 rounded-xl p-4">
            <p class="text-xs text-text-secondary mb-1">ì—°ë½ì²˜</p>
            <p class="font-medium">${user.phone}</p>
          </div>
          <div class="bg-gray-50 rounded-xl p-4">
            <p class="text-xs text-text-secondary mb-1">í•™êµ/í•™ë…„</p>
            <p class="font-medium">${user.school || ''} ${user.grade?.replace('ì¤‘ë“± ', 'ì¤‘').replace('ê³ ë“± ', 'ê³ ') || ''}</p>
          </div>
          <div class="bg-gray-50 rounded-xl p-4">
            <p class="text-xs text-text-secondary mb-1">í•™ë¶€ëª¨ ì—°ë½ì²˜</p>
            <p class="font-medium">${user.parentPhone || '-'}</p>
          </div>
        `;
      } else if (role === 'instructor') {
        infoGrid.innerHTML = `
          <div class="bg-gray-50 rounded-xl p-4">
            <p class="text-xs text-text-secondary mb-1">ì´ë¦„</p>
            <p class="font-medium">${user.name}</p>
          </div>
          <div class="bg-gray-50 rounded-xl p-4">
            <p class="text-xs text-text-secondary mb-1">ì—°ë½ì²˜</p>
            <p class="font-medium">${user.phone}</p>
          </div>
          <div class="bg-gray-50 rounded-xl p-4">
            <p class="text-xs text-text-secondary mb-1">ì´ë©”ì¼</p>
            <p class="font-medium">${user.email || '-'}</p>
          </div>
          <div class="bg-gray-50 rounded-xl p-4">
            <p class="text-xs text-text-secondary mb-1">ë‹´ë‹¹ ë°˜</p>
            <p class="font-medium">${user.classes || '-'}</p>
          </div>
        `;
      } else if (role === 'parent') {
        infoGrid.innerHTML = `
          <div class="bg-gray-50 rounded-xl p-4">
            <p class="text-xs text-text-secondary mb-1">ì´ë¦„</p>
            <p class="font-medium">${user.name}</p>
          </div>
          <div class="bg-gray-50 rounded-xl p-4">
            <p class="text-xs text-text-secondary mb-1">ì—°ë½ì²˜</p>
            <p class="font-medium">${user.phone}</p>
          </div>
          <div class="bg-gray-50 rounded-xl p-4">
            <p class="text-xs text-text-secondary mb-1">ì´ë©”ì¼</p>
            <p class="font-medium">${user.email || '-'}</p>
          </div>
          <div class="bg-gray-50 rounded-xl p-4">
            <p class="text-xs text-text-secondary mb-1">ì—°ê²°ëœ ìë…€</p>
            <p class="font-medium">${user.children?.join(', ') || '-'}</p>
          </div>
        `;
      } else if (role === 'admin') {
        infoGrid.innerHTML = `
          <div class="bg-gray-50 rounded-xl p-4">
            <p class="text-xs text-text-secondary mb-1">ì´ë¦„</p>
            <p class="font-medium">${user.name}</p>
          </div>
          <div class="bg-gray-50 rounded-xl p-4">
            <p class="text-xs text-text-secondary mb-1">ì—°ë½ì²˜</p>
            <p class="font-medium">${user.phone}</p>
          </div>
          <div class="bg-gray-50 rounded-xl p-4">
            <p class="text-xs text-text-secondary mb-1">ì´ë©”ì¼</p>
            <p class="font-medium">${user.email || '-'}</p>
          </div>
          <div class="bg-gray-50 rounded-xl p-4">
            <p class="text-xs text-text-secondary mb-1">í•™ì› ì½”ë“œ</p>
            <p class="font-medium">${user.academyCode || '-'}</p>
          </div>
        `;
      }
    }
    
    function closeUserModal() {
      document.getElementById('userModal').classList.remove('open');
      document.body.style.overflow = '';
    }
    
    function openEditUserFromDetail() {
      // userModalì—ì„œ editUserModalë¡œ ì´ë™
      closeUserModal();
      openEditUserModal(currentUser.role, currentUser.id);
    }
    
    function saveUserInfo() {
      closeUserModal();
      showToast(`${currentUser.name} ì •ë³´ê°€ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.`, 'success');
    }
    
    // ========================================
    // Suspend User Modal
    // ========================================
    function openSuspendUserModal() {
      document.getElementById('suspendUserName').textContent = currentUser.name;
      document.getElementById('suspendUserRole').textContent = `${currentUser.roleName} Â· ${currentUser.academy}`;
      document.getElementById('suspendUserReason').value = '';
      document.getElementById('suspendUserDetail').value = '';
      document.getElementById('suspendUserConfirm').checked = false;
      document.getElementById('confirmSuspendUserBtn').disabled = true;
      
      closeUserModal();
      document.getElementById('suspendUserModal').classList.add('open');
      document.body.style.overflow = 'hidden';
    }
    
    function closeSuspendUserModal() {
      document.getElementById('suspendUserModal').classList.remove('open');
      document.body.style.overflow = '';
    }
    
    function checkSuspendUserForm() {
      const reason = document.getElementById('suspendUserReason').value;
      const confirmed = document.getElementById('suspendUserConfirm').checked;
      document.getElementById('confirmSuspendUserBtn').disabled = !(reason && confirmed);
    }
    
    function confirmSuspendUser() {
      const period = document.querySelector('input[name="suspendUserPeriod"]:checked').value;
      const periodText = period === '0' ? 'ë¬´ê¸°í•œ' : `${period}ì¼`;
      closeSuspendUserModal();
      showToast(`${currentUser.name} ê³„ì •ì´ ${periodText} ì •ì§€ë˜ì—ˆìŠµë‹ˆë‹¤.`, 'warning');
    }
    
    // ========================================
    // Delete User Modal
    // ========================================
    function openDeleteUserModal() {
      document.getElementById('deleteUserName').textContent = currentUser.name;
      document.getElementById('deleteUserRole').textContent = `${currentUser.roleName} Â· ${currentUser.academy}`;
      document.getElementById('deleteUserReason').value = '';
      document.getElementById('deleteUserNameConfirm').value = '';
      document.getElementById('deleteUserConfirm').checked = false;
      document.getElementById('confirmDeleteUserBtn').disabled = true;
      
      closeUserModal();
      document.getElementById('deleteUserModal').classList.add('open');
      document.body.style.overflow = 'hidden';
    }
    
    function closeDeleteUserModal() {
      document.getElementById('deleteUserModal').classList.remove('open');
      document.body.style.overflow = '';
    }
    
    function checkDeleteUserForm() {
      const reason = document.getElementById('deleteUserReason').value;
      const nameConfirm = document.getElementById('deleteUserNameConfirm').value;
      const confirmed = document.getElementById('deleteUserConfirm').checked;
      document.getElementById('confirmDeleteUserBtn').disabled = !(reason && nameConfirm === currentUser.name && confirmed);
    }
    
    function confirmDeleteUser() {
      closeDeleteUserModal();
      showToast(`${currentUser.name} ê³„ì •ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.`, 'success');
    }
    
    // ========================================
    // Transfer User Modal
    // ========================================
    function openTransferUserModal() {
      document.getElementById('transferUserName').textContent = currentUser.name;
      document.getElementById('transferUserInfo').textContent = `${currentUser.roleName}`;
      document.getElementById('currentAcademyDisplay').textContent = `${currentUser.academy} (${currentUser.academyCode})`;
      document.getElementById('targetAcademy').value = '';
      document.getElementById('transferPreview').classList.add('hidden');
      document.getElementById('confirmTransferBtn').disabled = true;
      
      closeUserModal();
      document.getElementById('transferUserModal').classList.add('open');
      document.body.style.overflow = 'hidden';
    }
    
    function closeTransferUserModal() {
      document.getElementById('transferUserModal').classList.remove('open');
      document.body.style.overflow = '';
    }
    
    function updateTransferPreview() {
      const select = document.getElementById('targetAcademy');
      const selectedOption = select.options[select.selectedIndex];
      
      if (select.value) {
        document.getElementById('targetAcademyPreview').textContent = selectedOption.dataset.name;
        document.getElementById('transferPreview').classList.remove('hidden');
        document.getElementById('confirmTransferBtn').disabled = false;
      } else {
        document.getElementById('transferPreview').classList.add('hidden');
        document.getElementById('confirmTransferBtn').disabled = true;
      }
    }
    
    function confirmTransferUser() {
      const targetName = document.getElementById('targetAcademyPreview').textContent;
      closeTransferUserModal();
      showToast(`${currentUser.name}ì´(ê°€) ${targetName}ìœ¼ë¡œ ì´ë™ë˜ì—ˆìŠµë‹ˆë‹¤.`, 'success');
    }
    
    // ========================================
    // Reset Password Modal
    // ========================================
    function openResetUserPwModal() {
      document.getElementById('resetPwUserName').textContent = currentUser.name;
      document.getElementById('resetPwUserContact').textContent = currentUser.email || currentUser.phone;
      
      // ë§ˆìŠ¤í‚¹ëœ ì—°ë½ì²˜
      if (currentUser.phone) {
        document.getElementById('resetPhonePreview').textContent = currentUser.phone.replace(/(\d{3})-(\d{2})(\d{2})-(\d{4})/, '$1-**$3-$4');
      }
      if (currentUser.email) {
        const [localPart, domain] = currentUser.email.split('@');
        document.getElementById('resetEmailPreview').textContent = `${localPart.slice(0,3)}***@${domain}`;
      }
      
      closeUserModal();
      document.getElementById('resetUserPwModal').classList.add('open');
      document.body.style.overflow = 'hidden';
    }
    
    function closeResetUserPwModal() {
      document.getElementById('resetUserPwModal').classList.remove('open');
      document.body.style.overflow = '';
    }
    
    function confirmResetUserPw() {
      const method = document.querySelector('input[name="resetMethod"]:checked').value;
      const methodText = method === 'sms' ? 'SMS' : 'ì´ë©”ì¼';
      closeResetUserPwModal();
      showToast(`${currentUser.name}ì—ê²Œ ì„ì‹œ ë¹„ë°€ë²ˆí˜¸ê°€ ${methodText}ë¡œ ë°œì†¡ë˜ì—ˆìŠµë‹ˆë‹¤.`, 'success');
    }
    
    // ========================================
    // Filter Functions
    // ========================================
    function filterByRole(role) {
      document.getElementById('roleFilter').value = role;
      showToast(`${getRoleName(role)} í•„í„°ê°€ ì ìš©ë˜ì—ˆìŠµë‹ˆë‹¤.`, 'info');
    }
    
    function getRoleName(role) {
      const names = { all: 'ì „ì²´', admin: 'ê´€ë¦¬ì', instructor: 'ê°•ì‚¬', student: 'í•™ìƒ', parent: 'í•™ë¶€ëª¨' };
      return names[role] || role;
    }
    
    // ========================================
    // Period Selection (Suspend Modal)
    // ========================================
    document.querySelectorAll('input[name="suspendUserPeriod"]').forEach(radio => {
      radio.addEventListener('change', function() {
        document.querySelectorAll('input[name="suspendUserPeriod"]').forEach(r => {
          r.closest('label').classList.remove('border-2', 'border-warning', 'bg-warning-light');
          r.closest('label').classList.add('border', 'border-border-light');
          r.closest('label').querySelector('span').classList.remove('font-medium', 'text-warning');
        });
        this.closest('label').classList.remove('border', 'border-border-light');
        this.closest('label').classList.add('border-2', 'border-warning', 'bg-warning-light');
        this.closest('label').querySelector('span').classList.add('font-medium', 'text-warning');
      });
    });
    
    // ========================================
    // Keyboard Shortcuts
    // ========================================
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') {
        closeUserModal();
        closeSuspendUserModal();
        closeDeleteUserModal();
        closeTransferUserModal();
        closeResetUserPwModal();
        closeEditUserModal();
        closeExportUsersModal();
        closeActivateUserModal();
        closeUnsuspendUserModal();
        closeUserActivityModal();
        closeBulkNotificationModal();
        closeBulkStatusModal();
        closeBulkDeleteModal();
      }
    });
    
    // ========================================
    // ìƒ˜í”Œ ì‚¬ìš©ì ë°ì´í„°
    // ========================================
    const usersData = {
      'USR001': { id: 'USR001', name: 'ê¹€ê´€ë¦¬', initial: 'ê¹€', role: 'admin', roleName: 'ê´€ë¦¬ì', academy: 'ëª…ë¶ˆí—ˆì „í•™ì›', academyCode: 'MBH001', email: 'admin@mbh.com', phone: '010-1234-5678', status: 'active' },
      'USR002': { id: 'USR002', name: 'ë°•ì„ ìƒ', initial: 'ë°•', role: 'instructor', roleName: 'ê°•ì‚¬', academy: 'ëª…ë¶ˆí—ˆì „í•™ì›', academyCode: 'MBH001', email: 'teacher.park@mbh.com', phone: '010-2345-6789', status: 'active', subjects: ['êµ­ì–´', 'ìˆ˜í•™'], classes: 'Aë°˜, Bë°˜' },
      'USR003': { id: 'USR003', name: 'ì´ë¯¼ì¤€', initial: 'ì´', role: 'student', roleName: 'í•™ìƒ', academy: 'ëª…ë¶ˆí—ˆì „í•™ì›', academyCode: 'MBH001', phone: '010-3456-7890', status: 'active', school: 'ì„œìš¸ì¤‘í•™êµ', grade: 'ì¤‘ë“± 2í•™ë…„', class: 'Aë°˜', parentPhone: '010-9876-5432' },
      'USR004': { id: 'USR004', name: 'ìµœí•™ë¶€ëª¨', initial: 'ìµœ', role: 'parent', roleName: 'í•™ë¶€ëª¨', academy: 'ëª…ë¶ˆí—ˆì „í•™ì›', academyCode: 'MBH001', email: 'parent.choi@gmail.com', phone: '010-4567-8901', status: 'active', children: ['ì´ë¯¼ì¤€'] },
      'USR005': { id: 'USR005', name: 'ì •íœ´í•™', initial: 'ì •', role: 'student', roleName: 'í•™ìƒ', academy: 'ê°•ë‚¨ìˆ˜í•™í•™ì›', academyCode: 'GNM002', phone: '010-5555-6666', status: 'inactive', school: 'ê°•ë‚¨ì¤‘í•™êµ', grade: 'ì¤‘ë“± 3í•™ë…„', class: 'Bë°˜' },
      'USR006': { id: 'USR006', name: 'í•œë¬¸ì œ', initial: 'í•œ', role: 'student', roleName: 'í•™ìƒ', academy: 'ë¶„ë‹¹ì˜ì¬í•™ì›', academyCode: 'BDE004', phone: '010-7777-8888', status: 'suspended', school: 'ë¶„ë‹¹ê³ ë“±í•™êµ', grade: 'ê³ ë“± 1í•™ë…„', class: 'Cë°˜', suspendReason: 'ì´ìš© ì •ì±… ìœ„ë°˜', suspendDate: '2025.01.02', suspendPeriod: '30ì¼', suspendEndDate: '2025.02.01' }
    };
    
    // ========================================
    // Edit User Modal
    // ========================================
    function openEditUserModal(role, userId) {
      const user = usersData[userId] || usersData['USR003'];
      currentUser = { ...user };
      
      document.getElementById('editUserSubtitle').textContent = `${user.name} Â· ${user.roleName}`;
      document.getElementById('editUserName').value = user.name;
      document.getElementById('editUserPhone').value = user.phone;
      document.getElementById('editUserEmail').value = user.email || '';
      document.getElementById('editUserStatus').value = user.status;
      
      // ì—­í• ë³„ ì„¹ì…˜ í‘œì‹œ/ìˆ¨ê¹€
      document.getElementById('editStudentSection').classList.add('hidden');
      document.getElementById('editInstructorSection').classList.add('hidden');
      document.getElementById('editParentSection').classList.add('hidden');
      document.getElementById('editAdminSection').classList.add('hidden');
      
      if (role === 'student') {
        document.getElementById('editStudentSection').classList.remove('hidden');
        document.getElementById('editStudentSchool').value = user.school || '';
        document.getElementById('editStudentParentPhone').value = user.parentPhone || '';
      } else if (role === 'instructor') {
        document.getElementById('editInstructorSection').classList.remove('hidden');
      } else if (role === 'parent') {
        document.getElementById('editParentSection').classList.remove('hidden');
      } else if (role === 'admin') {
        document.getElementById('editAdminSection').classList.remove('hidden');
      }
      
      document.getElementById('editUserModal').classList.add('open');
      document.body.style.overflow = 'hidden';
    }
    
    function closeEditUserModal() {
      document.getElementById('editUserModal').classList.remove('open');
      document.body.style.overflow = '';
    }
    
    function saveEditUser() {
      closeEditUserModal();
      showToast(`${currentUser.name} ì •ë³´ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.`, 'success');
    }
    
    function openTransferFromEdit() {
      closeEditUserModal();
      openTransferUserModal();
    }
    
    // ========================================
    // Export Users Modal
    // ========================================
    function openExportUsersModal() {
      document.getElementById('exportUsersModal').classList.add('open');
      document.body.style.overflow = 'hidden';
    }
    
    function closeExportUsersModal() {
      document.getElementById('exportUsersModal').classList.remove('open');
      document.body.style.overflow = '';
    }
    
    function selectExportFormat(element) {
      document.querySelectorAll('input[name="exportFormat"]').forEach(radio => {
        const label = radio.closest('label');
        if (radio.checked) {
          label.classList.remove('border', 'border-border-light');
          label.classList.add('border-2', 'border-super', 'bg-super-light');
          label.querySelectorAll('span').forEach(s => s.classList.add('text-super'));
        } else {
          label.classList.remove('border-2', 'border-super', 'bg-super-light');
          label.classList.add('border', 'border-border-light');
          label.querySelectorAll('span').forEach(s => s.classList.remove('text-super'));
        }
      });
    }
    
    function confirmExportUsers() {
      const format = document.querySelector('input[name="exportFormat"]:checked').value;
      closeExportUsersModal();
      showToast(`ì‚¬ìš©ì ëª©ë¡ì´ ${format.toUpperCase()} í˜•ì‹ìœ¼ë¡œ ë‚´ë³´ë‚´ê¸° ë˜ì—ˆìŠµë‹ˆë‹¤.`, 'success');
    }
    
    // ========================================
    // Activate User Modal
    // ========================================
    function openActivateUserModal(userId, name, role, academy) {
      document.getElementById('activateUserName').textContent = name;
      document.getElementById('activateUserInfo').textContent = `${role} Â· ${academy}`;
      document.getElementById('activateUserAvatar').querySelector('span').textContent = name.charAt(0);
      
      currentUser = { id: userId, name: name, role: role, academy: academy };
      
      document.getElementById('activateUserModal').classList.add('open');
      document.body.style.overflow = 'hidden';
    }
    
    function closeActivateUserModal() {
      document.getElementById('activateUserModal').classList.remove('open');
      document.body.style.overflow = '';
    }
    
    function confirmActivateUser() {
      closeActivateUserModal();
      showToast(`${currentUser.name} ê³„ì •ì´ í™œì„±í™”ë˜ì—ˆìŠµë‹ˆë‹¤.`, 'success');
    }
    
    // ========================================
    // Unsuspend User Modal
    // ========================================
    function openUnsuspendUserModal(userId, name, role, academy) {
      const user = usersData[userId] || {};
      document.getElementById('unsuspendUserName').textContent = name;
      document.getElementById('unsuspendUserInfo').textContent = `${role} Â· ${academy}`;
      document.getElementById('unsuspendUserAvatar').querySelector('span').textContent = name.charAt(0);
      document.getElementById('unsuspendReason').textContent = user.suspendReason || 'ì´ìš© ì •ì±… ìœ„ë°˜';
      document.getElementById('unsuspendDate').textContent = user.suspendDate || '2025.01.02';
      document.getElementById('unsuspendPeriod').textContent = user.suspendPeriod || '30ì¼';
      document.getElementById('unsuspendEndDate').textContent = user.suspendEndDate || '2025.02.01';
      document.getElementById('unsuspendReasonInput').value = '';
      
      currentUser = { id: userId, name: name, role: role, academy: academy };
      
      document.getElementById('unsuspendUserModal').classList.add('open');
      document.body.style.overflow = 'hidden';
    }
    
    function closeUnsuspendUserModal() {
      document.getElementById('unsuspendUserModal').classList.remove('open');
      document.body.style.overflow = '';
    }
    
    function confirmUnsuspendUser() {
      closeUnsuspendUserModal();
      showToast(`${currentUser.name} ê³„ì •ì˜ ì •ì§€ê°€ í•´ì œë˜ì—ˆìŠµë‹ˆë‹¤.`, 'success');
    }
    
    // ========================================
    // User Activity Modal
    // ========================================
    function openUserActivityModal(role, userId) {
      const user = usersData[userId] || usersData['USR003'];
      document.getElementById('activityUserName').textContent = `${user.name} Â· ${user.roleName}`;
      
      currentUser = { ...user };
      
      document.getElementById('userActivityModal').classList.add('open');
      document.body.style.overflow = 'hidden';
    }
    
    function closeUserActivityModal() {
      document.getElementById('userActivityModal').classList.remove('open');
      document.body.style.overflow = '';
    }
    
    function openUserActivityFromDetail() {
      closeUserModal();
      openUserActivityModal(currentUser.role, currentUser.id);
    }
    
    // ========================================
    // Bulk Selection
    // ========================================
    let selectedUsers = [];
    
    function updateBulkSelection() {
      const checkboxes = document.querySelectorAll('.user-checkbox:checked');
      selectedUsers = Array.from(checkboxes).map(cb => ({
        id: cb.dataset.id,
        name: cb.dataset.name
      }));
      
      const bulkBar = document.getElementById('bulkActionBar');
      if (selectedUsers.length > 0) {
        bulkBar.classList.remove('hidden');
        document.getElementById('bulkSelectedCount').textContent = `${selectedUsers.length}ëª…`;
      } else {
        bulkBar.classList.add('hidden');
      }
    }
    
    function clearBulkSelection() {
      document.querySelectorAll('.user-checkbox').forEach(cb => cb.checked = false);
      selectedUsers = [];
      document.getElementById('bulkActionBar').classList.add('hidden');
    }
    
    // ========================================
    // Bulk Actions
    // ========================================
    function bulkSendNotification() {
      document.getElementById('bulkNotifCount').textContent = selectedUsers.length;
      document.getElementById('bulkNotificationModal').classList.add('open');
      document.body.style.overflow = 'hidden';
    }
    
    function closeBulkNotificationModal() {
      document.getElementById('bulkNotificationModal').classList.remove('open');
      document.body.style.overflow = '';
    }
    
    function confirmBulkNotification() {
      closeBulkNotificationModal();
      clearBulkSelection();
      showToast(`${selectedUsers.length}ëª…ì—ê²Œ ì•Œë¦¼ì´ ë°œì†¡ë˜ì—ˆìŠµë‹ˆë‹¤.`, 'success');
    }
    
    function bulkChangeStatus() {
      document.getElementById('bulkStatusCount').textContent = selectedUsers.length;
      document.getElementById('bulkStatusModal').classList.add('open');
      document.body.style.overflow = 'hidden';
    }
    
    function closeBulkStatusModal() {
      document.getElementById('bulkStatusModal').classList.remove('open');
      document.body.style.overflow = '';
    }
    
    function confirmBulkStatus() {
      const status = document.querySelector('input[name="bulkStatusChange"]:checked').value;
      const statusNames = { active: 'í™œì„±', inactive: 'ë¹„í™œì„±', suspended: 'ì •ì§€' };
      closeBulkStatusModal();
      clearBulkSelection();
      showToast(`${selectedUsers.length}ëª…ì˜ ìƒíƒœê°€ '${statusNames[status]}'ìœ¼ë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.`, 'success');
    }
    
    function bulkTransferAcademy() {
      closeBulkStatusModal();
      // ì¼ê´„ í•™ì› ì´ë™ì€ transferUserModal ì¬í™œìš©
      document.getElementById('transferUserName').textContent = `${selectedUsers.length}ëª… ì„ íƒë¨`;
      document.getElementById('transferUserInfo').textContent = 'ì¼ê´„ í•™ì› ì´ë™';
      document.getElementById('transferUserModal').classList.add('open');
      document.body.style.overflow = 'hidden';
    }
    
    function bulkDelete() {
      document.getElementById('bulkDeleteCount').textContent = selectedUsers.length;
      document.getElementById('bulkDeleteConfirmInput').value = '';
      document.getElementById('bulkDeleteConfirmCheck').checked = false;
      document.getElementById('confirmBulkDeleteBtn').disabled = true;
      document.getElementById('bulkDeleteModal').classList.add('open');
      document.body.style.overflow = 'hidden';
    }
    
    function closeBulkDeleteModal() {
      document.getElementById('bulkDeleteModal').classList.remove('open');
      document.body.style.overflow = '';
    }
    
    function checkBulkDeleteForm() {
      const input = document.getElementById('bulkDeleteConfirmInput').value;
      const confirmed = document.getElementById('bulkDeleteConfirmCheck').checked;
      document.getElementById('confirmBulkDeleteBtn').disabled = !(input === 'ì‚­ì œ' && confirmed);
    }
    
    function confirmBulkDelete() {
      closeBulkDeleteModal();
      clearBulkSelection();
      showToast(`${selectedUsers.length}ëª…ì˜ ì‚¬ìš©ìê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.`, 'success');
    }
    
    // ========================================
    // Bulk Notification Character Counter
    // ========================================
    document.getElementById('bulkNotifMessage')?.addEventListener('input', function() {
      document.getElementById('bulkNotifCharCount').textContent = this.value.length;
    });
    
    // ========================================
    // Header Checkbox (Select All)
    // ========================================
    document.querySelector('thead input[type="checkbox"]')?.addEventListener('change', function() {
      document.querySelectorAll('.user-checkbox').forEach(cb => {
        cb.checked = this.checked;
      });
      updateBulkSelection();
    });
  </script>
  <!-- MAMA-ASST Common Modules -->
  <script src="../assets/js/common.js"></script>
  <script src="../assets/js/modal.js"></script>
  <script src="../assets/js/toast.js"></script>
  <script src="../assets/js/table.js"></script>
  <script src="../assets/js/chart-config.js"></script>

</body>
</html>
