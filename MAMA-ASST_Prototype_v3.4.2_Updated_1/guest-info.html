<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ê¸°ë³¸ ì •ë³´ ì…ë ¥ | MAMA-ASST</title>
  
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
  
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#FF6D4D',
            'primary-light': '#FFF0ED',
            navy: '#1A2E4D',
            korean: '#4285F4',
            english: '#34A853',
            math: '#FBBC05',
            planner: '#9C27B0',
            background: '#F9FAFB',
            surface: '#FFFFFF',
            'border-light': '#E5E7EB',
            'border-medium': '#D1D5DB',
            'text-primary': '#1F2937',
            'text-secondary': '#6B7280',
            'text-tertiary': '#9CA3AF',
            success: '#22C55E',
            error: '#EF4444',
            warning: '#F59E0B',
            info: '#3B82F6',
          },
          fontFamily: { sans: ['Pretendard', 'Apple SD Gothic Neo', 'Malgun Gothic', 'sans-serif'] },
        },
      },
    }
  </script>
  
  <style>
    input, select, textarea {
      font-size: 18px !important;
      min-height: 56px;
    }
    
    .radio-card input:checked + .card-content {
      border-color: #FF6D4D;
      background-color: #FFF0ED;
    }
    
    .checkbox-card input:checked + .card-content {
      border-color: #FF6D4D;
      background-color: #FFF0ED;
    }
    
    .section-card {
      scroll-margin-top: 140px;
    }
  </style>
</head>
<body class="bg-background font-sans text-text-primary antialiased min-h-screen flex flex-col">
  
  <!-- Header -->
  <header class="h-16 bg-navy text-white flex items-center justify-between px-6 flex-shrink-0">
    <div class="flex items-center gap-3">
      <div class="w-10 h-10 bg-primary rounded-xl flex items-center justify-center">
        <span class="text-white font-bold text-lg">M</span>
      </div>
      <div>
        <span class="font-bold text-lg">MAMA-ASST</span>
        <span class="px-2 py-0.5 bg-white/20 text-white text-xs font-medium rounded ml-2">ìƒë‹´ ëª¨ë“œ</span>
      </div>
    </div>
    <button onclick="callAdmin()" class="flex items-center gap-2 px-4 py-2 bg-white/10 hover:bg-white/20 rounded-xl transition-colors">
      <span class="material-icons-round text-lg">support_agent</span>
      <span class="text-sm font-medium">ì„ ìƒë‹˜ í˜¸ì¶œ</span>
    </button>
  </header>
  
  <!-- Progress Bar -->
  <div class="bg-surface border-b border-border-light px-6 py-4 flex-shrink-0 sticky top-0 z-40">
    <div class="max-w-3xl mx-auto">
      <div class="flex items-center justify-between mb-2">
        <span class="text-sm font-medium text-text-primary">1ë‹¨ê³„: ê¸°ë³¸ ì •ë³´ ì…ë ¥</span>
        <span class="text-sm text-text-tertiary">1 / 4</span>
      </div>
      <div class="w-full h-2 bg-gray-100 rounded-full overflow-hidden">
        <div class="h-full bg-primary rounded-full transition-all duration-500" style="width: 25%"></div>
      </div>
    </div>
  </div>
  
  <!-- Section Navigation -->
  <div class="bg-surface border-b border-border-light px-6 py-3 flex-shrink-0 sticky top-[72px] z-30">
    <div class="max-w-3xl mx-auto flex gap-2 overflow-x-auto pb-1">
      <button onclick="scrollToSection('student')" class="section-nav active px-4 py-2 text-sm font-medium rounded-full whitespace-nowrap bg-primary text-white">
        í•™ìƒ ì •ë³´
      </button>
      <button onclick="scrollToSection('parent')" class="section-nav px-4 py-2 text-sm font-medium rounded-full whitespace-nowrap bg-gray-100 text-text-secondary hover:bg-gray-200">
        í•™ë¶€ëª¨ ì •ë³´
      </button>
      <button onclick="scrollToSection('academic')" class="section-nav px-4 py-2 text-sm font-medium rounded-full whitespace-nowrap bg-gray-100 text-text-secondary hover:bg-gray-200">
        í•™ì—… ì •ë³´
      </button>
      <button onclick="scrollToSection('previous')" class="section-nav px-4 py-2 text-sm font-medium rounded-full whitespace-nowrap bg-gray-100 text-text-secondary hover:bg-gray-200">
        ì´ì „ í•™ì›
      </button>
      <button onclick="scrollToSection('additional')" class="section-nav px-4 py-2 text-sm font-medium rounded-full whitespace-nowrap bg-gray-100 text-text-secondary hover:bg-gray-200">
        ì¶”ê°€ ì •ë³´
      </button>
    </div>
  </div>
  
  <main class="flex-1 px-6 py-8 overflow-y-auto">
    <div class="max-w-3xl mx-auto">
      
      <!-- Welcome Message -->
      <div class="bg-primary-light rounded-2xl p-5 mb-8">
        <div class="flex items-start gap-3">
          <span class="material-icons-round text-primary text-2xl">waving_hand</span>
          <div>
            <p class="font-bold text-text-primary mb-1">ì•ˆë…•í•˜ì„¸ìš”! ë°˜ê°‘ìŠµë‹ˆë‹¤ ğŸ˜Š</p>
            <p class="text-text-secondary">ìƒë‹´ì„ ìœ„í•´ ëª‡ ê°€ì§€ ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”. ì •í™•í•œ ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì‹œë©´ ë” ì¢‹ì€ ìƒë‹´ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>
          </div>
        </div>
      </div>
      
      <form id="guestInfoForm" class="space-y-8">
        
        <!-- Section 1: Student Info -->
        <div id="student" class="section-card bg-surface rounded-2xl border border-border-light p-6">
          <h2 class="text-lg font-bold text-text-primary mb-6 flex items-center gap-2">
            <span class="w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center">
              <span class="material-icons-round text-primary text-sm">person</span>
            </span>
            í•™ìƒ ì •ë³´
          </h2>
          
          <div class="space-y-5">
            <!-- Student Name -->
            <div>
              <label class="block text-sm font-medium text-text-primary mb-2">
                í•™ìƒ ì´ë¦„ <span class="text-error">*</span>
              </label>
              <input type="text" id="studentName" required placeholder="í™ê¸¸ë™"
                class="w-full px-4 py-3 border border-border-medium rounded-xl focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary">
            </div>
            
            <!-- School Level -->
            <div>
              <label class="block text-sm font-medium text-text-primary mb-2">
                í•™êµê¸‰ <span class="text-error">*</span>
              </label>
              <div class="grid grid-cols-3 gap-3">
                <label class="radio-card cursor-pointer">
                  <input type="radio" name="schoolLevel" value="elementary" class="hidden" required>
                  <div class="card-content p-4 border-2 border-border-light rounded-xl text-center transition-all">
                    <span class="material-icons-round text-2xl text-info mb-1">child_care</span>
                    <p class="font-medium">ì´ˆë“±í•™êµ</p>
                  </div>
                </label>
                <label class="radio-card cursor-pointer">
                  <input type="radio" name="schoolLevel" value="middle" class="hidden">
                  <div class="card-content p-4 border-2 border-border-light rounded-xl text-center transition-all">
                    <span class="material-icons-round text-2xl text-success mb-1">school</span>
                    <p class="font-medium">ì¤‘í•™êµ</p>
                  </div>
                </label>
                <label class="radio-card cursor-pointer">
                  <input type="radio" name="schoolLevel" value="high" class="hidden">
                  <div class="card-content p-4 border-2 border-border-light rounded-xl text-center transition-all">
                    <span class="material-icons-round text-2xl text-warning mb-1">auto_stories</span>
                    <p class="font-medium">ê³ ë“±í•™êµ</p>
                  </div>
                </label>
              </div>
            </div>
            
            <!-- Grade -->
            <div>
              <label class="block text-sm font-medium text-text-primary mb-2">
                í•™ë…„ <span class="text-error">*</span>
              </label>
              <select id="grade" required
                class="w-full px-4 py-3 border border-border-medium rounded-xl focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary bg-white">
                <option value="">í•™ë…„ì„ ì„ íƒí•˜ì„¸ìš”</option>
              </select>
            </div>
            
            <!-- School Name -->
            <div>
              <label class="block text-sm font-medium text-text-primary mb-2">
                í•™êµëª… <span class="text-error">*</span>
              </label>
              <input type="text" id="schoolName" required placeholder="ì„œìš¸ì¤‘í•™êµ"
                class="w-full px-4 py-3 border border-border-medium rounded-xl focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary">
            </div>
            
            <!-- Address -->
            <div>
              <label class="block text-sm font-medium text-text-primary mb-2">
                ê±°ì£¼ì§€ ì£¼ì†Œ
              </label>
              <input type="text" id="address" placeholder="ì„œìš¸ì‹œ ê°•ë‚¨êµ¬ ì—­ì‚¼ë™"
                class="w-full px-4 py-3 border border-border-medium rounded-xl focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary">
              <p class="text-xs text-text-tertiary mt-1">í†µí•™ ê±°ë¦¬ í™•ì¸ì„ ìœ„í•´ ì…ë ¥í•´ì£¼ì„¸ìš”</p>
            </div>
          </div>
        </div>
        
        <!-- Section 2: Parent Info -->
        <div id="parent" class="section-card bg-surface rounded-2xl border border-border-light p-6">
          <h2 class="text-lg font-bold text-text-primary mb-6 flex items-center gap-2">
            <span class="w-8 h-8 rounded-full bg-info/10 flex items-center justify-center">
              <span class="material-icons-round text-info text-sm">family_restroom</span>
            </span>
            í•™ë¶€ëª¨ ì •ë³´
          </h2>
          
          <div class="space-y-5">
            <!-- Parent Name -->
            <div>
              <label class="block text-sm font-medium text-text-primary mb-2">
                í•™ë¶€ëª¨ ì„±í•¨ <span class="text-error">*</span>
              </label>
              <input type="text" id="parentName" required placeholder="ê¹€í•™ë¶€ëª¨"
                class="w-full px-4 py-3 border border-border-medium rounded-xl focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary">
            </div>
            
            <!-- Parent Phone -->
            <div>
              <label class="block text-sm font-medium text-text-primary mb-2">
                ì—°ë½ì²˜ <span class="text-error">*</span>
              </label>
              <input type="tel" id="parentPhone" required placeholder="010-1234-5678"
                class="w-full px-4 py-3 border border-border-medium rounded-xl focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary">
            </div>
            
            <!-- Relationship -->
            <div>
              <label class="block text-sm font-medium text-text-primary mb-2">
                ê´€ê³„ <span class="text-error">*</span>
              </label>
              <div class="grid grid-cols-3 gap-3">
                <label class="radio-card cursor-pointer">
                  <input type="radio" name="relationship" value="mother" class="hidden" required>
                  <div class="card-content p-3 border-2 border-border-light rounded-xl text-center transition-all">
                    <p class="font-medium">ì–´ë¨¸ë‹ˆ</p>
                  </div>
                </label>
                <label class="radio-card cursor-pointer">
                  <input type="radio" name="relationship" value="father" class="hidden">
                  <div class="card-content p-3 border-2 border-border-light rounded-xl text-center transition-all">
                    <p class="font-medium">ì•„ë²„ì§€</p>
                  </div>
                </label>
                <label class="radio-card cursor-pointer">
                  <input type="radio" name="relationship" value="other" class="hidden">
                  <div class="card-content p-3 border-2 border-border-light rounded-xl text-center transition-all">
                    <p class="font-medium">ê¸°íƒ€</p>
                  </div>
                </label>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Section 3: Academic Info -->
        <div id="academic" class="section-card bg-surface rounded-2xl border border-border-light p-6">
          <h2 class="text-lg font-bold text-text-primary mb-6 flex items-center gap-2">
            <span class="w-8 h-8 rounded-full bg-success/10 flex items-center justify-center">
              <span class="material-icons-round text-success text-sm">assessment</span>
            </span>
            í•™ì—… ì •ë³´
          </h2>
          
          <div class="space-y-5">
            <!-- School Grades -->
            <div>
              <label class="block text-sm font-medium text-text-primary mb-2">
                í•™êµ ë‚´ì‹  ì„±ì  (ìµœê·¼)
              </label>
              <div class="grid grid-cols-3 gap-3">
                <div>
                  <label class="text-xs text-text-tertiary mb-1 block">êµ­ì–´</label>
                  <select id="gradeKorean" class="w-full px-3 py-3 border border-border-medium rounded-xl focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary bg-white text-base">
                    <option value="">ì„ íƒ</option>
                    <option value="A">A (90ì  ì´ìƒ)</option>
                    <option value="B">B (80~89ì )</option>
                    <option value="C">C (70~79ì )</option>
                    <option value="D">D (60~69ì )</option>
                    <option value="E">E (60ì  ë¯¸ë§Œ)</option>
                  </select>
                </div>
                <div>
                  <label class="text-xs text-text-tertiary mb-1 block">ì˜ì–´</label>
                  <select id="gradeEnglish" class="w-full px-3 py-3 border border-border-medium rounded-xl focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary bg-white text-base">
                    <option value="">ì„ íƒ</option>
                    <option value="A">A (90ì  ì´ìƒ)</option>
                    <option value="B">B (80~89ì )</option>
                    <option value="C">C (70~79ì )</option>
                    <option value="D">D (60~69ì )</option>
                    <option value="E">E (60ì  ë¯¸ë§Œ)</option>
                  </select>
                </div>
                <div>
                  <label class="text-xs text-text-tertiary mb-1 block">ìˆ˜í•™</label>
                  <select id="gradeMath" class="w-full px-3 py-3 border border-border-medium rounded-xl focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary bg-white text-base">
                    <option value="">ì„ íƒ</option>
                    <option value="A">A (90ì  ì´ìƒ)</option>
                    <option value="B">B (80~89ì )</option>
                    <option value="C">C (70~79ì )</option>
                    <option value="D">D (60~69ì )</option>
                    <option value="E">E (60ì  ë¯¸ë§Œ)</option>
                  </select>
                </div>
              </div>
            </div>
            
            <!-- Mock Test Score (for high school) -->
            <div id="mockTestSection" class="hidden">
              <label class="block text-sm font-medium text-text-primary mb-2">
                ëª¨ì˜ê³ ì‚¬ ë“±ê¸‰ (ê³ ë“±í•™ìƒ)
              </label>
              <div class="grid grid-cols-3 gap-3">
                <div>
                  <label class="text-xs text-text-tertiary mb-1 block">êµ­ì–´</label>
                  <select id="mockKorean" class="w-full px-3 py-3 border border-border-medium rounded-xl focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary bg-white text-base">
                    <option value="">ì„ íƒ</option>
                    <option value="1">1ë“±ê¸‰</option>
                    <option value="2">2ë“±ê¸‰</option>
                    <option value="3">3ë“±ê¸‰</option>
                    <option value="4">4ë“±ê¸‰</option>
                    <option value="5">5ë“±ê¸‰</option>
                    <option value="6">6ë“±ê¸‰</option>
                    <option value="7">7ë“±ê¸‰</option>
                    <option value="8">8ë“±ê¸‰</option>
                    <option value="9">9ë“±ê¸‰</option>
                  </select>
                </div>
                <div>
                  <label class="text-xs text-text-tertiary mb-1 block">ì˜ì–´</label>
                  <select id="mockEnglish" class="w-full px-3 py-3 border border-border-medium rounded-xl focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary bg-white text-base">
                    <option value="">ì„ íƒ</option>
                    <option value="1">1ë“±ê¸‰</option>
                    <option value="2">2ë“±ê¸‰</option>
                    <option value="3">3ë“±ê¸‰</option>
                    <option value="4">4ë“±ê¸‰</option>
                    <option value="5">5ë“±ê¸‰</option>
                    <option value="6">6ë“±ê¸‰</option>
                    <option value="7">7ë“±ê¸‰</option>
                    <option value="8">8ë“±ê¸‰</option>
                    <option value="9">9ë“±ê¸‰</option>
                  </select>
                </div>
                <div>
                  <label class="text-xs text-text-tertiary mb-1 block">ìˆ˜í•™</label>
                  <select id="mockMath" class="w-full px-3 py-3 border border-border-medium rounded-xl focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary bg-white text-base">
                    <option value="">ì„ íƒ</option>
                    <option value="1">1ë“±ê¸‰</option>
                    <option value="2">2ë“±ê¸‰</option>
                    <option value="3">3ë“±ê¸‰</option>
                    <option value="4">4ë“±ê¸‰</option>
                    <option value="5">5ë“±ê¸‰</option>
                    <option value="6">6ë“±ê¸‰</option>
                    <option value="7">7ë“±ê¸‰</option>
                    <option value="8">8ë“±ê¸‰</option>
                    <option value="9">9ë“±ê¸‰</option>
                  </select>
                </div>
              </div>
            </div>
            
            <!-- Target University -->
            <div>
              <label class="block text-sm font-medium text-text-primary mb-2">
                í¬ë§ ëª©í‘œ ëŒ€í•™
              </label>
              <input type="text" id="targetUniversity" placeholder="ì˜ˆ: ì„œìš¸ëŒ€, SKYê¶Œ, ì¸ì„œìš¸ ë“±"
                class="w-full px-4 py-3 border border-border-medium rounded-xl focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary">
              <p class="text-xs text-text-tertiary mt-1">êµ¬ì²´ì ì¸ ëŒ€í•™ëª… ë˜ëŠ” ëª©í‘œ ìˆ˜ì¤€ì„ ì…ë ¥í•´ì£¼ì„¸ìš”</p>
            </div>
            
            <!-- Interested Subjects -->
            <div>
              <label class="block text-sm font-medium text-text-primary mb-2">
                ê´€ì‹¬ ê³¼ëª© (ìˆ˜ê°• í¬ë§)
              </label>
              <div class="grid grid-cols-3 gap-3">
                <label class="checkbox-card cursor-pointer">
                  <input type="checkbox" name="subjects" value="korean" class="hidden">
                  <div class="card-content p-4 border-2 border-border-light rounded-xl text-center transition-all">
                    <span class="material-icons-round text-2xl text-korean mb-1">menu_book</span>
                    <p class="font-medium">êµ­ì–´</p>
                  </div>
                </label>
                <label class="checkbox-card cursor-pointer">
                  <input type="checkbox" name="subjects" value="english" class="hidden">
                  <div class="card-content p-4 border-2 border-border-light rounded-xl text-center transition-all">
                    <span class="material-icons-round text-2xl text-english mb-1">translate</span>
                    <p class="font-medium">ì˜ì–´</p>
                  </div>
                </label>
                <label class="checkbox-card cursor-pointer">
                  <input type="checkbox" name="subjects" value="math" class="hidden">
                  <div class="card-content p-4 border-2 border-border-light rounded-xl text-center transition-all">
                    <span class="material-icons-round text-2xl text-math mb-1">calculate</span>
                    <p class="font-medium">ìˆ˜í•™</p>
                  </div>
                </label>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Section 4: Previous Academy -->
        <div id="previous" class="section-card bg-surface rounded-2xl border border-border-light p-6">
          <h2 class="text-lg font-bold text-text-primary mb-6 flex items-center gap-2">
            <span class="w-8 h-8 rounded-full bg-warning/10 flex items-center justify-center">
              <span class="material-icons-round text-warning text-sm">history_edu</span>
            </span>
            ì´ì „ í•™ì› ì´ë ¥
          </h2>
          
          <div class="space-y-5">
            <!-- Previous Academy Name -->
            <div>
              <label class="block text-sm font-medium text-text-primary mb-2">
                ì´ì „ í•™ì›ëª…
              </label>
              <input type="text" id="previousAcademy" placeholder="ì´ì „ì— ë‹¤ë‹ˆë˜ í•™ì›ëª… (ì—†ìœ¼ë©´ ë¹„ì›Œë‘ì„¸ìš”)"
                class="w-full px-4 py-3 border border-border-medium rounded-xl focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary">
            </div>
            
            <!-- Duration -->
            <div>
              <label class="block text-sm font-medium text-text-primary mb-2">
                ë“±ë¡ ê¸°ê°„
              </label>
              <select id="previousDuration" class="w-full px-4 py-3 border border-border-medium rounded-xl focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary bg-white">
                <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                <option value="1month">1ê°œì›” ë¯¸ë§Œ</option>
                <option value="3months">1~3ê°œì›”</option>
                <option value="6months">3~6ê°œì›”</option>
                <option value="1year">6ê°œì›”~1ë…„</option>
                <option value="2years">1~2ë…„</option>
                <option value="over2years">2ë…„ ì´ìƒ</option>
              </select>
            </div>
            
            <!-- Exit Reason -->
            <div>
              <label class="block text-sm font-medium text-text-primary mb-2">
                í‡´ì› ì‚¬ìœ 
              </label>
              <select id="exitReason" class="w-full px-4 py-3 border border-border-medium rounded-xl focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary bg-white">
                <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                <option value="distance">ê±°ë¦¬/í†µí•™ ë¬¸ì œ</option>
                <option value="schedule">ì‹œê°„í‘œ ë¶ˆì¼ì¹˜</option>
                <option value="cost">ë¹„ìš© ë¬¸ì œ</option>
                <option value="teaching">êµìœ¡ ë°©ì‹ ë¶ˆë§Œì¡±</option>
                <option value="progress">ì„±ì  í–¥ìƒ ë¯¸í¡</option>
                <option value="relationship">ì„ ìƒë‹˜/ì¹œêµ¬ ê´€ê³„</option>
                <option value="moving">ì´ì‚¬</option>
                <option value="other">ê¸°íƒ€</option>
              </select>
            </div>
            
            <!-- Exit Reason Detail -->
            <div id="exitReasonDetailSection" class="hidden">
              <label class="block text-sm font-medium text-text-primary mb-2">
                ìƒì„¸ ì‚¬ìœ 
              </label>
              <textarea id="exitReasonDetail" rows="2" placeholder="êµ¬ì²´ì ì¸ ì‚¬ìœ ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”"
                class="w-full px-4 py-3 border border-border-medium rounded-xl focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary resize-none"></textarea>
            </div>
          </div>
        </div>
        
        <!-- Section 5: Additional Info -->
        <div id="additional" class="section-card bg-surface rounded-2xl border border-border-light p-6">
          <h2 class="text-lg font-bold text-text-primary mb-6 flex items-center gap-2">
            <span class="w-8 h-8 rounded-full bg-planner/10 flex items-center justify-center">
              <span class="material-icons-round text-planner text-sm">info</span>
            </span>
            ì¶”ê°€ ì •ë³´
          </h2>
          
          <div class="space-y-5">
            <!-- Referral Source -->
            <div>
              <label class="block text-sm font-medium text-text-primary mb-2">
                í•™ì›ì„ ì•Œê²Œ ëœ ê²½ë¡œ <span class="text-error">*</span>
              </label>
              <select id="referralSource" required class="w-full px-4 py-3 border border-border-medium rounded-xl focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary bg-white">
                <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                <option value="friend">ì§€ì¸ ì¶”ì²œ</option>
                <option value="online">ì˜¨ë¼ì¸ ê²€ìƒ‰</option>
                <option value="sns">SNS (ì¸ìŠ¤íƒ€ê·¸ë¨, ë¸”ë¡œê·¸ ë“±)</option>
                <option value="flyer">ì „ë‹¨ì§€/í˜„ìˆ˜ë§‰</option>
                <option value="nearby">ì£¼ë³€ í†µí–‰ ì¤‘</option>
                <option value="other">ê¸°íƒ€</option>
              </select>
            </div>
            
            <!-- Referrer Name -->
            <div id="referrerSection" class="hidden">
              <label class="block text-sm font-medium text-text-primary mb-2">
                ì¶”ì²œì¸ ì„±í•¨
              </label>
              <input type="text" id="referrerName" placeholder="ì¶”ì²œí•´ì£¼ì‹  ë¶„ì˜ ì„±í•¨ì„ ì…ë ¥í•´ì£¼ì„¸ìš”"
                class="w-full px-4 py-3 border border-border-medium rounded-xl focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary">
              <p class="text-xs text-text-tertiary mt-1">ì¶”ì²œì¸ í˜œíƒì´ ì œê³µë  ìˆ˜ ìˆìŠµë‹ˆë‹¤</p>
            </div>
            
            <!-- Consultation Purpose -->
            <div>
              <label class="block text-sm font-medium text-text-primary mb-2">
                ìƒë‹´ ëª©ì  ë° ê¸°ëŒ€ì‚¬í•­
              </label>
              <textarea id="consultationPurpose" rows="3" placeholder="ì˜ˆ: ì„±ì  í–¥ìƒ, ìê¸°ì£¼ë„ í•™ìŠµ ìŠµê´€, ëŒ€ì… ì¤€ë¹„ ë“±"
                class="w-full px-4 py-3 border border-border-medium rounded-xl focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary resize-none"></textarea>
            </div>
          </div>
        </div>
        
        <!-- Privacy Agreement -->
        <div class="bg-gray-50 rounded-2xl p-5">
          <label class="flex items-start gap-3 cursor-pointer">
            <input type="checkbox" id="privacyAgreement" required class="mt-1 w-5 h-5 rounded border-border-medium text-primary focus:ring-primary">
            <div>
              <p class="font-medium text-text-primary">ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë° ì´ìš© ë™ì˜ <span class="text-error">*</span></p>
              <p class="text-sm text-text-secondary mt-1">
                ìƒë‹´ ì§„í–‰ì„ ìœ„í•´ ìœ„ ì •ë³´ë¥¼ ìˆ˜ì§‘í•˜ë©°, ìˆ˜ì§‘ëœ ì •ë³´ëŠ” ìƒë‹´ ëª©ì ìœ¼ë¡œë§Œ ì‚¬ìš©ë©ë‹ˆë‹¤.
                <button type="button" class="text-primary underline">ì „ë¬¸ ë³´ê¸°</button>
              </p>
            </div>
          </label>
        </div>
        
        <!-- Submit Button -->
        <div class="flex gap-3">
          <button type="button" onclick="saveDraft()" class="flex-1 py-4 border border-border-light text-text-secondary rounded-xl font-bold text-lg hover:bg-gray-50 transition-colors">
            ì„ì‹œ ì €ì¥
          </button>
          <button type="submit" class="flex-[2] py-4 bg-primary hover:bg-primary/90 text-white rounded-xl font-bold text-lg transition-colors flex items-center justify-center gap-2">
            ë‹¤ìŒ ë‹¨ê³„ë¡œ
            <span class="material-icons-round">arrow_forward</span>
          </button>
        </div>
        
      </form>
      
    </div>
  </main>
  
  <!-- Admin Call Modal -->
  <div id="adminCallModal" class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 hidden">
    <div class="bg-surface rounded-2xl p-6 max-w-sm mx-4 text-center">
      <div class="w-16 h-16 mx-auto rounded-full bg-primary-light flex items-center justify-center mb-4">
        <span class="material-icons-round text-primary text-3xl animate-pulse">notifications_active</span>
      </div>
      <h2 class="text-lg font-bold text-text-primary mb-2">ì„ ìƒë‹˜ì„ í˜¸ì¶œí–ˆìŠµë‹ˆë‹¤</h2>
      <p class="text-text-secondary mb-4">ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”.</p>
      <button onclick="closeAdminModal()" class="px-6 py-2 bg-gray-100 text-text-secondary rounded-xl font-medium">
        í™•ì¸
      </button>
    </div>
  </div>
  
  <script>
    // Grade options based on school level
    const gradeOptions = {
      elementary: ['1í•™ë…„', '2í•™ë…„', '3í•™ë…„', '4í•™ë…„', '5í•™ë…„', '6í•™ë…„'],
      middle: ['1í•™ë…„', '2í•™ë…„', '3í•™ë…„'],
      high: ['1í•™ë…„', '2í•™ë…„', '3í•™ë…„']
    };
    
    // Update grade dropdown when school level changes
    document.querySelectorAll('input[name="schoolLevel"]').forEach(radio => {
      radio.addEventListener('change', function() {
        const gradeSelect = document.getElementById('grade');
        const options = gradeOptions[this.value];
        
        gradeSelect.innerHTML = '<option value="">í•™ë…„ì„ ì„ íƒí•˜ì„¸ìš”</option>';
        options.forEach((grade, index) => {
          gradeSelect.innerHTML += `<option value="${index + 1}">${grade}</option>`;
        });
        
        // Show/hide mock test section for high school
        const mockTestSection = document.getElementById('mockTestSection');
        if (this.value === 'high') {
          mockTestSection.classList.remove('hidden');
        } else {
          mockTestSection.classList.add('hidden');
        }
      });
    });
    
    // Show referrer section when "ì§€ì¸ ì¶”ì²œ" is selected
    document.getElementById('referralSource').addEventListener('change', function() {
      const referrerSection = document.getElementById('referrerSection');
      if (this.value === 'friend') {
        referrerSection.classList.remove('hidden');
      } else {
        referrerSection.classList.add('hidden');
      }
    });
    
    // Show exit reason detail when specific reasons are selected
    document.getElementById('exitReason').addEventListener('change', function() {
      const detailSection = document.getElementById('exitReasonDetailSection');
      if (this.value && this.value !== '') {
        detailSection.classList.remove('hidden');
      } else {
        detailSection.classList.add('hidden');
      }
    });
    
    // Format phone number
    document.getElementById('parentPhone').addEventListener('input', function() {
      let value = this.value.replace(/\D/g, '');
      if (value.length > 3 && value.length <= 7) {
        value = value.slice(0, 3) + '-' + value.slice(3);
      } else if (value.length > 7) {
        value = value.slice(0, 3) + '-' + value.slice(3, 7) + '-' + value.slice(7, 11);
      }
      this.value = value;
    });
    
    // Scroll to section
    function scrollToSection(sectionId) {
      document.getElementById(sectionId).scrollIntoView({ behavior: 'smooth' });
      
      // Update nav buttons
      document.querySelectorAll('.section-nav').forEach(btn => {
        btn.classList.remove('bg-primary', 'text-white');
        btn.classList.add('bg-gray-100', 'text-text-secondary');
      });
      event.target.classList.remove('bg-gray-100', 'text-text-secondary');
      event.target.classList.add('bg-primary', 'text-white');
    }
    
    // Form submission
    document.getElementById('guestInfoForm').addEventListener('submit', function(e) {
      e.preventDefault();
      
      // Collect form data
      const formData = {
        studentName: document.getElementById('studentName').value,
        schoolLevel: document.querySelector('input[name="schoolLevel"]:checked')?.value,
        grade: document.getElementById('grade').value,
        schoolName: document.getElementById('schoolName').value,
        address: document.getElementById('address').value,
        parentName: document.getElementById('parentName').value,
        parentPhone: document.getElementById('parentPhone').value,
        relationship: document.querySelector('input[name="relationship"]:checked')?.value,
        grades: {
          korean: document.getElementById('gradeKorean').value,
          english: document.getElementById('gradeEnglish').value,
          math: document.getElementById('gradeMath').value
        },
        mockTest: {
          korean: document.getElementById('mockKorean').value,
          english: document.getElementById('mockEnglish').value,
          math: document.getElementById('mockMath').value
        },
        targetUniversity: document.getElementById('targetUniversity').value,
        subjects: Array.from(document.querySelectorAll('input[name="subjects"]:checked')).map(cb => cb.value),
        previousAcademy: document.getElementById('previousAcademy').value,
        previousDuration: document.getElementById('previousDuration').value,
        exitReason: document.getElementById('exitReason').value,
        exitReasonDetail: document.getElementById('exitReasonDetail').value,
        referralSource: document.getElementById('referralSource').value,
        referrerName: document.getElementById('referrerName').value,
        consultationPurpose: document.getElementById('consultationPurpose').value
      };
      
      // Save to sessionStorage
      sessionStorage.setItem('guestInfo', JSON.stringify(formData));
      
      // Navigate to tendency test intro
      window.location.href = 'guest-tendency-intro.html';
    });
    
    // Save draft
    function saveDraft() {
      const formData = {
        studentName: document.getElementById('studentName').value,
        schoolLevel: document.querySelector('input[name="schoolLevel"]:checked')?.value,
        grade: document.getElementById('grade').value,
        schoolName: document.getElementById('schoolName').value,
        address: document.getElementById('address').value,
        parentName: document.getElementById('parentName').value,
        parentPhone: document.getElementById('parentPhone').value,
        relationship: document.querySelector('input[name="relationship"]:checked')?.value,
        grades: {
          korean: document.getElementById('gradeKorean').value,
          english: document.getElementById('gradeEnglish').value,
          math: document.getElementById('gradeMath').value
        },
        targetUniversity: document.getElementById('targetUniversity').value,
        subjects: Array.from(document.querySelectorAll('input[name="subjects"]:checked')).map(cb => cb.value),
        previousAcademy: document.getElementById('previousAcademy').value,
        previousDuration: document.getElementById('previousDuration').value,
        exitReason: document.getElementById('exitReason').value,
        referralSource: document.getElementById('referralSource').value,
        referrerName: document.getElementById('referrerName').value,
        consultationPurpose: document.getElementById('consultationPurpose').value
      };
      sessionStorage.setItem('guestInfoDraft', JSON.stringify(formData));
      alert('ì„ì‹œ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.');
    }
    
    // Admin call
    function callAdmin() {
      document.getElementById('adminCallModal').classList.remove('hidden');
    }
    
    function closeAdminModal() {
      document.getElementById('adminCallModal').classList.add('hidden');
    }
    
    // Load draft on page load
    document.addEventListener('DOMContentLoaded', function() {
      const draft = sessionStorage.getItem('guestInfoDraft');
      if (draft) {
        const data = JSON.parse(draft);
        if (data.studentName) document.getElementById('studentName').value = data.studentName;
        if (data.schoolName) document.getElementById('schoolName').value = data.schoolName;
        if (data.address) document.getElementById('address').value = data.address;
        if (data.parentName) document.getElementById('parentName').value = data.parentName;
        if (data.parentPhone) document.getElementById('parentPhone').value = data.parentPhone;
        if (data.targetUniversity) document.getElementById('targetUniversity').value = data.targetUniversity;
        if (data.previousAcademy) document.getElementById('previousAcademy').value = data.previousAcademy;
        if (data.consultationPurpose) document.getElementById('consultationPurpose').value = data.consultationPurpose;
        // Restore more fields as needed
      }
    });
  </script>
  <!-- MAMA-ASST Common Modules -->
  <script src="assets/js/common.js"></script>
  <script src="assets/js/modal.js"></script>
  <script src="assets/js/toast.js"></script>
  <script src="assets/js/table.js"></script>
  <script src="assets/js/chart-config.js"></script>

</body>
</html>
