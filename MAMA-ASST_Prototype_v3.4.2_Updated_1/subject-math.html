<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ìˆ˜í•™ | MAMA-ASST</title>
  
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
  
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#FF6D4D',
            'primary-light': '#FFF0ED',
            navy: '#1A2E4D',
            'navy-light': '#2C4872',
            math: '#FBBC05',
            'math-light': '#FEF7E0',
            'math-dark': '#E5A800',
            background: '#F9FAFB',
            surface: '#FFFFFF',
            'border-light': '#E5E7EB',
            'text-primary': '#1F2937',
            'text-secondary': '#6B7280',
            'text-tertiary': '#9CA3AF',
            success: '#22C55E',
            'success-light': '#F0FDF4',
            error: '#EF4444',
            'error-light': '#FEF2F2',
            warning: '#F59E0B',
            'warning-light': '#FFFBEB',
          },
          fontFamily: { sans: ['Pretendard', 'Apple SD Gothic Neo', 'Malgun Gothic', 'sans-serif'] },
          boxShadow: {
            'card': '0 1px 3px rgba(0,0,0,0.08), 0 4px 12px rgba(0,0,0,0.04)',
          },
        },
      },
    }
  </script>
  
  <style>
    ::-webkit-scrollbar { width: 6px; }
    ::-webkit-scrollbar-track { background: transparent; }
    ::-webkit-scrollbar-thumb { background: #D1D5DB; border-radius: 3px; }
    
    .card-hover { transition: all 0.2s ease-out; }
    .card-hover:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
    
    .nav-active::before {
      content: '';
      position: absolute;
      left: 0;
      top: 50%;
      transform: translateY(-50%);
      width: 4px;
      height: 70%;
      background: #FF6D4D;
      border-radius: 0 4px 4px 0;
    }
    
    @keyframes pulse-dot {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }
    .pulse-dot { animation: pulse-dot 2s ease-in-out infinite; }
    
    @keyframes pulse-ring {
      0% { transform: scale(0.95); opacity: 1; }
      100% { transform: scale(1.3); opacity: 0; }
    }
    .pulse-ring { animation: pulse-ring 1.5s ease-out infinite; }
    
    .badge-direct {
      background: linear-gradient(135deg, #22C55E 0%, #16A34A 100%);
      color: white;
    }
    .badge-step {
      background: linear-gradient(135deg, #FBBC05 0%, #F59E0B 100%);
      color: #1F2937;
    }
    
    @keyframes slide-up {
      from { transform: translateY(20px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
    .slide-up { animation: slide-up 0.3s ease-out; }
  </style>
</head>
<body class="bg-background font-sans text-text-primary antialiased">
  
  <!-- Desktop Layout -->
  <div class="hidden lg:flex h-screen overflow-hidden">
    
    <!-- Sidebar -->
    <aside class="w-64 bg-navy flex flex-col flex-shrink-0">
      <div class="p-5 border-b border-white/10">
        <a href="student-dashboard.html" class="flex items-center gap-3">
          <div class="w-10 h-10 bg-primary rounded-xl flex items-center justify-center shadow-lg">
            <span class="text-white font-bold text-lg">M</span>
          </div>
          <div>
            <span class="text-white font-bold text-lg tracking-tight">MAMA-ASST</span>
            <span class="block text-white/50 text-[10px] tracking-wider">MATCHING & MANAGEMENT</span>
          </div>
        </a>
      </div>
      
      <a href="mypage.html" class="p-5 border-b border-white/10 flex items-center gap-3 hover:bg-white/5 transition-colors">
        <div class="w-12 h-12 rounded-full bg-gradient-to-br from-primary to-orange-300 p-0.5">
          <div class="w-full h-full rounded-full bg-navy overflow-hidden">
            <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=jimin&backgroundColor=ffdfbf" alt="í”„ë¡œí•„" class="w-full h-full object-cover">
          </div>
        </div>
        <div class="flex-1 min-w-0">
          <p class="text-white font-semibold truncate">ê¹€ì§€ë¯¼</p>
          <p class="text-white/50 text-xs">ì¤‘í•™êµ 2í•™ë…„</p>
        </div>
      </a>
      
      <nav class="flex-1 p-4 space-y-1 overflow-y-auto">
        <a href="student-dashboard.html" class="flex items-center gap-3 px-4 py-3 text-white/60 hover:bg-white/5 hover:text-white rounded-xl transition-colors">
          <span class="material-icons-round">home</span>
          <span>í™ˆ</span>
        </a>
        <a href="subjects.html" class="nav-active relative flex items-center gap-3 px-4 py-3 bg-white/10 text-white rounded-xl font-medium">
          <span class="material-icons-round text-math">auto_stories</span>
          <span>ê³¼ëª©</span>
        </a>
        <a href="report.html" class="flex items-center gap-3 px-4 py-3 text-white/60 hover:bg-white/5 hover:text-white rounded-xl transition-colors">
          <span class="material-icons-round">insights</span>
          <span>ë¦¬í¬íŠ¸</span>
        </a>
        <a href="planner.html" class="flex items-center gap-3 px-4 py-3 text-white/60 hover:bg-white/5 hover:text-white rounded-xl transition-colors">
          <span class="material-icons-round">calendar_month</span>
          <span>ì¼ì •</span>
        </a>
      </nav>
      
      <div class="p-4 border-t border-white/10">
        <a href="settings.html" class="flex items-center gap-3 px-4 py-3 text-white/60 hover:bg-white/5 hover:text-white rounded-xl transition-colors">
          <span class="material-icons-round">settings</span>
          <span>ì„¤ì •</span>
        </a>
      </div>
    </aside>
    
    <!-- Main Content -->
    <main class="flex-1 flex flex-col min-w-0 overflow-hidden">
      <!-- Top Bar -->
      <header class="h-16 bg-surface border-b border-border-light flex items-center justify-between px-6 flex-shrink-0">
        <div class="flex items-center gap-2 text-sm">
          <a href="student-dashboard.html" class="text-text-tertiary hover:text-primary transition-colors">í™ˆ</a>
          <span class="material-icons-round text-text-tertiary text-sm">chevron_right</span>
          <a href="subjects.html" class="text-text-tertiary hover:text-primary transition-colors">ê³¼ëª©</a>
          <span class="material-icons-round text-text-tertiary text-sm">chevron_right</span>
          <span class="text-math font-medium">ìˆ˜í•™</span>
        </div>
        
        <div class="flex items-center gap-3">
          <button onclick="openSystemModal()" class="p-2 text-text-secondary hover:text-math hover:bg-math-light rounded-lg transition-colors" title="í•™ìŠµ ì‹œìŠ¤í…œ ì•ˆë‚´">
            <span class="material-icons-round">help_outline</span>
          </button>
          <a href="notifications.html" class="relative p-2 text-text-secondary hover:text-text-primary hover:bg-background rounded-lg transition-colors">
            <span class="material-icons-round">notifications</span>
            <span class="absolute top-1.5 right-1.5 w-2 h-2 bg-error rounded-full pulse-dot"></span>
          </a>
        </div>
      </header>
      
      <!-- Content Area -->
      <div class="flex-1 overflow-y-auto p-6 space-y-6">
        
        <!-- Instructor Comment Section -->
        <section id="instructorComment" class="bg-surface rounded-2xl shadow-card border-l-4 border-math p-5 mb-6">
          <div class="flex items-start gap-4">
            <div class="w-12 h-12 rounded-full bg-gradient-to-br from-math to-yellow-300 p-0.5 flex-shrink-0">
              <div class="w-full h-full rounded-full bg-surface overflow-hidden">
                <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=teacher1&backgroundColor=ffd5dc" alt="ê°•ì‚¬" class="w-full h-full object-cover">
              </div>
            </div>
            <div class="flex-1 min-w-0">
              <div class="flex items-center gap-2 mb-1">
                <span class="font-bold text-text-primary">ê¹€ìˆ˜í•™ ì„ ìƒë‹˜</span>
                <span class="text-xs text-text-tertiary">Â· 2ì‹œê°„ ì „</span>
              </div>
              <p class="text-sm text-text-secondary leading-relaxed">
                ì§€ë¯¼ì•„, ì¼ì°¨ë°©ì •ì‹ ì§„ë„ê°€ ì˜ ë‚˜ê°€ê³  ìˆì–´ìš”! ğŸ‘ 
                ë‹¤ë§Œ <strong class="text-math-dark">ì´í•­í•  ë•Œ ë¶€í˜¸ ì‹¤ìˆ˜</strong>ê°€ ìì£¼ ë³´ì—¬ì„œ 
                í•´ë‹¹ ìœ í˜• ë¬¸ì œë¥¼ ì¡°ê¸ˆ ë” ì—°ìŠµí•˜ë„ë¡ ì„¤ì •í•´ë’€ì–´ìš”. 
                ì–´ë µì§€ ì•Šìœ¼ë‹ˆ ì²œì²œíˆ í’€ì–´ë³´ì!
              </p>
              <div class="flex items-center gap-3 mt-3">
                <span class="inline-flex items-center gap-1 px-2 py-1 bg-math-light text-math-dark text-xs font-medium rounded-lg">
                  <span class="material-icons-round text-sm">school</span>
                  ê°•í™” í•™ìŠµ ì§€ì •ë¨
                </span>
              </div>
            </div>
          </div>
        </section>
        
        <!-- Reinforcement Learning Section (ê°•ì‚¬ ì§€ì • ì‹œì—ë§Œ í‘œì‹œ) -->
        <section id="reinforcementSection" class="bg-gradient-to-r from-warning/10 to-orange-100 rounded-2xl border border-warning/30 overflow-hidden mb-6">
          <div class="p-5">
            <div class="flex items-center justify-between mb-4">
              <div class="flex items-center gap-3">
                <div class="w-10 h-10 rounded-xl bg-warning/20 flex items-center justify-center">
                  <span class="material-icons-round text-warning text-xl">refresh</span>
                </div>
                <div>
                  <h2 class="font-bold text-text-primary flex items-center gap-2">
                    ê°•í™” í•™ìŠµ
                    <span class="px-2 py-0.5 bg-warning text-white text-[10px] font-bold rounded">ê°•ì‚¬ ì§€ì •</span>
                  </h2>
                  <p class="text-xs text-text-secondary">ì·¨ì•½ ìœ í˜• ì§‘ì¤‘ ì—°ìŠµ</p>
                </div>
              </div>
            </div>
            
            <!-- Target Info -->
            <div class="bg-white/80 rounded-xl p-4 mb-4">
              <div class="flex items-center gap-3 mb-3">
                <span class="w-8 h-8 rounded-full bg-warning text-white flex items-center justify-center font-bold text-sm">3</span>
                <div class="flex-1">
                  <h3 class="font-bold text-text-primary">ì¼ì°¨ë°©ì •ì‹ - ì´í•­ ìœ í˜•</h3>
                  <p class="text-xs text-text-tertiary">ë¶€í˜¸ ë³€í™˜ ì§‘ì¤‘ ì—°ìŠµ</p>
                </div>
              </div>
              
              <div class="grid grid-cols-3 gap-3 text-center">
                <div class="bg-gray-50 rounded-lg p-2">
                  <div class="text-lg font-bold text-warning">7</div>
                  <div class="text-[10px] text-text-tertiary">ì¶”ê°€ ë¬¸ì œ</div>
                </div>
                <div class="bg-gray-50 rounded-lg p-2">
                  <div class="text-lg font-bold text-text-primary">68%</div>
                  <div class="text-[10px] text-text-tertiary">í˜„ì¬ ì •ë‹µë¥ </div>
                </div>
                <div class="bg-gray-50 rounded-lg p-2">
                  <div class="text-lg font-bold text-success">85%</div>
                  <div class="text-[10px] text-text-tertiary">ëª©í‘œ</div>
                </div>
              </div>
              
              <!-- Progress to Goal -->
              <div class="mt-3">
                <div class="flex justify-between text-xs mb-1">
                  <span class="text-text-secondary">ëª©í‘œê¹Œì§€</span>
                  <span class="font-medium text-warning">68% â†’ 85%</span>
                </div>
                <div class="w-full h-2 bg-gray-200 rounded-full overflow-hidden">
                  <div class="h-full bg-warning rounded-full transition-all" style="width: 80%"></div>
                </div>
              </div>
            </div>
            
            <a href="math-problem.html?mode=reinforcement" class="w-full py-3 bg-warning hover:bg-warning/90 text-white font-bold rounded-xl transition-colors flex items-center justify-center gap-2 shadow-lg shadow-warning/30">
              <span class="material-icons-round">play_arrow</span>
              ê°•í™” í•™ìŠµ ì‹œì‘
            </a>
          </div>
        </section>
        
        <!-- Quick Stats Header -->
          <div class="absolute -right-8 -top-8 w-32 h-32 bg-white/20 rounded-full"></div>
          <div class="absolute -right-4 -bottom-4 w-20 h-20 bg-white/20 rounded-full"></div>
          <div class="relative z-10">
            <div class="flex items-center justify-between mb-4">
              <div class="flex items-center gap-3">
                <div class="w-12 h-12 rounded-xl bg-white/30 backdrop-blur flex items-center justify-center">
                  <span class="material-icons-round text-2xl">calculate</span>
                </div>
                <div>
                  <h1 class="text-xl font-bold">ìˆ˜í•™</h1>
                  <p class="text-sm text-gray-700">ì¤‘1-1 ê³¼ì •</p>
                </div>
              </div>
              <button onclick="openSystemModal()" class="px-3 py-1.5 bg-white/30 hover:bg-white/40 rounded-lg text-sm font-medium transition-colors flex items-center gap-1">
                <span class="material-icons-round text-sm">info</span>
                í•™ìŠµ ë°©ë²•
              </button>
            </div>
            <div class="flex items-center gap-6 text-sm">
              <div class="flex items-center gap-2">
                <span class="material-icons-round text-base">check_circle</span>
                <span><strong>45</strong> ë¬¸ì œ í•´ê²°</span>
              </div>
              <div class="flex items-center gap-2">
                <span class="material-icons-round text-base">trending_up</span>
                <span>ì •ë‹µë¥  <strong>85%</strong></span>
              </div>
              <div class="flex items-center gap-2">
                <span class="material-icons-round text-base">bolt</span>
                <span>ë°”ë¡œì •ë‹µ <strong>8</strong>íšŒ</span>
              </div>
            </div>
          </div>
        </section>
        
        <!-- ğŸ¯ Instructor Assigned Learning (ê°•ì‚¬ ì§€ì • í•™ìŠµ) -->
        <section class="bg-surface rounded-2xl shadow-card border-2 border-primary overflow-hidden">
          <div class="bg-primary-light px-6 py-3 border-b border-primary/20">
            <div class="flex items-center justify-between">
              <div class="flex items-center gap-3">
                <span class="material-icons-round text-primary">assignment_ind</span>
                <h2 class="font-bold text-text-primary">ê°•ì‚¬ ì§€ì • í•™ìŠµ</h2>
                <span class="px-2 py-0.5 bg-primary text-white text-xs font-bold rounded-full">í•„ìˆ˜</span>
              </div>
              <span class="px-2 py-1 bg-warning text-white text-xs font-bold rounded">D-3</span>
            </div>
          </div>
          
          <div class="p-5">
            <!-- Instructor Info -->
            <div class="flex items-center gap-3 mb-4 pb-4 border-b border-border-light">
              <div class="w-10 h-10 rounded-full bg-gradient-to-br from-math to-yellow-400 flex items-center justify-center text-gray-900 font-bold text-sm">ê¹€</div>
              <div class="flex-1">
                <p class="text-sm text-text-primary"><strong>ê¹€ìˆ˜í•™ ì„ ìƒë‹˜</strong>ì´ ì§€ì •í•œ ë¬¸ì œì˜ˆìš”</p>
                <p class="text-xs text-text-tertiary">ë§ˆê°: ê¸ˆìš”ì¼ (1/8) 23:59ê¹Œì§€ Â· 4ë¬¸ì œ</p>
              </div>
            </div>
            
            <!-- Assigned Problems List -->
            <div class="space-y-3 mb-4">
              <!-- Problem 1 - Completed -->
              <div class="flex items-center gap-3 p-3 bg-success-light/50 rounded-xl border border-success/20">
                <span class="w-8 h-8 rounded-full bg-success text-white flex items-center justify-center text-sm">
                  <span class="material-icons-round text-lg">check</span>
                </span>
                <div class="flex-1">
                  <p class="font-medium text-text-primary text-sm">ì¼ì°¨ë°©ì •ì‹ - ê´„í˜¸ì •ë¦¬ #3</p>
                  <p class="text-xs text-text-tertiary">ë°©ì •ì‹ Â· ì¤‘ Â· 3ë‹¨ê³„ ì™„ë£Œ</p>
                </div>
                <span class="px-2 py-1 bg-success text-white text-xs rounded">ì™„ë£Œ</span>
              </div>
              
              <!-- Problem 2 - In Progress -->
              <div class="flex items-center gap-3 p-3 bg-math-light/50 rounded-xl border border-math/20">
                <span class="w-8 h-8 rounded-full bg-math text-gray-900 flex items-center justify-center font-bold text-sm">2</span>
                <div class="flex-1">
                  <p class="font-medium text-text-primary text-sm">ì¼ì°¨ë°©ì •ì‹ - ê³„ìˆ˜ë¶„ìˆ˜ #5</p>
                  <p class="text-xs text-text-tertiary">ë°©ì •ì‹ Â· ìƒ Â· 1/4ë‹¨ê³„</p>
                </div>
                <span class="px-2 py-1 bg-math text-gray-900 text-xs rounded font-medium">ì§„í–‰ì¤‘</span>
              </div>
              
              <!-- Problem 3 - Not Started -->
              <div class="flex items-center gap-3 p-3 bg-gray-50 rounded-xl border border-border-light">
                <span class="w-8 h-8 rounded-full bg-gray-200 text-text-tertiary flex items-center justify-center font-bold text-sm">3</span>
                <div class="flex-1">
                  <p class="font-medium text-text-primary text-sm">ì¼ì°¨ë°©ì •ì‹ - ë³µí•©ë¬¸ì œ #7</p>
                  <p class="text-xs text-text-tertiary">ë°©ì •ì‹ Â· ìƒ Â· ë¯¸ì‹œì‘</p>
                </div>
                <span class="px-2 py-1 bg-gray-200 text-text-tertiary text-xs rounded">ëŒ€ê¸°</span>
              </div>
              
              <!-- Problem 4 - Not Started -->
              <div class="flex items-center gap-3 p-3 bg-gray-50 rounded-xl border border-border-light">
                <span class="w-8 h-8 rounded-full bg-gray-200 text-text-tertiary flex items-center justify-center font-bold text-sm">4</span>
                <div class="flex-1">
                  <p class="font-medium text-text-primary text-sm">ì¼ì°¨ë°©ì •ì‹ - í™œìš© #2</p>
                  <p class="text-xs text-text-tertiary">ë°©ì •ì‹ Â· ìƒ Â· ë¯¸ì‹œì‘</p>
                </div>
                <span class="px-2 py-1 bg-gray-200 text-text-tertiary text-xs rounded">ëŒ€ê¸°</span>
              </div>
            </div>
            
            <!-- Progress -->
            <div class="mb-4">
              <div class="flex justify-between text-sm mb-2">
                <span class="text-text-secondary">ì§„í–‰ë¥ </span>
                <span class="font-bold text-primary">1/4 ì™„ë£Œ</span>
              </div>
              <div class="w-full h-2 bg-gray-100 rounded-full">
                <div class="h-full bg-primary rounded-full" style="width: 25%"></div>
              </div>
            </div>
            
            <a href="math-problem.html" class="w-full py-3 bg-primary hover:bg-primary-dark text-white font-bold rounded-xl transition-colors flex items-center justify-center gap-2">
              <span class="material-icons-round">play_arrow</span>
              ì´ì–´ì„œ í’€ê¸°
            </a>
          </div>
        </section>
        
        <!-- ğŸ¤– AI Recommended Learning (AI ì¶”ì²œ í•™ìŠµ) - Main CTA -->
        <section class="bg-surface rounded-2xl shadow-card border border-border-light overflow-hidden">
          <div class="bg-math-light/30 px-6 py-3 border-b border-math/10">
            <div class="flex items-center gap-2">
              <span class="material-icons-round text-math">auto_awesome</span>
              <h2 class="font-bold text-text-primary">AI ì¶”ì²œ í•™ìŠµ</h2>
              <span class="px-2 py-0.5 bg-math-light text-math-dark text-xs font-bold rounded-full">ê¶Œì¥</span>
            </div>
          </div>
          
          <div class="p-6">
            <div class="flex items-center justify-between mb-4">
              <div class="flex items-center gap-2">
                <span class="material-icons-round text-math">play_circle</span>
                <span class="text-sm text-text-secondary">ì˜¤ëŠ˜ì˜ í•™ìŠµ</span>
              </div>
              <div class="flex items-center gap-2">
                <span class="text-2xl font-bold text-math">2</span>
                <span class="text-text-secondary">/</span>
                <span class="text-lg text-text-secondary">5</span>
              </div>
            </div>
            
            <!-- AI Recommendation Info -->
            <div class="bg-math-light/50 border border-math/20 rounded-xl p-3 mb-4">
              <p class="text-sm text-text-secondary flex items-center gap-2">
                <span class="material-icons-round text-math text-lg">psychology</span>
                í•™ìŠµ ë°ì´í„° ë¶„ì„ ê²°ê³¼, <strong class="text-math-dark">ì¼ì°¨ë°©ì •ì‹ ìœ í˜• ì—°ìŠµ</strong>ì´ í•„ìš”í•´ìš”!
              </p>
            </div>
            
            <!-- Progress Bar -->
            <div class="mb-6">
              <div class="flex justify-between text-sm mb-2">
                <span class="text-text-secondary">3ë‹¨ì›. ì¼ì°¨ë°©ì •ì‹</span>
                <span class="font-medium text-math-dark">40% ì™„ë£Œ</span>
              </div>
              <div class="w-full h-3 bg-math-light rounded-full overflow-hidden">
                <div class="h-full bg-math rounded-full transition-all duration-500" style="width: 40%"></div>
              </div>
            </div>
            
            <!-- Current Problem Preview -->
            <div class="bg-math-light rounded-xl p-4 mb-4 border border-math/20">
              <div class="flex items-center gap-3 mb-2">
                <span class="w-8 h-8 rounded-full bg-math text-gray-900 flex items-center justify-center font-bold text-sm relative">
                  3
                  <div class="absolute -inset-1 rounded-full border-2 border-math pulse-ring"></div>
                </span>
                <div>
                  <div class="flex items-center gap-2">
                    <span class="px-2 py-0.5 bg-math-light text-math-dark text-[10px] font-bold rounded">AIì¶”ì²œ</span>
                    <h3 class="font-bold text-math-dark">ì¼ì°¨ë°©ì •ì‹ì˜ í’€ì´</h3>
                  </div>
                  <p class="text-xs text-text-secondary">ì¤‘ê¸‰ ë‚œì´ë„ Â· 4ë‹¨ê³„</p>
                </div>
              </div>
              <p class="text-sm text-text-secondary">ë°©ì •ì‹ì„ í’€ì–´ xì˜ ê°’ì„ êµ¬í•´ë³´ì„¸ìš”.</p>
            </div>
            
            <a href="math-problem.html" class="w-full py-4 bg-math hover:bg-math-dark text-gray-900 font-bold rounded-xl transition-colors flex items-center justify-center gap-2 shadow-lg shadow-math/30">
              <span class="material-icons-round">play_arrow</span>
              í•™ìŠµ ì‹œì‘í•˜ê¸°
            </a>
          </div>
          
          <!-- Completed Problems -->
          <div class="border-t border-border-light px-6 py-4 bg-gray-50">
            <p class="text-xs text-text-tertiary mb-3">ì™„ë£Œí•œ ë¬¸ì œ</p>
            <div class="flex gap-2 flex-wrap">
              <div class="flex items-center gap-2 px-3 py-1.5 bg-success-light rounded-lg text-xs">
                <span class="w-5 h-5 rounded-full badge-direct flex items-center justify-center">
                  <span class="material-icons-round text-xs">bolt</span>
                </span>
                <span class="text-success font-medium">Q1 ë°”ë¡œì •ë‹µ</span>
              </div>
              <div class="flex items-center gap-2 px-3 py-1.5 bg-math-light rounded-lg text-xs">
                <span class="w-5 h-5 rounded-full badge-step flex items-center justify-center text-[10px] font-bold">4</span>
                <span class="text-math-dark font-medium">Q2 ë‹¨ê³„ì™„ë£Œ</span>
              </div>
              <div class="flex items-center gap-2 px-3 py-1.5 bg-gray-200 rounded-lg text-xs text-text-tertiary">
                <span class="material-icons-round text-sm">lock</span>
                <span>Q4, Q5</span>
              </div>
            </div>
          </div>
        </section>
        
        <!-- Two Column Layout -->
        <div class="grid grid-cols-2 gap-6">
          
          <!-- Unit Progress -->
          <section class="bg-surface rounded-2xl shadow-card border border-border-light p-5">
            <div class="flex items-center justify-between mb-4">
              <h2 class="font-bold text-text-primary flex items-center gap-2">
                <span class="material-icons-round text-math text-lg">school</span>
                ë‹¨ì›ë³„ ì§„ë„
              </h2>
              <button onclick="openUnitModal()" class="text-sm text-math font-medium hover:underline">ì „ì²´ë³´ê¸°</button>
            </div>
            
            <div class="space-y-3">
              <div class="flex items-center gap-3">
                <span class="w-7 h-7 rounded-full bg-success text-white flex items-center justify-center text-xs">âœ“</span>
                <div class="flex-1">
                  <div class="flex justify-between text-sm mb-1">
                    <span class="font-medium">1. ì •ìˆ˜ì™€ ìœ ë¦¬ìˆ˜</span>
                    <span class="text-success font-bold">100%</span>
                  </div>
                  <div class="w-full h-1.5 bg-success-light rounded-full">
                    <div class="h-full bg-success rounded-full" style="width: 100%"></div>
                  </div>
                </div>
              </div>
              
              <div class="flex items-center gap-3">
                <span class="w-7 h-7 rounded-full bg-success text-white flex items-center justify-center text-xs">âœ“</span>
                <div class="flex-1">
                  <div class="flex justify-between text-sm mb-1">
                    <span class="font-medium">2. ë¬¸ìì™€ ì‹</span>
                    <span class="text-success font-bold">100%</span>
                  </div>
                  <div class="w-full h-1.5 bg-success-light rounded-full">
                    <div class="h-full bg-success rounded-full" style="width: 100%"></div>
                  </div>
                </div>
              </div>
              
              <div class="flex items-center gap-3 bg-math-light -mx-2 px-2 py-2 rounded-lg">
                <span class="w-7 h-7 rounded-full bg-math text-gray-900 flex items-center justify-center text-xs font-bold">3</span>
                <div class="flex-1">
                  <div class="flex justify-between text-sm mb-1">
                    <span class="font-bold text-math-dark">3. ì¼ì°¨ë°©ì •ì‹</span>
                    <span class="text-math-dark font-bold">60%</span>
                  </div>
                  <div class="w-full h-1.5 bg-white rounded-full">
                    <div class="h-full bg-math rounded-full" style="width: 60%"></div>
                  </div>
                </div>
              </div>
              
              <div class="flex items-center gap-3 opacity-50">
                <span class="w-7 h-7 rounded-full bg-border-light text-text-tertiary flex items-center justify-center">
                  <span class="material-icons-round text-sm">lock</span>
                </span>
                <div class="flex-1">
                  <span class="text-sm text-text-secondary">4. ì¢Œí‘œí‰ë©´ê³¼ ê·¸ë˜í”„</span>
                </div>
              </div>
            </div>
          </section>
          
          <!-- Weak Points -->
          <section class="bg-surface rounded-2xl shadow-card border border-border-light p-5">
            <div class="flex items-center justify-between mb-4">
              <h2 class="font-bold text-text-primary flex items-center gap-2">
                <span class="material-icons-round text-error text-lg">crisis_alert</span>
                ì·¨ì•½ì  ë¶„ì„
              </h2>
              <a href="math-weak-review.html" class="text-sm text-math font-medium hover:underline">ë³µìŠµí•˜ê¸°</a>
            </div>
            
            <div class="space-y-3">
              <div class="bg-error-light rounded-lg p-3 border border-error/20">
                <div class="flex items-center justify-between mb-1">
                  <span class="font-bold text-error text-sm">ì´í•­ ì‹¤ìˆ˜</span>
                  <span class="text-error font-bold text-sm">45%</span>
                </div>
                <p class="text-xs text-text-secondary">ë¶€í˜¸ ë³€í™˜ ì‹œ ì‹¤ìˆ˜ ë°œìƒ</p>
              </div>
              
              <div class="bg-warning-light rounded-lg p-3 border border-warning/20">
                <div class="flex items-center justify-between mb-1">
                  <span class="font-bold text-warning text-sm">ê³„ì‚° ì‹¤ìˆ˜</span>
                  <span class="text-warning font-bold text-sm">68%</span>
                </div>
                <p class="text-xs text-text-secondary">ìµœì¢… ì—°ì‚° ì˜¤ë¥˜</p>
              </div>
              
              <a href="math-weak-review.html" class="w-full py-2.5 bg-error/10 hover:bg-error/20 text-error font-medium rounded-lg transition-colors flex items-center justify-center gap-2 text-sm">
                <span class="material-icons-round text-lg">replay</span>
                ì·¨ì•½ì  ì§‘ì¤‘ ë³µìŠµ
              </a>
            </div>
          </section>
        </div>
        
        <!-- Recent History -->
        <section class="bg-surface rounded-2xl shadow-card border border-border-light overflow-hidden">
          <div class="p-5 border-b border-border-light flex items-center justify-between">
            <h2 class="font-bold text-text-primary flex items-center gap-2">
              <span class="material-icons-round text-math text-lg">history</span>
              ìµœê·¼ í•™ìŠµ ê¸°ë¡
            </h2>
          </div>
          
          <div class="divide-y divide-border-light">
            <div class="px-5 py-3 flex items-center gap-4 hover:bg-gray-50 transition-colors">
              <span class="px-2 py-1 badge-direct text-[10px] font-bold rounded flex items-center gap-1">
                <span class="material-icons-round text-xs">bolt</span>
                ë°”ë¡œì •ë‹µ
              </span>
              <div class="flex-1">
                <p class="font-medium text-sm">Q1. ë“±ì‹ì˜ ì„±ì§ˆ</p>
                <p class="text-xs text-text-tertiary">ì¼ì°¨ë°©ì •ì‹ Â· 1ë‹¨ê³„ì—ì„œ</p>
              </div>
              <span class="px-2 py-1 bg-success-light text-success text-xs font-bold rounded">ì •ë‹µ</span>
              <span class="text-success font-bold text-sm">+50</span>
            </div>
            
            <div class="px-5 py-3 flex items-center gap-4 hover:bg-gray-50 transition-colors">
              <span class="px-2 py-1 badge-step text-[10px] font-bold rounded">ë‹¨ê³„ì™„ë£Œ</span>
              <div class="flex-1">
                <p class="font-medium text-sm">Q2. ì´í•­ê³¼ ì •ë¦¬</p>
                <p class="text-xs text-text-tertiary">ì¼ì°¨ë°©ì •ì‹ Â· 4ë‹¨ê³„ ì™„ë£Œ</p>
              </div>
              <span class="px-2 py-1 bg-success-light text-success text-xs font-bold rounded">ì •ë‹µ</span>
              <span class="text-success font-bold text-sm">+20</span>
            </div>
            
            <div class="px-5 py-3 flex items-center gap-4 hover:bg-gray-50 transition-colors">
              <span class="px-2 py-1 badge-step text-[10px] font-bold rounded">ë‹¨ê³„ì™„ë£Œ</span>
              <div class="flex-1">
                <p class="font-medium text-sm">ë“±ì‹ì˜ ë³€í˜•</p>
                <p class="text-xs text-text-tertiary">ì¼ì°¨ë°©ì •ì‹ Â· ì–´ì œ</p>
              </div>
              <span class="px-2 py-1 bg-warning-light text-warning text-xs font-bold rounded">1ì˜¤ë‹µ</span>
              <span class="text-success font-bold text-sm">+20</span>
            </div>
          </div>
        </section>
        
      </div>
    </main>
  </div>
  
  <!-- Mobile Layout -->
  <div class="lg:hidden flex flex-col min-h-screen">
    <header class="h-14 bg-math flex items-center justify-between px-4 flex-shrink-0 sticky top-0 z-40">
      <a href="subjects.html" class="p-2 -ml-2 text-gray-700 hover:text-gray-900 rounded-lg">
        <span class="material-icons-round">arrow_back</span>
      </a>
      <span class="font-bold text-gray-900">ìˆ˜í•™</span>
      <button onclick="openSystemModal()" class="p-2 -mr-2 text-gray-700 hover:text-gray-900 rounded-lg">
        <span class="material-icons-round">help_outline</span>
      </button>
    </header>
    
    <div class="flex-1 overflow-y-auto pb-20">
      <!-- Stats Bar -->
      <div class="bg-math px-4 pb-4">
        <div class="flex items-center justify-around text-gray-900 text-center">
          <div>
            <div class="text-xl font-bold">45</div>
            <div class="text-[10px] text-gray-700">í•´ê²°</div>
          </div>
          <div class="w-px h-8 bg-gray-700/20"></div>
          <div>
            <div class="text-xl font-bold">85%</div>
            <div class="text-[10px] text-gray-700">ì •ë‹µë¥ </div>
          </div>
          <div class="w-px h-8 bg-gray-700/20"></div>
          <div>
            <div class="text-xl font-bold">8</div>
            <div class="text-[10px] text-gray-700">ë°”ë¡œì •ë‹µ</div>
          </div>
        </div>
      </div>
      
      <div class="p-4 space-y-4">
        
        <!-- Mobile Instructor Comment -->
        <section class="bg-surface rounded-xl p-3 shadow-card border-l-4 border-math">
          <div class="flex items-start gap-3">
            <div class="w-10 h-10 rounded-full bg-gradient-to-br from-math to-yellow-300 p-0.5 flex-shrink-0">
              <div class="w-full h-full rounded-full bg-surface overflow-hidden">
                <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=teacher1&backgroundColor=ffd5dc" alt="ê°•ì‚¬" class="w-full h-full object-cover">
              </div>
            </div>
            <div class="flex-1 min-w-0">
              <div class="flex items-center gap-2 mb-1">
                <span class="font-bold text-text-primary text-sm">ê¹€ìˆ˜í•™ ì„ ìƒë‹˜</span>
                <span class="text-[10px] text-text-tertiary">Â· 2ì‹œê°„ ì „</span>
              </div>
              <p class="text-xs text-text-secondary leading-relaxed line-clamp-2">
                ì´í•­ ë¶€í˜¸ ì‹¤ìˆ˜ê°€ ìì£¼ ë³´ì—¬ì„œ í•´ë‹¹ ìœ í˜• ë¬¸ì œë¥¼ ì¡°ê¸ˆ ë” ì—°ìŠµí•˜ë„ë¡ ì„¤ì •í•´ë’€ì–´ìš”.
              </p>
              <span class="inline-flex items-center gap-1 px-2 py-0.5 bg-math-light text-math-dark text-[10px] font-medium rounded mt-2">
                <span class="material-icons-round text-xs">school</span>
                ê°•í™” í•™ìŠµ ì§€ì •
              </span>
            </div>
          </div>
        </section>
        
        <!-- Mobile Reinforcement Learning -->
        <section class="bg-warning-light rounded-xl p-4 border border-warning/30">
          <div class="flex items-center gap-3 mb-3">
            <span class="w-8 h-8 rounded-lg bg-warning/20 flex items-center justify-center">
              <span class="material-icons-round text-warning">refresh</span>
            </span>
            <div>
              <h3 class="font-bold text-text-primary text-sm flex items-center gap-2">
                ê°•í™” í•™ìŠµ
                <span class="px-1.5 py-0.5 bg-warning text-white text-[9px] font-bold rounded">ê°•ì‚¬ì§€ì •</span>
              </h3>
              <p class="text-[10px] text-text-secondary">ì¼ì°¨ë°©ì •ì‹ - ì´í•­ ìœ í˜•</p>
            </div>
          </div>
          <div class="flex items-center justify-between text-xs mb-2">
            <span class="text-text-secondary">í˜„ì¬ 68% â†’ ëª©í‘œ 85%</span>
            <span class="font-medium text-warning">+7ë¬¸ì œ</span>
          </div>
          <a href="math-problem.html?mode=reinforcement" class="w-full py-2.5 bg-warning text-white font-bold rounded-lg flex items-center justify-center gap-1 text-sm">
            <span class="material-icons-round text-lg">play_arrow</span>
            ê°•í™” í•™ìŠµ ì‹œì‘
          </a>
        </section>
        
        <!-- Today's Learning CTA -->
        <section class="bg-surface rounded-2xl shadow-card border border-border-light overflow-hidden">
          <div class="p-4">
            <div class="flex items-center justify-between mb-3">
              <h2 class="font-bold text-text-primary">ì˜¤ëŠ˜ì˜ í•™ìŠµ</h2>
              <div class="flex items-center gap-1">
                <span class="text-xl font-bold text-math">2</span>
                <span class="text-text-tertiary">/5</span>
              </div>
            </div>
            
            <div class="mb-3">
              <div class="flex justify-between text-xs mb-1">
                <span class="text-text-secondary">3ë‹¨ì›. ì¼ì°¨ë°©ì •ì‹</span>
                <span class="font-medium text-math-dark">40%</span>
              </div>
              <div class="w-full h-2 bg-math-light rounded-full">
                <div class="h-full bg-math rounded-full" style="width: 40%"></div>
              </div>
            </div>
            
            <div class="bg-math-light rounded-xl p-3 mb-3 flex items-center gap-3">
              <span class="w-8 h-8 rounded-full bg-math text-gray-900 flex items-center justify-center font-bold text-sm relative">
                3
                <div class="absolute -inset-1 rounded-full border-2 border-math pulse-ring"></div>
              </span>
              <div>
                <h3 class="font-bold text-math-dark text-sm">Q3. ì¼ì°¨ë°©ì •ì‹ì˜ í’€ì´</h3>
                <p class="text-xs text-text-secondary">ì¤‘ê¸‰ Â· 4ë‹¨ê³„</p>
              </div>
            </div>
            
            <a href="math-problem.html" class="w-full py-3 bg-math hover:bg-math-dark text-gray-900 font-bold rounded-xl flex items-center justify-center gap-2">
              <span class="material-icons-round">play_arrow</span>
              í•™ìŠµ ì‹œì‘
            </a>
          </div>
        </section>
        
        <!-- Unit Progress -->
        <section class="bg-surface rounded-xl p-4 shadow-card border border-border-light">
          <div class="flex items-center justify-between mb-3">
            <h3 class="font-bold text-text-primary text-sm">ë‹¨ì› ì§„ë„</h3>
            <button onclick="openUnitModal()" class="text-xs text-math font-medium">ì „ì²´ë³´ê¸°</button>
          </div>
          <div class="space-y-2">
            <div>
              <div class="flex justify-between text-xs mb-1">
                <span class="text-text-secondary">1. ì •ìˆ˜ì™€ ìœ ë¦¬ìˆ˜</span>
                <span class="text-success font-bold">100%</span>
              </div>
              <div class="w-full h-1.5 bg-success-light rounded-full">
                <div class="h-full bg-success rounded-full" style="width: 100%"></div>
              </div>
            </div>
            <div>
              <div class="flex justify-between text-xs mb-1">
                <span class="text-text-secondary">2. ë¬¸ìì™€ ì‹</span>
                <span class="text-success font-bold">100%</span>
              </div>
              <div class="w-full h-1.5 bg-success-light rounded-full">
                <div class="h-full bg-success rounded-full" style="width: 100%"></div>
              </div>
            </div>
            <div class="bg-math-light rounded-lg p-2 -mx-2">
              <div class="flex justify-between text-xs mb-1 px-2">
                <span class="font-medium text-math-dark">3. ì¼ì°¨ë°©ì •ì‹</span>
                <span class="text-math-dark font-bold">60%</span>
              </div>
              <div class="w-full h-1.5 bg-white rounded-full mx-2" style="width: calc(100% - 16px)">
                <div class="h-full bg-math rounded-full" style="width: 60%"></div>
              </div>
            </div>
          </div>
        </section>
        
        <!-- Weak Points -->
        <section class="bg-surface rounded-xl p-4 shadow-card border border-border-light">
          <div class="flex items-center justify-between mb-3">
            <h3 class="font-bold text-text-primary text-sm flex items-center gap-1">
              <span class="material-icons-round text-error text-lg">crisis_alert</span>
              ì·¨ì•½ì 
            </h3>
            <a href="math-weak-review.html" class="text-xs text-math font-medium">ë³µìŠµ</a>
          </div>
          <div class="grid grid-cols-2 gap-2">
            <div class="bg-error-light rounded-lg p-2.5">
              <div class="text-error font-bold text-sm">ì´í•­ ì‹¤ìˆ˜</div>
              <div class="text-xs text-text-secondary">ì •ë‹µë¥  45%</div>
            </div>
            <div class="bg-warning-light rounded-lg p-2.5">
              <div class="text-warning font-bold text-sm">ê³„ì‚° ì‹¤ìˆ˜</div>
              <div class="text-xs text-text-secondary">ì •ë‹µë¥  68%</div>
            </div>
          </div>
        </section>
        
        <!-- Recent History (Mobile) -->
        <section>
          <div class="flex items-center justify-between mb-3">
            <h3 class="font-bold text-text-primary flex items-center gap-1">
              <span class="material-icons-round text-math text-lg">history</span>
              ìµœê·¼ ê¸°ë¡
            </h3>
          </div>
          <div class="space-y-2">
            <div class="bg-surface rounded-xl p-3 shadow-card border border-border-light">
              <div class="flex items-center justify-between mb-1">
                <div class="flex items-center gap-2">
                  <span class="px-2 py-0.5 badge-direct text-[10px] font-bold rounded flex items-center gap-0.5">
                    <span class="material-icons-round text-[10px]">bolt</span>ë°”ë¡œ
                  </span>
                  <span class="text-xs text-text-tertiary">ì˜¤ëŠ˜</span>
                </div>
                <span class="text-success font-medium text-xs">+50 XP</span>
              </div>
              <h4 class="font-medium text-text-primary text-sm">Q1. ë“±ì‹ì˜ ì„±ì§ˆ</h4>
            </div>
            
            <div class="bg-surface rounded-xl p-3 shadow-card border border-border-light">
              <div class="flex items-center justify-between mb-1">
                <div class="flex items-center gap-2">
                  <span class="px-2 py-0.5 badge-step text-[10px] font-bold rounded">ë‹¨ê³„</span>
                  <span class="text-xs text-text-tertiary">ì˜¤ëŠ˜</span>
                </div>
                <span class="text-success font-medium text-xs">+20 XP</span>
              </div>
              <h4 class="font-medium text-text-primary text-sm">Q2. ì´í•­ê³¼ ì •ë¦¬</h4>
            </div>
          </div>
        </section>
        
      </div>
    </div>
    
    <!-- Mobile Bottom Nav -->
    <nav class="fixed bottom-0 left-0 right-0 h-16 bg-surface border-t border-border-light flex items-center justify-around px-2 z-50">
      <a href="student-dashboard.html" class="flex flex-col items-center gap-1 px-3 py-2 text-text-tertiary">
        <span class="material-icons-round">home</span>
        <span class="text-[10px] font-medium">í™ˆ</span>
      </a>
      <a href="subjects.html" class="flex flex-col items-center gap-1 px-3 py-2 text-math">
        <span class="material-icons-round">auto_stories</span>
        <span class="text-[10px] font-medium">ê³¼ëª©</span>
      </a>
      <a href="ai-tutor.html" class="flex flex-col items-center gap-1 px-3 py-2">
        <div class="w-12 h-12 -mt-6 bg-primary rounded-full flex items-center justify-center shadow-lg">
          <span class="material-icons-round text-white">smart_toy</span>
        </div>
        <span class="text-[10px] font-medium text-primary -mt-1">AIíŠœí„°</span>
      </a>
      <a href="report.html" class="flex flex-col items-center gap-1 px-3 py-2 text-text-tertiary">
        <span class="material-icons-round">insights</span>
        <span class="text-[10px] font-medium">ë¦¬í¬íŠ¸</span>
      </a>
      <a href="mypage.html" class="flex flex-col items-center gap-1 px-3 py-2 text-text-tertiary">
        <span class="material-icons-round">person</span>
        <span class="text-[10px] font-medium">MY</span>
      </a>
    </nav>
  </div>
  
  <!-- System Explanation Modal -->
  <div id="systemModal" class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 hidden p-4">
    <div class="bg-surface rounded-2xl max-w-lg w-full max-h-[80vh] overflow-hidden slide-up">
      <div class="bg-math p-5">
        <div class="flex items-center justify-between">
          <h2 class="text-lg font-bold text-gray-900 flex items-center gap-2">
            <span class="material-icons-round">school</span>
            ìˆ˜í•™ í•™ìŠµ ì‹œìŠ¤í…œ
          </h2>
          <button onclick="closeSystemModal()" class="p-1 hover:bg-white/20 rounded-lg transition-colors">
            <span class="material-icons-round text-gray-700">close</span>
          </button>
        </div>
      </div>
      
      <div class="p-5 overflow-y-auto max-h-[60vh]">
        <div class="space-y-4">
          
          <!-- Step by Step -->
          <div class="bg-math-light rounded-xl p-4 border border-math/30">
            <div class="flex items-center gap-3 mb-3">
              <div class="w-12 h-12 rounded-full badge-step flex items-center justify-center">
                <span class="material-icons-round text-xl">format_list_numbered</span>
              </div>
              <div>
                <h3 class="font-bold text-math-dark">ë‹¨ê³„ë³„ í’€ì´</h3>
                <p class="text-xs text-text-secondary">ê¸°ë³¸ í•™ìŠµ ë°©ì‹</p>
              </div>
            </div>
            <ul class="text-sm text-text-secondary space-y-1">
              <li>â€¢ ë¬¸ì œë¥¼ <strong class="text-math-dark">ì—¬ëŸ¬ ë‹¨ê³„</strong>ë¡œ ë‚˜ëˆ„ì–´ í’€ì´</li>
              <li>â€¢ ê° ë‹¨ê³„ë§ˆë‹¤ 5ì§€ì„ ë‹¤ ë¬¸ì œ</li>
              <li>â€¢ í‹€ë¦¬ë©´ <strong class="text-math-dark">ì„¤ëª… ì œê³µ</strong> í›„ ìë™ ì§„í–‰</li>
              <li>â€¢ ëª¨ë“  ë‹¨ê³„ ì™„ë£Œ ì‹œ <strong class="text-success">+20 XP</strong></li>
            </ul>
          </div>
          
          <!-- Direct Answer -->
          <div class="bg-success-light rounded-xl p-4 border border-success/30">
            <div class="flex items-center gap-3 mb-3">
              <div class="w-12 h-12 rounded-full badge-direct flex items-center justify-center">
                <span class="material-icons-round text-xl">bolt</span>
              </div>
              <div>
                <h3 class="font-bold text-success">"ë‹µì„ ì•Œê² ì–´ìš”!" ë³´ë„ˆìŠ¤</h3>
                <p class="text-xs text-text-secondary">ì‹¤ë ¥ìë¥¼ ìœ„í•œ ê¸°íšŒ</p>
              </div>
            </div>
            <ul class="text-sm text-text-secondary space-y-1">
              <li>â€¢ ë‹¨ê³„ í’€ì´ ì¤‘ ë‹µì´ ë³´ì´ë©´ <strong class="text-success">ë°”ë¡œ ì •ë‹µ ì„ íƒ</strong></li>
              <li>â€¢ <strong class="text-error">10ì´ˆ</strong> ì•ˆì— 5ì§€ì„ ë‹¤ë¡œ ì„ íƒ</li>
              <li>â€¢ ì¼ì° ë§ì¶œìˆ˜ë¡ <strong class="text-success">ë†’ì€ ë³´ë„ˆìŠ¤</strong></li>
              <li>â€¢ ë¬¸ì œë‹¹ <strong class="text-error">1íšŒ</strong> ê¸°íšŒë§Œ!</li>
            </ul>
          </div>
          
          <!-- Bonus Table -->
          <div class="bg-gray-50 rounded-xl p-4">
            <h4 class="font-bold text-text-primary mb-3 text-sm">ğŸ’° ë³´ë„ˆìŠ¤ XP ê³„ì‚°</h4>
            <div class="text-xs text-text-secondary space-y-1 mb-3">
              <p><strong>ë³´ë„ˆìŠ¤ = (ì „ì²´ ë‹¨ê³„ - í˜„ì¬ ë‹¨ê³„) Ã— 10</strong></p>
            </div>
            <div class="grid grid-cols-2 gap-2 text-xs">
              <div class="bg-white rounded-lg p-2 text-center">
                <p class="text-text-tertiary">4ë‹¨ê³„ ë¬¸ì œ, 1ë‹¨ê³„ì—ì„œ</p>
                <p class="font-bold text-success">+30 XP</p>
              </div>
              <div class="bg-white rounded-lg p-2 text-center">
                <p class="text-text-tertiary">4ë‹¨ê³„ ë¬¸ì œ, 2ë‹¨ê³„ì—ì„œ</p>
                <p class="font-bold text-success">+20 XP</p>
              </div>
              <div class="bg-white rounded-lg p-2 text-center">
                <p class="text-text-tertiary">4ë‹¨ê³„ ë¬¸ì œ, 3ë‹¨ê³„ì—ì„œ</p>
                <p class="font-bold text-success">+10 XP</p>
              </div>
              <div class="bg-white rounded-lg p-2 text-center">
                <p class="text-text-tertiary">ë‹¨ê³„ ì™„ë£Œ</p>
                <p class="font-bold text-math">+20 XP</p>
              </div>
            </div>
          </div>
          
          <!-- Flow -->
          <div class="bg-gray-50 rounded-xl p-4">
            <h4 class="font-bold text-text-primary mb-3 text-sm">í•™ìŠµ íë¦„</h4>
            <div class="flex flex-col items-center gap-2 text-xs">
              <div class="px-4 py-2 bg-math text-gray-900 rounded-lg font-medium w-full text-center">ë‹¨ê³„ë³„ í’€ì´ ì‹œì‘</div>
              <span class="material-icons-round text-text-tertiary">arrow_downward</span>
              <div class="px-4 py-2 bg-success/20 text-success rounded-lg font-medium w-full text-center">ë‹µì´ ë³´ì´ë©´ â†’ "ë‹µì„ ì•Œê² ì–´ìš”!" (10ì´ˆ)</div>
              <span class="material-icons-round text-text-tertiary">arrow_downward</span>
              <div class="flex gap-2 w-full">
                <div class="flex-1 px-3 py-2 bg-success text-white rounded-lg font-medium text-center">ì •ë‹µ â†’ ë³´ë„ˆìŠ¤!</div>
                <div class="flex-1 px-3 py-2 bg-error/20 text-error rounded-lg font-medium text-center">ì˜¤ë‹µ â†’ ê³„ì† í’€ê¸°</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Unit Progress Modal -->
  <div id="unitModal" class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 hidden p-4">
    <div class="bg-surface rounded-2xl max-w-2xl w-full max-h-[85vh] overflow-hidden slide-up">
      <div class="bg-math p-5 flex items-center justify-between">
        <h2 class="text-lg font-bold text-gray-900 flex items-center gap-2">
          <span class="material-icons-round">school</span>
          ë‹¨ì›ë³„ ì§„ë„ ìƒì„¸
        </h2>
        <button onclick="closeUnitModal()" class="p-1 hover:bg-white/20 rounded-lg transition-colors">
          <span class="material-icons-round text-gray-700">close</span>
        </button>
      </div>
      
      <div class="p-5 overflow-y-auto max-h-[70vh]">
        <div class="space-y-4" id="unitList"></div>
      </div>
    </div>
  </div>
  
  <!-- Unit Detail Modal -->
  <div id="unitDetailModal" class="fixed inset-0 bg-black/50 flex items-center justify-center z-[60] hidden p-4">
    <div class="bg-surface rounded-2xl max-w-lg w-full max-h-[80vh] overflow-hidden slide-up">
      <div id="unitDetailHeader" class="p-5 flex items-center justify-between"></div>
      <div id="unitDetailContent" class="p-5 overflow-y-auto max-h-[65vh]"></div>
    </div>
  </div>
  
  <script>
    // Unit data
    const units = [
      {
        id: 1,
        name: 'ì •ìˆ˜ì™€ ìœ ë¦¬ìˆ˜',
        status: 'completed',
        progress: 100,
        totalProblems: 15,
        completedProblems: 15,
        accuracy: 93,
        topics: [
          { name: 'ì •ìˆ˜ì˜ ë§ì…ˆê³¼ ëº„ì…ˆ', completed: true, accuracy: 95 },
          { name: 'ì •ìˆ˜ì˜ ê³±ì…ˆê³¼ ë‚˜ëˆ—ì…ˆ', completed: true, accuracy: 90 },
          { name: 'ìœ ë¦¬ìˆ˜ì˜ ê³„ì‚°', completed: true, accuracy: 92 }
        ]
      },
      {
        id: 2,
        name: 'ë¬¸ìì™€ ì‹',
        status: 'completed',
        progress: 100,
        totalProblems: 12,
        completedProblems: 12,
        accuracy: 88,
        topics: [
          { name: 'ë¬¸ìì˜ ì‚¬ìš©', completed: true, accuracy: 95 },
          { name: 'ì¼ì°¨ì‹ì˜ ê³„ì‚°', completed: true, accuracy: 85 },
          { name: 'ë‹¤í•­ì‹ì˜ ê³„ì‚°', completed: true, accuracy: 83 }
        ]
      },
      {
        id: 3,
        name: 'ì¼ì°¨ë°©ì •ì‹',
        status: 'current',
        progress: 60,
        totalProblems: 15,
        completedProblems: 9,
        accuracy: 78,
        topics: [
          { name: 'ë“±ì‹ì˜ ì„±ì§ˆ', completed: true, accuracy: 90 },
          { name: 'ì´í•­ê³¼ ì •ë¦¬', completed: true, accuracy: 70 },
          { name: 'ì¼ì°¨ë°©ì •ì‹ì˜ í’€ì´', completed: false, accuracy: null },
          { name: 'ë³µì¡í•œ ì¼ì°¨ë°©ì •ì‹', completed: false, accuracy: null },
          { name: 'ì¼ì°¨ë°©ì •ì‹ì˜ í™œìš©', completed: false, accuracy: null }
        ]
      },
      {
        id: 4,
        name: 'ì¢Œí‘œí‰ë©´ê³¼ ê·¸ë˜í”„',
        status: 'locked',
        progress: 0,
        totalProblems: 18,
        completedProblems: 0,
        topics: []
      },
      {
        id: 5,
        name: 'ì •ë¹„ë¡€ì™€ ë°˜ë¹„ë¡€',
        status: 'locked',
        progress: 0,
        totalProblems: 15,
        completedProblems: 0,
        topics: []
      },
      {
        id: 6,
        name: 'ê¸°ë³¸ ë„í˜•',
        status: 'locked',
        progress: 0,
        totalProblems: 20,
        completedProblems: 0,
        topics: []
      }
    ];
    
    function openSystemModal() {
      document.getElementById('systemModal').classList.remove('hidden');
      document.body.style.overflow = 'hidden';
    }
    
    function closeSystemModal() {
      document.getElementById('systemModal').classList.add('hidden');
      document.body.style.overflow = '';
    }
    
    function openUnitModal() {
      renderUnitList();
      document.getElementById('unitModal').classList.remove('hidden');
      document.body.style.overflow = 'hidden';
    }
    
    function closeUnitModal() {
      document.getElementById('unitModal').classList.add('hidden');
      document.body.style.overflow = '';
    }
    
    function renderUnitList() {
      const container = document.getElementById('unitList');
      container.innerHTML = units.map(unit => {
        const statusStyles = {
          completed: { bg: 'bg-success', text: 'text-success', light: 'bg-success-light', icon: 'âœ“' },
          current: { bg: 'bg-math', text: 'text-math-dark', light: 'bg-math-light', icon: unit.id },
          locked: { bg: 'bg-border-light', text: 'text-text-tertiary', light: 'bg-gray-50', icon: 'lock' }
        };
        const style = statusStyles[unit.status];
        
        return `
          <div class="border border-border-light rounded-xl overflow-hidden ${unit.status === 'locked' ? 'opacity-50' : 'cursor-pointer hover:shadow-md transition-shadow'}"
               ${unit.status !== 'locked' ? `onclick="openUnitDetail(${unit.id})"` : ''}>
            <div class="p-4 flex items-center gap-4 ${unit.status === 'current' ? 'bg-math-light' : ''}">
              <span class="w-10 h-10 rounded-full ${style.bg} ${unit.status === 'locked' ? 'text-text-tertiary' : 'text-white'} flex items-center justify-center font-bold">
                ${style.icon === 'lock' ? '<span class="material-icons-round text-lg">lock</span>' : style.icon}
              </span>
              <div class="flex-1">
                <div class="flex items-center justify-between mb-1">
                  <h3 class="font-bold ${unit.status === 'current' ? 'text-math-dark' : 'text-text-primary'}">${unit.id}. ${unit.name}</h3>
                  <span class="font-bold ${style.text}">${unit.progress}%</span>
                </div>
                <div class="w-full h-2 ${style.light} rounded-full">
                  <div class="h-full ${style.bg} rounded-full transition-all" style="width: ${unit.progress}%"></div>
                </div>
                <p class="text-xs text-text-tertiary mt-1">${unit.completedProblems}/${unit.totalProblems} ë¬¸ì œ ì™„ë£Œ${unit.accuracy ? ` Â· ì •ë‹µë¥  ${unit.accuracy}%` : ''}</p>
              </div>
              ${unit.status !== 'locked' ? '<span class="material-icons-round text-text-tertiary">chevron_right</span>' : ''}
            </div>
          </div>
        `;
      }).join('');
    }
    
    function openUnitDetail(unitId) {
      const unit = units.find(u => u.id === unitId);
      if (!unit) return;
      
      const style = unit.status === 'completed' 
        ? { bg: 'bg-success', text: 'text-success' }
        : { bg: 'bg-math', text: 'text-math-dark' };
      
      document.getElementById('unitDetailHeader').innerHTML = `
        <div class="flex items-center gap-3">
          <span class="w-10 h-10 rounded-full ${style.bg} text-white flex items-center justify-center font-bold">
            ${unit.status === 'completed' ? 'âœ“' : unit.id}
          </span>
          <div>
            <h2 class="font-bold text-text-primary">${unit.id}. ${unit.name}</h2>
            <p class="text-xs text-text-secondary">${unit.completedProblems}/${unit.totalProblems} ë¬¸ì œ Â· ì •ë‹µë¥  ${unit.accuracy || 0}%</p>
          </div>
        </div>
        <button onclick="closeUnitDetail()" class="p-1 hover:bg-gray-100 rounded-lg transition-colors">
          <span class="material-icons-round text-text-secondary">close</span>
        </button>
      `;
      document.getElementById('unitDetailHeader').className = `p-5 flex items-center justify-between border-b border-border-light ${unit.status === 'current' ? 'bg-math-light' : ''}`;
      
      document.getElementById('unitDetailContent').innerHTML = `
        <div class="space-y-3">
          ${unit.topics.map((topic, idx) => `
            <div class="flex items-center gap-3 p-3 rounded-lg ${topic.completed ? 'bg-success-light' : 'bg-gray-50'}">
              <span class="w-8 h-8 rounded-full ${topic.completed ? 'bg-success text-white' : 'bg-border-light text-text-tertiary'} flex items-center justify-center text-sm">
                ${topic.completed ? 'âœ“' : idx + 1}
              </span>
              <div class="flex-1">
                <p class="font-medium text-sm ${topic.completed ? 'text-success' : 'text-text-secondary'}">${topic.name}</p>
                ${topic.accuracy !== null ? `<p class="text-xs text-text-tertiary">ì •ë‹µë¥  ${topic.accuracy}%</p>` : ''}
              </div>
              ${!topic.completed && unit.status === 'current' ? `
                <a href="math-problem.html" class="px-3 py-1 bg-math text-gray-900 text-xs font-bold rounded-lg">í•™ìŠµ</a>
              ` : ''}
            </div>
          `).join('')}
        </div>
        
        ${unit.status === 'current' ? `
          <div class="mt-4 p-4 bg-math-light rounded-xl border border-math/30">
            <p class="text-sm text-math-dark font-medium">
              <span class="material-icons-round text-sm align-middle mr-1">lightbulb</span>
              í˜„ì¬ í•™ìŠµ ì¤‘ì¸ ë‹¨ì›ì…ë‹ˆë‹¤. ëª¨ë“  ì£¼ì œë¥¼ ì™„ë£Œí•˜ë©´ ë‹¤ìŒ ë‹¨ì›ì´ ì—´ë¦½ë‹ˆë‹¤.
            </p>
          </div>
        ` : ''}
      `;
      
      document.getElementById('unitDetailModal').classList.remove('hidden');
    }
    
    function closeUnitDetail() {
      document.getElementById('unitDetailModal').classList.add('hidden');
    }
    
    // Close modals on backdrop click
    document.getElementById('systemModal').addEventListener('click', function(e) {
      if (e.target === this) closeSystemModal();
    });
    document.getElementById('unitModal').addEventListener('click', function(e) {
      if (e.target === this) closeUnitModal();
    });
    document.getElementById('unitDetailModal').addEventListener('click', function(e) {
      if (e.target === this) closeUnitDetail();
    });
  </script>
  <!-- MAMA-ASST Common Modules -->
  <script src="assets/js/common.js"></script>
  <script src="assets/js/modal.js"></script>
  <script src="assets/js/toast.js"></script>
  <script src="assets/js/table.js"></script>
  <script src="assets/js/chart-config.js"></script>

</body>
</html>
