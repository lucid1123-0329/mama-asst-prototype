<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>출결 관리 | MAMA-ASST</title>
  
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
  
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#FF6D4D',
            'primary-dark': '#E55A3A',
            'primary-light': '#FFF0ED',
            navy: '#1A2E4D',
            'navy-light': '#2C4872',
            korean: '#4285F4',
            'korean-light': '#E8F0FE',
            math: '#FBBC05',
            'math-light': '#FEF7E0',
            english: '#34A853',
            'english-light': '#E6F4EA',
            background: '#F9FAFB',
            surface: '#FFFFFF',
            'border-light': '#E5E7EB',
            'text-primary': '#1F2937',
            'text-secondary': '#6B7280',
            'text-tertiary': '#9CA3AF',
            success: '#22C55E',
            'success-light': '#F0FDF4',
            error: '#EF4444',
            'error-light': '#FEF2F2',
            warning: '#F59E0B',
            'warning-light': '#FFFBEB',
            info: '#3B82F6',
            'info-light': '#EFF6FF',
          },
          fontFamily: { sans: ['Pretendard', 'Apple SD Gothic Neo', 'Malgun Gothic', 'sans-serif'] },
        },
      },
    }
  </script>
  
  <style>
    .sidebar-item.active { background: linear-gradient(135deg, #FF6D4D 0%, #FF8A6A 100%); color: white; }
    .class-tab { transition: all 0.2s ease; }
    .class-tab.active { background: white; border-bottom: 3px solid #FF6D4D; color: #FF6D4D; }
    .attendance-row { transition: all 0.2s ease; }
    .attendance-row:hover { background-color: #F9FAFB; }
    .status-btn { transition: all 0.15s ease; }
    .status-btn:hover { transform: scale(1.05); }
    .status-btn.selected { ring: 2px; ring-offset: 2px; }
    .bottom-tab.active { color: #FF6D4D; }
    .bottom-tab.active .material-icons-round { color: #FF6D4D; }
    .mobile-menu-overlay { opacity: 0; visibility: hidden; transition: opacity 0.3s, visibility 0.3s; }
    .mobile-menu-overlay.open { opacity: 1; visibility: visible; }
    .mobile-menu { transform: translateX(-100%); transition: transform 0.3s ease; }
    .mobile-menu.open { transform: translateX(0); }
    @supports (padding-bottom: env(safe-area-inset-bottom)) {
      .bottom-nav { padding-bottom: env(safe-area-inset-bottom); }
    }
  </style>
</head>
<body class="bg-background font-sans text-text-primary antialiased">
  
  <div class="flex min-h-screen">
    
        <!-- Desktop Sidebar -->
    <aside class="hidden lg:flex w-64 bg-navy text-white flex-col fixed h-full z-40">
      <div class="p-5 border-b border-white/10">
        <div class="flex items-center gap-3">
          <div class="w-10 h-10 bg-primary rounded-xl flex items-center justify-center">
            <span class="text-white font-bold text-lg">M</span>
          </div>
          <div>
            <span class="font-bold text-lg">MAMA-ASST</span>
            <p class="text-xs text-white/60">강사용</p>
          </div>
        </div>
      </div>
      
      <nav class="flex-1 p-4 space-y-1 overflow-y-auto">
        <a href="instructor-dashboard.html" class="sidebar-item flex items-center gap-3 px-4 py-3 rounded-xl text-white/70 hover:bg-white/10 hover:text-white transition-all">
          <span class="material-icons-round text-xl">dashboard</span>
          <span class="font-medium">대시보드</span>
        </a>
        <a href="instructor-students.html" class="sidebar-item flex items-center gap-3 px-4 py-3 rounded-xl text-white/70 hover:bg-white/10 hover:text-white transition-all">
          <span class="material-icons-round text-xl">groups</span>
          <span class="font-medium">학생 관리</span>
        </a>
        <a href="instructor-attendance.html" class="sidebar-item active flex items-center gap-3 px-4 py-3 rounded-xl transition-all">
          <span class="material-icons-round text-xl">fact_check</span>
          <span class="font-medium">출결 관리</span>
        </a>
        <a href="instructor-evaluation.html" class="sidebar-item flex items-center gap-3 px-4 py-3 rounded-xl text-white/70 hover:bg-white/10 hover:text-white transition-all">
          <span class="material-icons-round text-xl">rate_review</span>
          <span class="font-medium">일일평가</span>
        </a>
        <a href="instructor-counseling-history.html" class="sidebar-item flex items-center gap-3 px-4 py-3 rounded-xl text-white/70 hover:bg-white/10 hover:text-white transition-all">
          <span class="material-icons-round text-xl">assessment</span>
          <span class="font-medium">상담 결과</span>
        </a>
        <a href="instructor-assignment.html" class="sidebar-item flex items-center gap-3 px-4 py-3 rounded-xl text-white/70 hover:bg-white/10 hover:text-white transition-all">
          <span class="material-icons-round text-xl">assignment</span>
          <span class="font-medium">숙제 배정</span>
        </a>
        <a href="instructor-observation.html" class="sidebar-item flex items-center gap-3 px-4 py-3 rounded-xl text-white/70 hover:bg-white/10 hover:text-white transition-all">
          <span class="material-icons-round text-xl">visibility</span>
          <span class="font-medium">관찰 입력</span>
        </a>
        <a href="instructor-schedule.html" class="sidebar-item flex items-center gap-3 px-4 py-3 rounded-xl text-white/70 hover:bg-white/10 hover:text-white transition-all">
          <span class="material-icons-round text-xl">calendar_month</span>
          <span class="font-medium">시간표</span>
        </a>
      </nav>
      
      <div class="p-4 border-t border-white/10">
        <div class="flex items-center gap-3">
          <div class="w-10 h-10 rounded-full bg-gradient-to-br from-primary to-orange-400 flex items-center justify-center text-white font-bold">김</div>
          <div class="flex-1 min-w-0">
            <p class="font-medium text-sm truncate">김선생님</p>
            <p class="text-xs text-white/60">국어·수학 담당</p>
          </div>
        </div>
      </div>
    </aside>

    <!-- Mobile Menu Overlay -->
    <div id="mobileMenuOverlay" class="mobile-menu-overlay fixed inset-0 bg-black/50 z-50 lg:hidden" onclick="closeMobileMenu()"></div>
    
    <!-- Mobile Slide Menu -->
    <div id="mobileMenu" class="mobile-menu fixed top-0 left-0 w-72 h-full bg-navy text-white z-50 lg:hidden flex flex-col">
      <div class="p-5 border-b border-white/10 flex items-center justify-between">
        <div class="flex items-center gap-3">
          <div class="w-10 h-10 bg-primary rounded-xl flex items-center justify-center">
            <span class="text-white font-bold text-lg">M</span>
          </div>
          <span class="font-bold text-lg">MAMA-ASST</span>
        </div>
        <button onclick="closeMobileMenu()" class="p-2 hover:bg-white/10 rounded-lg">
          <span class="material-icons-round">close</span>
        </button>
      </div>
      
      <nav class="flex-1 p-4 space-y-1 overflow-y-auto">
        <a href="instructor-dashboard.html" class="sidebar-item flex items-center gap-3 px-4 py-3 rounded-xl text-white/70 hover:bg-white/10 hover:text-white transition-all">
          <span class="material-icons-round text-xl">dashboard</span>
          <span class="font-medium">대시보드</span>
        </a>
        <a href="instructor-students.html" class="sidebar-item flex items-center gap-3 px-4 py-3 rounded-xl text-white/70 hover:bg-white/10 hover:text-white transition-all">
          <span class="material-icons-round text-xl">groups</span>
          <span class="font-medium">학생 관리</span>
        </a>
        <a href="instructor-attendance.html" class="sidebar-item active flex items-center gap-3 px-4 py-3 rounded-xl transition-all">
          <span class="material-icons-round text-xl">fact_check</span>
          <span class="font-medium">출결 관리</span>
        </a>
        <a href="instructor-evaluation.html" class="sidebar-item flex items-center gap-3 px-4 py-3 rounded-xl text-white/70 hover:bg-white/10 hover:text-white transition-all">
          <span class="material-icons-round text-xl">rate_review</span>
          <span class="font-medium">일일평가</span>
        </a>
        <a href="instructor-counseling-history.html" class="sidebar-item flex items-center gap-3 px-4 py-3 rounded-xl text-white/70 hover:bg-white/10 hover:text-white transition-all">
          <span class="material-icons-round text-xl">assessment</span>
          <span class="font-medium">상담 결과</span>
        </a>
        <a href="instructor-assignment.html" class="sidebar-item flex items-center gap-3 px-4 py-3 rounded-xl text-white/70 hover:bg-white/10 hover:text-white transition-all">
          <span class="material-icons-round text-xl">assignment</span>
          <span class="font-medium">숙제 배정</span>
        </a>
        <a href="instructor-observation.html" class="sidebar-item flex items-center gap-3 px-4 py-3 rounded-xl text-white/70 hover:bg-white/10 hover:text-white transition-all">
          <span class="material-icons-round text-xl">visibility</span>
          <span class="font-medium">관찰 입력</span>
        </a>
        <a href="instructor-schedule.html" class="sidebar-item flex items-center gap-3 px-4 py-3 rounded-xl text-white/70 hover:bg-white/10 hover:text-white transition-all">
          <span class="material-icons-round text-xl">calendar_month</span>
          <span class="font-medium">시간표</span>
        </a>
      </nav>
      
      <div class="p-4 border-t border-white/10">
        <div class="flex items-center gap-3">
          <div class="w-10 h-10 rounded-full bg-gradient-to-br from-primary to-orange-400 flex items-center justify-center text-white font-bold">김</div>
          <div class="flex-1 min-w-0">
            <p class="font-medium text-sm truncate">김선생님</p>
            <p class="text-xs text-white/60">국어·수학 담당</p>
          </div>
        </div>
      </div>
    </div>

<!-- Main Content -->
    <main class="flex-1 lg:ml-64 pb-20 lg:pb-0">
      
      <!-- Top Header -->
            <!-- Mobile Header -->
      <header class="lg:hidden h-14 bg-navy text-white flex items-center justify-between px-4 sticky top-0 z-30">
        <button onclick="openMobileMenu()" class="p-2 hover:bg-white/10 rounded-lg">
          <span class="material-icons-round">menu</span>
        </button>
        <h1 class="font-bold">출결 관리</h1>
        <div class="w-8 h-8 rounded-full bg-gradient-to-br from-primary to-orange-400 flex items-center justify-center text-white font-bold text-sm">김</div>
      </header>

      <!-- Desktop Header -->
      <header class="hidden lg:flex h-16 bg-surface border-b border-border-light items-center justify-between px-6 sticky top-0 z-30">
        <div>
          <h1 class="text-xl font-bold text-text-primary">출결 관리</h1>
          <p class="text-sm text-text-tertiary">오늘의 수업 출석 현황</p>
        </div>
        <div class="flex items-center gap-3">
          <div class="flex items-center gap-2 px-4 py-2 bg-gray-100 rounded-xl">
            <span class="material-icons-round text-text-tertiary">calendar_today</span>
            <span class="font-medium text-text-primary">2025년 1월 8일 (수)</span>
          </div>
          <button onclick="refreshAttendance()" class="p-2 bg-primary text-white rounded-xl hover:bg-primary-dark" title="새로고침">
            <span class="material-icons-round">refresh</span>
          </button>
        </div>
      </header>
      
      <!-- Content -->
      <div class="p-4 lg:p-6 space-y-4 lg:space-y-6">
        
        <!-- Today's Stats -->
        <div class="grid grid-cols-5 gap-4">
          <div class="bg-surface rounded-2xl border border-border-light p-4">
            <div class="flex items-center justify-between">
              <div>
                <p class="text-2xl font-bold text-text-primary">20</p>
                <p class="text-sm text-text-tertiary">오늘 수업 학생</p>
              </div>
              <div class="w-10 h-10 rounded-xl bg-info-light flex items-center justify-center">
                <span class="material-icons-round text-info">groups</span>
              </div>
            </div>
          </div>
          <div class="bg-surface rounded-2xl border border-border-light p-4">
            <div class="flex items-center justify-between">
              <div>
                <p class="text-2xl font-bold text-success">15</p>
                <p class="text-sm text-text-tertiary">출석</p>
              </div>
              <div class="w-10 h-10 rounded-xl bg-success-light flex items-center justify-center">
                <span class="material-icons-round text-success">check_circle</span>
              </div>
            </div>
          </div>
          <div class="bg-surface rounded-2xl border border-border-light p-4">
            <div class="flex items-center justify-between">
              <div>
                <p class="text-2xl font-bold text-warning">2</p>
                <p class="text-sm text-text-tertiary">지각</p>
              </div>
              <div class="w-10 h-10 rounded-xl bg-warning-light flex items-center justify-center">
                <span class="material-icons-round text-warning">schedule</span>
              </div>
            </div>
          </div>
          <div class="bg-surface rounded-2xl border border-border-light p-4">
            <div class="flex items-center justify-between">
              <div>
                <p class="text-2xl font-bold text-error">2</p>
                <p class="text-sm text-text-tertiary">결석</p>
              </div>
              <div class="w-10 h-10 rounded-xl bg-error-light flex items-center justify-center">
                <span class="material-icons-round text-error">cancel</span>
              </div>
            </div>
          </div>
          <div class="bg-surface rounded-2xl border border-border-light p-4">
            <div class="flex items-center justify-between">
              <div>
                <p class="text-2xl font-bold text-text-tertiary">1</p>
                <p class="text-sm text-text-tertiary">미확인</p>
              </div>
              <div class="w-10 h-10 rounded-xl bg-gray-100 flex items-center justify-center">
                <span class="material-icons-round text-text-tertiary">help_outline</span>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Class Tabs -->
        <div class="bg-surface rounded-2xl border border-border-light overflow-hidden">
          <div class="flex border-b border-border-light bg-gray-50">
            <button onclick="selectClass(0)" class="class-tab active flex-1 px-6 py-4 text-center font-medium">
              <div class="flex items-center justify-center gap-2">
                <span class="w-3 h-3 rounded-full bg-korean"></span>
                <span>중2A반 국어</span>
                <span class="text-xs text-text-tertiary">14:00~15:30</span>
              </div>
            </button>
            <button onclick="selectClass(1)" class="class-tab flex-1 px-6 py-4 text-center font-medium text-text-secondary hover:bg-gray-100">
              <div class="flex items-center justify-center gap-2">
                <span class="w-3 h-3 rounded-full bg-math"></span>
                <span>고1B반 수학</span>
                <span class="text-xs text-text-tertiary">17:00~18:30</span>
              </div>
            </button>
          </div>
          
          <!-- Class Info Banner -->
          <div class="px-6 py-3 bg-korean-light border-b border-korean/20 flex items-center justify-between">
            <div class="flex items-center gap-4">
              <span class="px-3 py-1 bg-korean text-white text-sm font-medium rounded-lg">진행 중</span>
              <span class="text-sm text-korean font-medium">수업 시작: 14:00 · 현재 14:23</span>
            </div>
            <div class="flex items-center gap-2">
              <span class="text-sm text-text-secondary">출석률:</span>
              <span class="text-lg font-bold text-korean">87.5%</span>
              <span class="text-sm text-text-tertiary">(7/8명)</span>
            </div>
          </div>
          
          <!-- Attendance Table -->
          <div class="overflow-x-auto">
            <table class="w-full">
              <thead>
                <tr class="bg-gray-50 border-b border-border-light">
                  <th class="px-6 py-3 text-left text-xs font-medium text-text-tertiary uppercase">학생</th>
                  <th class="px-6 py-3 text-center text-xs font-medium text-text-tertiary uppercase">등원 시간</th>
                  <th class="px-6 py-3 text-center text-xs font-medium text-text-tertiary uppercase">출결 상태</th>
                  <th class="px-6 py-3 text-left text-xs font-medium text-text-tertiary uppercase">결석/지각 사유</th>
                  <th class="px-6 py-3 text-center text-xs font-medium text-text-tertiary uppercase">일일평가</th>
                  <th class="px-6 py-3 text-center text-xs font-medium text-text-tertiary uppercase">액션</th>
                </tr>
              </thead>
              <tbody class="divide-y divide-border-light">
                
                <!-- Student 1 - 출석 -->
                <tr class="attendance-row">
                  <td class="px-6 py-4">
                    <div class="flex items-center gap-3">
                      <div class="w-10 h-10 rounded-full bg-gradient-to-br from-pink-400 to-pink-600 flex items-center justify-center text-white font-bold">김</div>
                      <div>
                        <p class="font-medium text-text-primary">김서연</p>
                        <p class="text-xs text-text-tertiary">중2 · 여</p>
                      </div>
                    </div>
                  </td>
                  <td class="px-6 py-4 text-center">
                    <span class="text-sm font-medium text-success">13:52</span>
                  </td>
                  <td class="px-6 py-4">
                    <div class="flex justify-center gap-1">
                      <button onclick="setAttendance(this, 'present')" class="status-btn selected px-3 py-1.5 bg-success text-white text-sm rounded-lg ring-2 ring-success ring-offset-2">출석</button>
                      <button onclick="setAttendance(this, 'late')" class="status-btn px-3 py-1.5 bg-gray-100 text-text-secondary text-sm rounded-lg hover:bg-warning hover:text-white">지각</button>
                      <button onclick="setAttendance(this, 'absent')" class="status-btn px-3 py-1.5 bg-gray-100 text-text-secondary text-sm rounded-lg hover:bg-error hover:text-white">결석</button>
                    </div>
                  </td>
                  <td class="px-6 py-4">
                    <span class="text-sm text-text-tertiary">-</span>
                  </td>
                  <td class="px-6 py-4 text-center">
                    <span class="px-2 py-1 bg-success-light text-success text-xs font-medium rounded-lg">평가 가능</span>
                  </td>
                  <td class="px-6 py-4 text-center">
                    <button class="p-2 hover:bg-gray-100 rounded-lg" title="상세보기">
                      <span class="material-icons-round text-text-tertiary text-lg">more_vert</span>
                    </button>
                  </td>
                </tr>
                
                <!-- Student 2 - 출석 -->
                <tr class="attendance-row">
                  <td class="px-6 py-4">
                    <div class="flex items-center gap-3">
                      <div class="w-10 h-10 rounded-full bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center text-white font-bold">박</div>
                      <div>
                        <p class="font-medium text-text-primary">박민수</p>
                        <p class="text-xs text-text-tertiary">중2 · 남</p>
                      </div>
                    </div>
                  </td>
                  <td class="px-6 py-4 text-center">
                    <span class="text-sm font-medium text-success">13:45</span>
                  </td>
                  <td class="px-6 py-4">
                    <div class="flex justify-center gap-1">
                      <button onclick="setAttendance(this, 'present')" class="status-btn selected px-3 py-1.5 bg-success text-white text-sm rounded-lg ring-2 ring-success ring-offset-2">출석</button>
                      <button onclick="setAttendance(this, 'late')" class="status-btn px-3 py-1.5 bg-gray-100 text-text-secondary text-sm rounded-lg hover:bg-warning hover:text-white">지각</button>
                      <button onclick="setAttendance(this, 'absent')" class="status-btn px-3 py-1.5 bg-gray-100 text-text-secondary text-sm rounded-lg hover:bg-error hover:text-white">결석</button>
                    </div>
                  </td>
                  <td class="px-6 py-4">
                    <span class="text-sm text-text-tertiary">-</span>
                  </td>
                  <td class="px-6 py-4 text-center">
                    <span class="px-2 py-1 bg-success-light text-success text-xs font-medium rounded-lg">평가 가능</span>
                  </td>
                  <td class="px-6 py-4 text-center">
                    <button class="p-2 hover:bg-gray-100 rounded-lg">
                      <span class="material-icons-round text-text-tertiary text-lg">more_vert</span>
                    </button>
                  </td>
                </tr>
                
                <!-- Student 3 - 지각 -->
                <tr class="attendance-row bg-warning-light/30">
                  <td class="px-6 py-4">
                    <div class="flex items-center gap-3">
                      <div class="w-10 h-10 rounded-full bg-gradient-to-br from-green-400 to-green-600 flex items-center justify-center text-white font-bold">이</div>
                      <div>
                        <p class="font-medium text-text-primary">이지훈</p>
                        <p class="text-xs text-text-tertiary">중2 · 남</p>
                      </div>
                    </div>
                  </td>
                  <td class="px-6 py-4 text-center">
                    <span class="text-sm font-medium text-warning">14:12</span>
                    <p class="text-xs text-warning">+12분</p>
                  </td>
                  <td class="px-6 py-4">
                    <div class="flex justify-center gap-1">
                      <button onclick="setAttendance(this, 'present')" class="status-btn px-3 py-1.5 bg-gray-100 text-text-secondary text-sm rounded-lg hover:bg-success hover:text-white">출석</button>
                      <button onclick="setAttendance(this, 'late')" class="status-btn selected px-3 py-1.5 bg-warning text-white text-sm rounded-lg ring-2 ring-warning ring-offset-2">지각</button>
                      <button onclick="setAttendance(this, 'absent')" class="status-btn px-3 py-1.5 bg-gray-100 text-text-secondary text-sm rounded-lg hover:bg-error hover:text-white">결석</button>
                    </div>
                  </td>
                  <td class="px-6 py-4">
                    <div class="flex items-center gap-2">
                      <span class="material-icons-round text-warning text-sm">info</span>
                      <span class="text-sm text-text-primary">버스 지연 (학부모 연락)</span>
                    </div>
                  </td>
                  <td class="px-6 py-4 text-center">
                    <span class="px-2 py-1 bg-success-light text-success text-xs font-medium rounded-lg">평가 가능</span>
                  </td>
                  <td class="px-6 py-4 text-center">
                    <button class="p-2 hover:bg-gray-100 rounded-lg">
                      <span class="material-icons-round text-text-tertiary text-lg">more_vert</span>
                    </button>
                  </td>
                </tr>
                
                <!-- Student 4 - 출석 -->
                <tr class="attendance-row">
                  <td class="px-6 py-4">
                    <div class="flex items-center gap-3">
                      <div class="w-10 h-10 rounded-full bg-gradient-to-br from-purple-400 to-purple-600 flex items-center justify-center text-white font-bold">최</div>
                      <div>
                        <p class="font-medium text-text-primary">최예은</p>
                        <p class="text-xs text-text-tertiary">중2 · 여</p>
                      </div>
                    </div>
                  </td>
                  <td class="px-6 py-4 text-center">
                    <span class="text-sm font-medium text-success">13:55</span>
                  </td>
                  <td class="px-6 py-4">
                    <div class="flex justify-center gap-1">
                      <button onclick="setAttendance(this, 'present')" class="status-btn selected px-3 py-1.5 bg-success text-white text-sm rounded-lg ring-2 ring-success ring-offset-2">출석</button>
                      <button onclick="setAttendance(this, 'late')" class="status-btn px-3 py-1.5 bg-gray-100 text-text-secondary text-sm rounded-lg hover:bg-warning hover:text-white">지각</button>
                      <button onclick="setAttendance(this, 'absent')" class="status-btn px-3 py-1.5 bg-gray-100 text-text-secondary text-sm rounded-lg hover:bg-error hover:text-white">결석</button>
                    </div>
                  </td>
                  <td class="px-6 py-4">
                    <span class="text-sm text-text-tertiary">-</span>
                  </td>
                  <td class="px-6 py-4 text-center">
                    <span class="px-2 py-1 bg-success-light text-success text-xs font-medium rounded-lg">평가 가능</span>
                  </td>
                  <td class="px-6 py-4 text-center">
                    <button class="p-2 hover:bg-gray-100 rounded-lg">
                      <span class="material-icons-round text-text-tertiary text-lg">more_vert</span>
                    </button>
                  </td>
                </tr>
                
                <!-- Student 5 - 결석 (사유 있음) -->
                <tr class="attendance-row bg-error-light/30">
                  <td class="px-6 py-4">
                    <div class="flex items-center gap-3">
                      <div class="w-10 h-10 rounded-full bg-gradient-to-br from-orange-400 to-orange-600 flex items-center justify-center text-white font-bold">정</div>
                      <div>
                        <p class="font-medium text-text-primary">정수현</p>
                        <p class="text-xs text-text-tertiary">중2 · 남</p>
                      </div>
                    </div>
                  </td>
                  <td class="px-6 py-4 text-center">
                    <span class="text-sm font-medium text-error">-</span>
                  </td>
                  <td class="px-6 py-4">
                    <div class="flex justify-center gap-1">
                      <button onclick="setAttendance(this, 'present')" class="status-btn px-3 py-1.5 bg-gray-100 text-text-secondary text-sm rounded-lg hover:bg-success hover:text-white">출석</button>
                      <button onclick="setAttendance(this, 'late')" class="status-btn px-3 py-1.5 bg-gray-100 text-text-secondary text-sm rounded-lg hover:bg-warning hover:text-white">지각</button>
                      <button onclick="setAttendance(this, 'absent')" class="status-btn selected px-3 py-1.5 bg-error text-white text-sm rounded-lg ring-2 ring-error ring-offset-2">결석</button>
                    </div>
                  </td>
                  <td class="px-6 py-4">
                    <div class="bg-error-light border border-error/20 rounded-lg p-2">
                      <div class="flex items-start gap-2">
                        <span class="material-icons-round text-error text-sm mt-0.5">sick</span>
                        <div>
                          <p class="text-sm font-medium text-error">병결 (발열)</p>
                          <p class="text-xs text-text-secondary">어머니 연락 · 오늘 12:30</p>
                        </div>
                      </div>
                    </div>
                  </td>
                  <td class="px-6 py-4 text-center">
                    <span class="px-2 py-1 bg-error-light text-error text-xs font-medium rounded-lg flex items-center gap-1 justify-center">
                      <span class="material-icons-round text-xs">block</span>
                      결석 처리
                    </span>
                  </td>
                  <td class="px-6 py-4 text-center">
                    <button onclick="openAbsenceDetail('정수현')" class="p-2 hover:bg-gray-100 rounded-lg">
                      <span class="material-icons-round text-text-tertiary text-lg">info</span>
                    </button>
                  </td>
                </tr>
                
                <!-- Student 6 - 출석 -->
                <tr class="attendance-row">
                  <td class="px-6 py-4">
                    <div class="flex items-center gap-3">
                      <div class="w-10 h-10 rounded-full bg-gradient-to-br from-cyan-400 to-cyan-600 flex items-center justify-center text-white font-bold">강</div>
                      <div>
                        <p class="font-medium text-text-primary">강하준</p>
                        <p class="text-xs text-text-tertiary">중2 · 남</p>
                      </div>
                    </div>
                  </td>
                  <td class="px-6 py-4 text-center">
                    <span class="text-sm font-medium text-success">13:58</span>
                  </td>
                  <td class="px-6 py-4">
                    <div class="flex justify-center gap-1">
                      <button onclick="setAttendance(this, 'present')" class="status-btn selected px-3 py-1.5 bg-success text-white text-sm rounded-lg ring-2 ring-success ring-offset-2">출석</button>
                      <button onclick="setAttendance(this, 'late')" class="status-btn px-3 py-1.5 bg-gray-100 text-text-secondary text-sm rounded-lg hover:bg-warning hover:text-white">지각</button>
                      <button onclick="setAttendance(this, 'absent')" class="status-btn px-3 py-1.5 bg-gray-100 text-text-secondary text-sm rounded-lg hover:bg-error hover:text-white">결석</button>
                    </div>
                  </td>
                  <td class="px-6 py-4">
                    <span class="text-sm text-text-tertiary">-</span>
                  </td>
                  <td class="px-6 py-4 text-center">
                    <span class="px-2 py-1 bg-success-light text-success text-xs font-medium rounded-lg">평가 가능</span>
                  </td>
                  <td class="px-6 py-4 text-center">
                    <button class="p-2 hover:bg-gray-100 rounded-lg">
                      <span class="material-icons-round text-text-tertiary text-lg">more_vert</span>
                    </button>
                  </td>
                </tr>
                
                <!-- Student 7 - 출석 -->
                <tr class="attendance-row">
                  <td class="px-6 py-4">
                    <div class="flex items-center gap-3">
                      <div class="w-10 h-10 rounded-full bg-gradient-to-br from-rose-400 to-rose-600 flex items-center justify-center text-white font-bold">오</div>
                      <div>
                        <p class="font-medium text-text-primary">오민재</p>
                        <p class="text-xs text-text-tertiary">중2 · 남</p>
                      </div>
                    </div>
                  </td>
                  <td class="px-6 py-4 text-center">
                    <span class="text-sm font-medium text-success">13:50</span>
                  </td>
                  <td class="px-6 py-4">
                    <div class="flex justify-center gap-1">
                      <button onclick="setAttendance(this, 'present')" class="status-btn selected px-3 py-1.5 bg-success text-white text-sm rounded-lg ring-2 ring-success ring-offset-2">출석</button>
                      <button onclick="setAttendance(this, 'late')" class="status-btn px-3 py-1.5 bg-gray-100 text-text-secondary text-sm rounded-lg hover:bg-warning hover:text-white">지각</button>
                      <button onclick="setAttendance(this, 'absent')" class="status-btn px-3 py-1.5 bg-gray-100 text-text-secondary text-sm rounded-lg hover:bg-error hover:text-white">결석</button>
                    </div>
                  </td>
                  <td class="px-6 py-4">
                    <span class="text-sm text-text-tertiary">-</span>
                  </td>
                  <td class="px-6 py-4 text-center">
                    <span class="px-2 py-1 bg-success-light text-success text-xs font-medium rounded-lg">평가 가능</span>
                  </td>
                  <td class="px-6 py-4 text-center">
                    <button class="p-2 hover:bg-gray-100 rounded-lg">
                      <span class="material-icons-round text-text-tertiary text-lg">more_vert</span>
                    </button>
                  </td>
                </tr>
                
                <!-- Student 8 - 미확인 -->
                <tr class="attendance-row bg-gray-50">
                  <td class="px-6 py-4">
                    <div class="flex items-center gap-3">
                      <div class="w-10 h-10 rounded-full bg-gradient-to-br from-gray-400 to-gray-600 flex items-center justify-center text-white font-bold">윤</div>
                      <div>
                        <p class="font-medium text-text-primary">윤서아</p>
                        <p class="text-xs text-text-tertiary">중2 · 여</p>
                      </div>
                    </div>
                  </td>
                  <td class="px-6 py-4 text-center">
                    <span class="text-sm font-medium text-text-tertiary">-</span>
                    <p class="text-xs text-text-tertiary">미등원</p>
                  </td>
                  <td class="px-6 py-4">
                    <div class="flex justify-center gap-1">
                      <button onclick="setAttendance(this, 'present')" class="status-btn px-3 py-1.5 bg-gray-100 text-text-secondary text-sm rounded-lg hover:bg-success hover:text-white">출석</button>
                      <button onclick="setAttendance(this, 'late')" class="status-btn px-3 py-1.5 bg-gray-100 text-text-secondary text-sm rounded-lg hover:bg-warning hover:text-white">지각</button>
                      <button onclick="setAttendance(this, 'absent')" class="status-btn px-3 py-1.5 bg-gray-100 text-text-secondary text-sm rounded-lg hover:bg-error hover:text-white">결석</button>
                    </div>
                  </td>
                  <td class="px-6 py-4">
                    <button onclick="openReasonModal('윤서아')" class="flex items-center gap-2 text-sm text-info hover:underline">
                      <span class="material-icons-round text-sm">add_circle</span>
                      사유 입력
                    </button>
                  </td>
                  <td class="px-6 py-4 text-center">
                    <span class="px-2 py-1 bg-gray-100 text-text-tertiary text-xs font-medium rounded-lg">미확인</span>
                  </td>
                  <td class="px-6 py-4 text-center">
                    <button onclick="requestContact('윤서아')" class="p-2 bg-info text-white rounded-lg hover:bg-blue-600" title="관리자에게 연락 요청">
                      <span class="material-icons-round text-lg">phone</span>
                    </button>
                  </td>
                </tr>
                
              </tbody>
            </table>
          </div>
          
          <!-- Action Bar -->
          <div class="px-6 py-4 bg-gray-50 border-t border-border-light flex items-center justify-between">
            <div class="text-sm text-text-secondary">
              <span class="font-medium">8명</span> 중 
              <span class="text-success font-medium">6명 출석</span>, 
              <span class="text-warning font-medium">1명 지각</span>, 
              <span class="text-error font-medium">1명 결석</span>
            </div>
            <div class="flex gap-2">
              <button onclick="markAllPresent()" class="px-4 py-2 bg-success text-white rounded-xl hover:bg-green-600 flex items-center gap-2">
                <span class="material-icons-round text-lg">done_all</span>
                전체 출석 처리
              </button>
              <a href="instructor-evaluation.html" class="px-4 py-2 bg-primary text-white rounded-xl hover:bg-primary-dark flex items-center gap-2">
                <span class="material-icons-round text-lg">rate_review</span>
                일일평가 입력
              </a>
            </div>
          </div>
        </div>
        
        <!-- Absence Reason Guide -->
        <div class="bg-surface rounded-2xl border border-border-light p-5">
          <h3 class="font-bold text-text-primary mb-4 flex items-center gap-2">
            <span class="material-icons-round text-info">info</span>
            결석 사유 분류
          </h3>
          <div class="grid grid-cols-5 gap-3">
            <div class="p-3 bg-error-light rounded-xl text-center">
              <span class="material-icons-round text-error text-2xl mb-1">sick</span>
              <p class="text-sm font-medium text-error">병결</p>
              <p class="text-xs text-text-tertiary">질병, 부상 등</p>
            </div>
            <div class="p-3 bg-info-light rounded-xl text-center">
              <span class="material-icons-round text-info text-2xl mb-1">event</span>
              <p class="text-sm font-medium text-info">공결</p>
              <p class="text-xs text-text-tertiary">학교행사, 대회 등</p>
            </div>
            <div class="p-3 bg-planner-light rounded-xl text-center">
              <span class="material-icons-round text-planner text-2xl mb-1">family_restroom</span>
              <p class="text-sm font-medium text-planner">가사</p>
              <p class="text-xs text-text-tertiary">경조사, 가족 사유</p>
            </div>
            <div class="p-3 bg-warning-light rounded-xl text-center">
              <span class="material-icons-round text-warning text-2xl mb-1">help_outline</span>
              <p class="text-sm font-medium text-warning">기타</p>
              <p class="text-xs text-text-tertiary">기타 사유</p>
            </div>
            <div class="p-3 bg-gray-100 rounded-xl text-center">
              <span class="material-icons-round text-text-tertiary text-2xl mb-1">block</span>
              <p class="text-sm font-medium text-text-tertiary">무단</p>
              <p class="text-xs text-text-tertiary">사유 없음</p>
            </div>
          </div>
        </div>
        
      </div>
    </main>
  
    <!-- Mobile Bottom Tab Bar -->
    <nav class="lg:hidden fixed bottom-0 left-0 right-0 bg-surface border-t border-border-light bottom-nav z-40">
      <div class="flex justify-around items-center h-16">
        <a href="instructor-dashboard.html" class="bottom-tab flex flex-col items-center gap-0.5 px-3 py-2 text-text-tertiary">
          <span class="material-icons-round text-xl">dashboard</span>
          <span class="text-xs">홈</span>
          
        </a>
        <a href="instructor-students.html" class="bottom-tab flex flex-col items-center gap-0.5 px-3 py-2 text-text-tertiary">
          <span class="material-icons-round text-xl">groups</span>
          <span class="text-xs">학생</span>
          
        </a>
        <a href="instructor-attendance.html" class="bottom-tab active flex flex-col items-center gap-0.5 px-3 py-2">
          <span class="material-icons-round text-xl">fact_check</span>
          <span class="text-xs">출결</span>
        </a>
        <a href="instructor-evaluation.html" class="bottom-tab flex flex-col items-center gap-0.5 px-3 py-2 text-text-tertiary relative">
          <span class="material-icons-round text-xl">rate_review</span>
          <span class="text-xs">평가</span>
          <span class="absolute top-1 right-1 w-2 h-2 bg-error rounded-full"></span>
        </a>
        <button onclick="openMobileMenu()" class="bottom-tab flex flex-col items-center gap-0.5 px-3 py-2 text-text-tertiary">
          <span class="material-icons-round text-xl">menu</span>
          <span class="text-xs">더보기</span>
        </button>
      </div>
    </nav>
  </div>
  
  <!-- Absence Reason Modal -->
  <div id="reasonModal" class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 hidden">
    <div class="bg-surface rounded-2xl max-w-md w-full mx-4 overflow-hidden">
      <div class="p-5 border-b border-border-light flex items-center justify-between">
        <h3 class="font-bold text-lg text-text-primary">결석/지각 사유 입력</h3>
        <button onclick="closeReasonModal()" class="p-2 hover:bg-gray-100 rounded-lg">
          <span class="material-icons-round text-text-tertiary">close</span>
        </button>
      </div>
      <div class="p-5 space-y-4">
        <div class="flex items-center gap-3 p-3 bg-gray-50 rounded-xl">
          <div class="w-10 h-10 rounded-full bg-gradient-to-br from-gray-400 to-gray-600 flex items-center justify-center text-white font-bold">윤</div>
          <div>
            <p class="font-medium text-text-primary" id="modalStudentName">윤서아</p>
            <p class="text-sm text-text-tertiary">중2A반</p>
          </div>
        </div>
        
        <div>
          <label class="block text-sm font-medium text-text-primary mb-2">사유 분류</label>
          <select class="w-full px-4 py-3 border border-border-light rounded-xl focus:outline-none focus:ring-2 focus:ring-primary/20">
            <option>선택하세요</option>
            <option>병결 (질병/부상)</option>
            <option>공결 (학교행사/대회)</option>
            <option>가사 (경조사/가족사유)</option>
            <option>기타</option>
            <option>무단결석</option>
          </select>
        </div>
        
        <div>
          <label class="block text-sm font-medium text-text-primary mb-2">상세 사유</label>
          <textarea rows="3" placeholder="결석/지각 사유를 입력하세요..."
            class="w-full px-4 py-3 border border-border-light rounded-xl focus:outline-none focus:ring-2 focus:ring-primary/20 resize-none"></textarea>
        </div>
        
        <div>
          <label class="block text-sm font-medium text-text-primary mb-2">연락 수단</label>
          <div class="flex gap-2">
            <label class="flex-1 flex items-center gap-2 p-3 border border-border-light rounded-xl cursor-pointer hover:bg-gray-50">
              <input type="radio" name="contact" value="parent" class="text-primary">
              <span class="text-sm">학부모 연락</span>
            </label>
            <label class="flex-1 flex items-center gap-2 p-3 border border-border-light rounded-xl cursor-pointer hover:bg-gray-50">
              <input type="radio" name="contact" value="student" class="text-primary">
              <span class="text-sm">학생 연락</span>
            </label>
            <label class="flex-1 flex items-center gap-2 p-3 border border-border-light rounded-xl cursor-pointer hover:bg-gray-50">
              <input type="radio" name="contact" value="none" class="text-primary">
              <span class="text-sm">연락 없음</span>
            </label>
          </div>
        </div>
      </div>
      <div class="p-5 border-t border-border-light flex justify-end gap-3">
        <button onclick="closeReasonModal()" class="px-4 py-2 border border-border-light text-text-secondary rounded-xl hover:bg-gray-50">취소</button>
        <button onclick="saveReason()" class="px-6 py-2 bg-primary text-white rounded-xl hover:bg-primary-dark">저장</button>
      </div>
    </div>
  </div>
  
  <!-- Absence Detail Modal -->
  <div id="absenceDetailModal" class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 hidden">
    <div class="bg-surface rounded-2xl max-w-md w-full mx-4 overflow-hidden">
      <div class="p-5 border-b border-border-light bg-error-light flex items-center justify-between">
        <h3 class="font-bold text-lg text-error flex items-center gap-2">
          <span class="material-icons-round">cancel</span>
          결석 상세 정보
        </h3>
        <button onclick="closeAbsenceDetail()" class="p-2 hover:bg-error/10 rounded-lg">
          <span class="material-icons-round text-error">close</span>
        </button>
      </div>
      <div class="p-5 space-y-4">
        <div class="flex items-center gap-3">
          <div class="w-12 h-12 rounded-full bg-gradient-to-br from-orange-400 to-orange-600 flex items-center justify-center text-white font-bold text-lg">정</div>
          <div>
            <p class="font-bold text-text-primary text-lg">정수현</p>
            <p class="text-sm text-text-tertiary">중2A반 · 남</p>
          </div>
        </div>
        
        <div class="bg-gray-50 rounded-xl p-4 space-y-3">
          <div class="flex justify-between">
            <span class="text-sm text-text-tertiary">결석 유형</span>
            <span class="font-medium text-error">병결</span>
          </div>
          <div class="flex justify-between">
            <span class="text-sm text-text-tertiary">사유</span>
            <span class="font-medium text-text-primary">발열 (38.5도)</span>
          </div>
          <div class="flex justify-between">
            <span class="text-sm text-text-tertiary">연락자</span>
            <span class="font-medium text-text-primary">어머니</span>
          </div>
          <div class="flex justify-between">
            <span class="text-sm text-text-tertiary">연락 시간</span>
            <span class="font-medium text-text-primary">오늘 12:30</span>
          </div>
          <div class="flex justify-between">
            <span class="text-sm text-text-tertiary">접수자</span>
            <span class="font-medium text-text-primary">관리자 (김원장)</span>
          </div>
        </div>
        
        <div class="bg-warning-light border border-warning/20 rounded-xl p-3">
          <p class="text-sm text-warning flex items-center gap-2">
            <span class="material-icons-round">info</span>
            일일평가가 자동으로 '결석' 처리됩니다.
          </p>
        </div>
      </div>
      <div class="p-5 border-t border-border-light">
        <button onclick="closeAbsenceDetail()" class="w-full py-2.5 bg-gray-100 text-text-secondary rounded-xl hover:bg-gray-200">닫기</button>
      </div>
    </div>
  </div>
  
  <!-- Contact Request Toast -->
  <div id="toast" class="fixed top-20 left-1/2 -translate-x-1/2 bg-navy text-white px-6 py-3 rounded-xl shadow-lg z-50 hidden flex items-center gap-2">
    <span class="material-icons-round">check_circle</span>
    <span id="toastMsg">관리자에게 연락 요청을 보냈습니다.</span>
  </div>
  
  <script>
    function selectClass(index) {
      document.querySelectorAll('.class-tab').forEach((tab, i) => {
        if (i === index) {
          tab.classList.add('active');
          tab.classList.remove('text-text-secondary');
        } else {
          tab.classList.remove('active');
          tab.classList.add('text-text-secondary');
        }
      });
    }
    
    function setAttendance(btn, status) {
      const row = btn.closest('tr');
      const buttons = row.querySelectorAll('.status-btn');
      const evalCell = row.querySelector('td:nth-child(5) span');
      
      buttons.forEach(b => {
        b.classList.remove('selected', 'ring-2', 'ring-offset-2');
        b.classList.add('bg-gray-100', 'text-text-secondary');
        b.classList.remove('bg-success', 'bg-warning', 'bg-error', 'text-white');
      });
      
      btn.classList.add('selected');
      btn.classList.remove('bg-gray-100', 'text-text-secondary');
      
      row.classList.remove('bg-warning-light/30', 'bg-error-light/30', 'bg-gray-50');
      
      if (status === 'present') {
        btn.classList.add('bg-success', 'text-white', 'ring-success');
        evalCell.className = 'px-2 py-1 bg-success-light text-success text-xs font-medium rounded-lg';
        evalCell.innerHTML = '평가 가능';
      } else if (status === 'late') {
        btn.classList.add('bg-warning', 'text-white', 'ring-warning');
        row.classList.add('bg-warning-light/30');
        evalCell.className = 'px-2 py-1 bg-success-light text-success text-xs font-medium rounded-lg';
        evalCell.innerHTML = '평가 가능';
      } else if (status === 'absent') {
        btn.classList.add('bg-error', 'text-white', 'ring-error');
        row.classList.add('bg-error-light/30');
        evalCell.className = 'px-2 py-1 bg-error-light text-error text-xs font-medium rounded-lg flex items-center gap-1 justify-center';
        evalCell.innerHTML = '<span class="material-icons-round text-xs">block</span>결석 처리';
      }
      
      btn.classList.add('ring-2', 'ring-offset-2');
      showToast('출결 상태가 변경되었습니다.');
    }
    
    function markAllPresent() {
      if (confirm('미확인 학생을 제외한 모든 학생을 출석 처리하시겠습니까?')) {
        showToast('전체 출석 처리되었습니다.');
      }
    }
    
    function refreshAttendance() {
      showToast('출결 현황을 새로고침했습니다.');
    }
    
    function openReasonModal(name) {
      document.getElementById('modalStudentName').textContent = name;
      document.getElementById('reasonModal').classList.remove('hidden');
    }
    
    function closeReasonModal() {
      document.getElementById('reasonModal').classList.add('hidden');
    }
    
    function saveReason() {
      closeReasonModal();
      showToast('결석 사유가 저장되었습니다.');
    }
    
    function openAbsenceDetail(name) {
      document.getElementById('absenceDetailModal').classList.remove('hidden');
    }
    
    function closeAbsenceDetail() {
      document.getElementById('absenceDetailModal').classList.add('hidden');
    }
    
    function requestContact(name) {
      showToast(`${name} 학생 관련 연락 요청을 관리자에게 보냈습니다.`);
    }
    
  </script>
  <script>
    function openMobileMenu() {
      document.getElementById('mobileMenuOverlay').classList.add('open');
      document.getElementById('mobileMenu').classList.add('open');
      document.body.style.overflow = 'hidden';
    }
    function closeMobileMenu() {
      document.getElementById('mobileMenuOverlay').classList.remove('open');
      document.getElementById('mobileMenu').classList.remove('open');
      document.body.style.overflow = '';
    }
  </script>
  <!-- MAMA-ASST Common Modules -->
  <script src="../assets/js/common.js"></script>
  <script src="../assets/js/modal.js"></script>
  <script src="../assets/js/toast.js"></script>
  <script src="../assets/js/table.js"></script>
  <script src="../assets/js/chart-config.js"></script>

</body>
</html>
