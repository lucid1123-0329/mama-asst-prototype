<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>RE_Header + RE_Sidebar ëª©ì—… | MAMA-ASST</title>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
  <style>
    *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

    :root {
      --primary: #FF6D4D;
      --primary-hover: #E55A3C;
      --navy: #1A2E4D;
      --navy-light: #243B5C;
      --text-primary: #1F2937;
      --text-secondary: #6B7280;
      --text-tertiary: #9CA3AF;
      --border-light: #E5E7EB;
      --background: #F9FAFB;
      --surface: #FFFFFF;
      --bg-hover: #F3F4F6;
      --success: #22C55E;
      --info: #3B82F6;
      --alert: #F59E0B;
      --error: #EF4444;
      --korean: #4285F4;
      --english: #34A853;
      --math: #FBBC05;
    }

    body {
      font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, sans-serif;
      background: var(--background);
      color: var(--text-primary);
      line-height: 1.5;
      height: 100vh;
      overflow: hidden;
    }

    /* ===== Role Switcher (ë°ëª¨ìš©) ===== */
    .role-switcher {
      position: fixed; top: 0; left: 0; right: 0;
      z-index: 9999; background: #111827;
      display: flex; align-items: center; justify-content: center;
      gap: 8px; padding: 8px 16px;
      font-size: 12px; color: #9CA3AF;
    }
    .role-btn {
      padding: 6px 16px; border-radius: 6px; border: 1px solid #374151;
      background: none; color: #9CA3AF; font-size: 12px; font-weight: 600;
      cursor: pointer; transition: all 0.15s;
    }
    .role-btn.active { background: var(--primary); color: white; border-color: var(--primary); }
    .role-btn:hover:not(.active) { border-color: #6B7280; color: white; }

    /* ===== App Layout ===== */
    .app-layout { display: flex; height: calc(100vh - 36px); margin-top: 36px; }

    /* ===== RE_Sidebar ===== */
    .sidebar {
      width: 256px; background: var(--navy);
      display: flex; flex-direction: column; flex-shrink: 0;
      transition: transform 0.3s ease;
    }

    /* -- Sidebar Header -- */
    .sb-header {
      display: flex; align-items: center; justify-content: space-between;
      height: 64px; padding: 0 16px;
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }
    .sb-header-left { display: flex; align-items: center; gap: 12px; }
    .sb-logo {
      width: 32px; height: 32px; background: var(--primary); border-radius: 8px;
      display: flex; align-items: center; justify-content: center;
    }
    .sb-logo .material-icons-round { font-size: 18px; color: white; }
    .sb-app-name { font-size: 16px; font-weight: 700; color: white; letter-spacing: -0.02em; }
    .sb-close {
      display: none; width: 32px; height: 32px; border-radius: 8px;
      border: none; background: none; cursor: pointer;
      color: rgba(255,255,255,0.5); align-items: center; justify-content: center;
      transition: color 0.15s;
    }
    .sb-close:hover { color: white; }

    /* -- User Profile -- */
    .sb-profile {
      display: flex; flex-direction: column; align-items: center;
      gap: 4px; padding: 16px;
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }
    .sb-avatar {
      width: 48px; height: 48px; border-radius: 50%;
      display: flex; align-items: center; justify-content: center;
      font-size: 18px; font-weight: 700; color: white;
      margin-bottom: 4px;
    }
    .sb-avatar.student { background: var(--primary); }
    .sb-avatar.admin { background: var(--navy-light); border: 2px solid rgba(255,255,255,0.2); }
    .sb-avatar.instructor { background: var(--success); }
    .sb-user-name { font-size: 14px; font-weight: 600; color: white; text-align: center; }
    .sb-user-role { font-size: 12px; color: rgba(255,255,255,0.5); text-align: center; }

    /* -- Nav Menu -- */
    .sb-nav {
      flex: 1; padding: 8px; display: flex; flex-direction: column; gap: 2px;
      overflow-y: auto;
    }
    .sb-nav::-webkit-scrollbar { width: 4px; }
    .sb-nav::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.1); border-radius: 2px; }

    .nav-section {
      font-size: 11px; font-weight: 600; color: rgba(255,255,255,0.3);
      text-transform: uppercase; letter-spacing: 0.05em;
      padding: 12px 16px 6px; user-select: none;
    }

    .nav-item {
      display: flex; align-items: center; gap: 12px;
      padding: 10px 16px; border-radius: 12px;
      color: rgba(255,255,255,0.6); font-size: 14px; font-weight: 500;
      cursor: pointer; transition: all 0.15s; text-decoration: none;
      position: relative;
    }
    .nav-item:hover { background: rgba(255,255,255,0.05); color: rgba(255,255,255,0.9); }
    .nav-item.active { background: rgba(255,255,255,0.1); color: white; font-weight: 600; }
    .nav-item .material-icons-round { font-size: 20px; }

    /* ê³¼ëª© í•˜ìœ„ ë©”ë‰´ ë“¤ì—¬ì“°ê¸° */
    .nav-item.sub { padding-left: 32px; font-size: 13px; }
    .nav-item.sub .material-icons-round { font-size: 18px; }

    /* ê³¼ëª© ì»¬ëŸ¬ active */
    .nav-item.sub.active.korean { color: var(--korean); }
    .nav-item.sub.active.english { color: var(--english); }
    .nav-item.sub.active.math .material-icons-round { color: var(--math); }

    /* Nav badge */
    .nav-badge {
      margin-left: auto; font-size: 11px; font-weight: 600;
      padding: 2px 8px; border-radius: 10px;
      background: var(--primary); color: white;
    }

    /* -- Footer -- */
    .sb-footer {
      padding: 8px; border-top: 1px solid rgba(255,255,255,0.1);
      display: flex; flex-direction: column; gap: 2px;
    }
    .nav-item.logout:hover {
      background: rgba(239,68,68,0.1); color: var(--error);
    }
    .nav-item.logout:hover .material-icons-round { color: var(--error); }

    /* ===== Main Area ===== */
    .main-area { flex: 1; display: flex; flex-direction: column; min-width: 0; }

    /* ===== RE_Header ===== */
    .header {
      height: 64px; background: var(--surface);
      border-bottom: 1px solid var(--border-light);
      display: flex; align-items: center; justify-content: space-between;
      padding: 0 24px; flex-shrink: 0;
    }
    .header-left { display: flex; align-items: center; gap: 16px; }
    .header-hamburger {
      display: none; width: 40px; height: 40px; border-radius: 8px;
      border: none; background: none; cursor: pointer;
      align-items: center; justify-content: center;
      color: var(--text-secondary); transition: background 0.15s;
    }
    .header-hamburger:hover { background: var(--bg-hover); }
    .header-title { font-size: 18px; font-weight: 700; color: var(--navy); }

    .header-right { display: flex; align-items: center; gap: 8px; }
    .header-icon-btn {
      position: relative; width: 40px; height: 40px; border-radius: 10px;
      border: none; background: none; cursor: pointer;
      display: flex; align-items: center; justify-content: center;
      color: var(--text-secondary); transition: background 0.15s;
    }
    .header-icon-btn:hover { background: var(--bg-hover); }
    .notif-dot {
      position: absolute; top: 8px; right: 8px;
      width: 8px; height: 8px; border-radius: 50%;
      background: var(--primary); border: 2px solid var(--surface);
    }

    .header-user {
      display: flex; align-items: center; gap: 8px; cursor: pointer;
      padding: 4px 8px 4px 4px; border-radius: 10px; transition: background 0.15s;
      position: relative;
    }
    .header-user:hover { background: var(--bg-hover); }
    .header-avatar {
      width: 32px; height: 32px; border-radius: 50%;
      display: flex; align-items: center; justify-content: center;
      font-size: 13px; font-weight: 700; color: white;
    }
    .header-avatar.student { background: var(--primary); }
    .header-avatar.admin { background: var(--navy); }
    .header-avatar.instructor { background: var(--success); }
    .header-user-name { font-size: 14px; font-weight: 500; color: var(--text-primary); }

    /* ===== GF_Notification ===== */
    .gf-notification {
      display: none; position: absolute; top: 48px; right: 0;
      width: 360px; max-height: 480px; background: var(--surface);
      border-radius: 16px; border: 1px solid var(--border-light);
      box-shadow: 0 8px 32px rgba(0,0,0,0.12);
      z-index: 100; overflow: hidden;
      flex-direction: column;
    }
    .gf-notification.open { display: flex; }
    .gf-notif-header {
      display: flex; justify-content: space-between; align-items: center;
      padding: 16px 20px; border-bottom: 1px solid var(--border-light);
    }
    .gf-notif-title { font-size: 16px; font-weight: 700; color: var(--text-primary); }
    .gf-notif-mark { font-size: 13px; color: var(--primary); cursor: pointer; font-weight: 500; }
    .gf-notif-mark:hover { text-decoration: underline; }

    .gf-notif-list { flex: 1; overflow-y: auto; }
    .notif-item {
      display: flex; gap: 12px; padding: 14px 20px;
      border-bottom: 1px solid #F3F4F6; cursor: pointer;
      transition: background 0.1s;
    }
    .notif-item:hover { background: #F9FAFB; }
    .notif-item.unread { background: #FFF7ED; }
    .notif-icon {
      width: 36px; height: 36px; border-radius: 10px;
      display: flex; align-items: center; justify-content: center;
      flex-shrink: 0;
    }
    .notif-icon .material-icons-round { font-size: 18px; color: white; }
    .notif-icon.info { background: var(--info); }
    .notif-icon.success { background: var(--success); }
    .notif-icon.alert { background: var(--alert); }
    .notif-text { font-size: 13px; color: var(--text-primary); line-height: 1.4; }
    .notif-time { font-size: 11px; color: var(--text-tertiary); margin-top: 2px; }

    .gf-notif-footer {
      padding: 12px 20px; border-top: 1px solid var(--border-light);
      text-align: center;
    }
    .gf-notif-footer a {
      font-size: 13px; font-weight: 600; color: var(--primary); text-decoration: none;
    }

    /* ===== GF_UserMenu ===== */
    .gf-usermenu {
      display: none; position: absolute; top: 48px; right: 0;
      width: 240px; background: var(--surface);
      border-radius: 12px; border: 1px solid var(--border-light);
      box-shadow: 0 8px 32px rgba(0,0,0,0.12);
      z-index: 100; overflow: hidden;
    }
    .gf-usermenu.open { display: block; }
    .gf-um-profile {
      padding: 16px; text-align: center;
      border-bottom: 1px solid var(--border-light);
    }
    .gf-um-avatar {
      width: 48px; height: 48px; border-radius: 50%; margin: 0 auto 8px;
      display: flex; align-items: center; justify-content: center;
      font-size: 18px; font-weight: 700; color: white;
    }
    .gf-um-name { font-size: 14px; font-weight: 600; color: var(--text-primary); }
    .gf-um-role { font-size: 12px; color: var(--text-tertiary); }
    .gf-um-items { padding: 8px; }
    .gf-um-item {
      display: flex; align-items: center; gap: 12px;
      padding: 10px 12px; border-radius: 8px; cursor: pointer;
      font-size: 14px; color: var(--text-primary); transition: background 0.1s;
    }
    .gf-um-item:hover { background: var(--bg-hover); }
    .gf-um-item .material-icons-round { font-size: 20px; color: var(--text-secondary); }
    .gf-um-item.logout { color: var(--error); }
    .gf-um-item.logout .material-icons-round { color: var(--error); }
    .gf-um-item.logout:hover { background: #FEF2F2; }
    .gf-um-divider { height: 1px; background: var(--border-light); margin: 4px 8px; }

    /* ===== Main Content (ë°ëª¨) ===== */
    .main-content {
      flex: 1; overflow-y: auto; padding: 32px;
      display: flex; align-items: center; justify-content: center;
    }
    .demo-placeholder {
      text-align: center; color: var(--text-tertiary);
    }
    .demo-placeholder .material-icons-round { font-size: 64px; margin-bottom: 12px; color: var(--border-light); }
    .demo-placeholder h2 { font-size: 18px; font-weight: 600; color: var(--text-secondary); margin-bottom: 4px; }
    .demo-placeholder p { font-size: 14px; }

    /* ===== Overlay ===== */
    .sidebar-overlay {
      display: none; position: fixed; inset: 0;
      background: rgba(0,0,0,0.5); z-index: 40;
    }
    .sidebar-overlay.open { display: block; }

    /* ===== Responsive ===== */
    @media (max-width: 1200px) {
      .sidebar { position: fixed; top: 36px; left: 0; bottom: 0; z-index: 50; transform: translateX(-100%); }
      .sidebar.open { transform: translateX(0); }
      .sb-close { display: flex; }
      .header-hamburger { display: flex; }
    }
    @media (max-width: 768px) {
      .header-user-name { display: none; }
      .gf-notification { width: calc(100vw - 32px); right: -60px; }
    }

    /* ===== Annotations ===== */
    .annotation {
      position: absolute; font-size: 10px; font-weight: 700;
      color: white; background: var(--primary); padding: 2px 6px;
      border-radius: 4px; pointer-events: none; z-index: 200;
      white-space: nowrap;
    }
  </style>
</head>
<body>

  <!-- Role Switcher (ë°ëª¨ ì „ìš©) -->
  <div class="role-switcher">
    <span>ì—­í•  ì „í™˜:</span>
    <button class="role-btn active" onclick="switchRole('student')">í•™ìƒ</button>
    <button class="role-btn" onclick="switchRole('admin')">ê´€ë¦¬ì</button>
    <button class="role-btn" onclick="switchRole('instructor')">ê°•ì‚¬</button>
    <span style="margin-left:16px;color:#4B5563">|</span>
    <span style="margin-left:8px">í´ë¦­í•˜ì—¬ ì•Œë¦¼/ìœ ì €ë©”ë‰´ ë“œë¡­ë‹¤ìš´ í…ŒìŠ¤íŠ¸</span>
  </div>

  <div class="app-layout">

    <!-- ===== RE_Sidebar ===== -->
    <aside class="sidebar" id="sidebar">

      <!-- SB Header -->
      <div class="sb-header">
        <div class="sb-header-left">
          <div class="sb-logo"><span class="material-icons-round">school</span></div>
          <span class="sb-app-name">MAMA-ASST</span>
        </div>
        <button class="sb-close" onclick="closeSidebar()" title="ë‹«ê¸°">
          <span class="material-icons-round">close</span>
        </button>
      </div>

      <!-- User Profile -->
      <div class="sb-profile" id="sbProfile">
        <div class="sb-avatar student" id="sbAvatar">í…Œ</div>
        <div class="sb-user-name" id="sbName">í…ŒìŠ¤íŠ¸í•™ìƒA</div>
        <div class="sb-user-role" id="sbRole">í•™ìƒ Â· ì¤‘1</div>
      </div>

      <!-- Nav Menu -->
      <nav class="sb-nav" id="sbNav">
        <!-- í•™ìƒ ë©”ë‰´ (ê¸°ë³¸ í‘œì‹œ) -->
        <div id="menuStudent">
          <div class="nav-section">í•™ìŠµ</div>
          <a class="nav-item active">
            <span class="material-icons-round">home</span> í™ˆ
          </a>
          <a class="nav-item sub korean">
            <span class="material-icons-round">menu_book</span> êµ­ì–´
          </a>
          <a class="nav-item sub english">
            <span class="material-icons-round">translate</span> ì˜ì–´
          </a>
          <a class="nav-item sub math">
            <span class="material-icons-round">calculate</span> ìˆ˜í•™
          </a>
          <div class="nav-section">ê´€ë¦¬</div>
          <a class="nav-item">
            <span class="material-icons-round">event_note</span> í”Œë˜ë„ˆ
          </a>
          <a class="nav-item">
            <span class="material-icons-round">insights</span> ë¦¬í¬íŠ¸
          </a>
        </div>

        <!-- ê´€ë¦¬ì ë©”ë‰´ -->
        <div id="menuAdmin" style="display:none">
          <div class="nav-section">ê´€ë¦¬</div>
          <a class="nav-item active">
            <span class="material-icons-round">dashboard</span> ëŒ€ì‹œë³´ë“œ
          </a>
          <a class="nav-item">
            <span class="material-icons-round">people</span> í•™ìƒ ê´€ë¦¬
            <span class="nav-badge">15</span>
          </a>
          <a class="nav-item">
            <span class="material-icons-round">class</span> ë°˜ ê´€ë¦¬
          </a>
          <a class="nav-item">
            <span class="material-icons-round">trending_up</span> í•™ìŠµ í˜„í™©
          </a>
        </div>

        <!-- ê°•ì‚¬ ë©”ë‰´ -->
        <div id="menuInstructor" style="display:none">
          <div class="nav-section">ê°•ì‚¬</div>
          <a class="nav-item active">
            <span class="material-icons-round">dashboard</span> ëŒ€ì‹œë³´ë“œ
          </a>
          <a class="nav-item">
            <span class="material-icons-round">people</span> í•™ìƒ ê´€ë¦¬
          </a>
          <a class="nav-item">
            <span class="material-icons-round">person_search</span> í•™ìƒ ìƒì„¸
          </a>
        </div>
      </nav>

      <!-- Footer -->
      <div class="sb-footer">
        <a class="nav-item">
          <span class="material-icons-round">settings</span> ì„¤ì •
        </a>
        <a class="nav-item logout">
          <span class="material-icons-round">logout</span> ë¡œê·¸ì•„ì›ƒ
        </a>
      </div>
    </aside>

    <!-- Overlay (ëª¨ë°”ì¼) -->
    <div class="sidebar-overlay" id="sidebarOverlay" onclick="closeSidebar()"></div>

    <!-- ===== Main Area ===== -->
    <div class="main-area">

      <!-- RE_Header -->
      <header class="header">
        <div class="header-left">
          <button class="header-hamburger" onclick="openSidebar()">
            <span class="material-icons-round">menu</span>
          </button>
          <span class="header-title" id="headerTitle">ëŒ€ì‹œë³´ë“œ</span>
        </div>
        <div class="header-right">

          <!-- Notification Bell -->
          <button class="header-icon-btn" onclick="toggleNotif(event)" id="notifBtn">
            <span class="material-icons-round">notifications_none</span>
            <span class="notif-dot" id="notifDot"></span>
          </button>

          <!-- GF_Notification -->
          <div class="gf-notification" id="gfNotif">
            <div class="gf-notif-header">
              <span class="gf-notif-title">ì•Œë¦¼</span>
              <span class="gf-notif-mark" onclick="alert('ëª¨ë‘ ì½ìŒ ì²˜ë¦¬')">ëª¨ë‘ ì½ìŒ</span>
            </div>
            <div class="gf-notif-list">
              <div class="notif-item unread">
                <div class="notif-icon info"><span class="material-icons-round">menu_book</span></div>
                <div>
                  <div class="notif-text">ì˜¤ëŠ˜ì˜ <b>êµ­ì–´ í•™ìŠµ</b>ì´ ì¤€ë¹„ë˜ì—ˆìŠµë‹ˆë‹¤.</div>
                  <div class="notif-time">5ë¶„ ì „</div>
                </div>
              </div>
              <div class="notif-item unread">
                <div class="notif-icon success"><span class="material-icons-round">emoji_events</span></div>
                <div>
                  <div class="notif-text"><b>ì˜ì–´ 7ì´ˆ í…ŒìŠ¤íŠ¸</b>ì—ì„œ ë§Œì ì„ ë°›ì•˜ì–´ìš”! ğŸ‰</div>
                  <div class="notif-time">1ì‹œê°„ ì „</div>
                </div>
              </div>
              <div class="notif-item">
                <div class="notif-icon alert"><span class="material-icons-round">event_note</span></div>
                <div>
                  <div class="notif-text">í”Œë˜ë„ˆ ìŠµê´€ <b>"ìˆ˜í•™ ë¬¸ì œ 10ê°œ"</b> ë¯¸ì™„ë£Œì…ë‹ˆë‹¤.</div>
                  <div class="notif-time">ì–´ì œ</div>
                </div>
              </div>
            </div>
            <div class="gf-notif-footer">
              <a href="#">ì „ì²´ ì•Œë¦¼ ë³´ê¸°</a>
            </div>
          </div>

          <!-- User Menu Trigger -->
          <div class="header-user" onclick="toggleUserMenu(event)" id="userMenuTrigger">
            <div class="header-avatar student" id="headerAvatar">í…Œ</div>
            <span class="header-user-name" id="headerUserName">í…ŒìŠ¤íŠ¸í•™ìƒA</span>
            <span class="material-icons-round" style="font-size:18px;color:var(--text-tertiary)">expand_more</span>
          </div>

          <!-- GF_UserMenu -->
          <div class="gf-usermenu" id="gfUserMenu">
            <div class="gf-um-profile">
              <div class="gf-um-avatar student" id="umAvatar"
                   style="background:var(--primary)">í…Œ</div>
              <div class="gf-um-name" id="umName">í…ŒìŠ¤íŠ¸í•™ìƒA</div>
              <div class="gf-um-role" id="umRole">í•™ìƒ</div>
            </div>
            <div class="gf-um-items">
              <div class="gf-um-item" onclick="alert('ë§ˆì´í˜ì´ì§€')">
                <span class="material-icons-round">person</span> ë§ˆì´í˜ì´ì§€
              </div>
              <div class="gf-um-item" onclick="alert('ì„¤ì •')">
                <span class="material-icons-round">settings</span> ì„¤ì •
              </div>
              <div class="gf-um-item" onclick="alert('ë„ì›€ë§')">
                <span class="material-icons-round">help_outline</span> ë„ì›€ë§
              </div>
              <div class="gf-um-divider"></div>
              <div class="gf-um-item logout" onclick="alert('ë¡œê·¸ì•„ì›ƒ â†’ login ì´ë™')">
                <span class="material-icons-round">logout</span> ë¡œê·¸ì•„ì›ƒ
              </div>
            </div>
          </div>

        </div>
      </header>

      <!-- Main Content (Placeholder) -->
      <main class="main-content">
        <div class="demo-placeholder">
          <span class="material-icons-round">widgets</span>
          <h2 id="demoTitle">í•™ìƒ ëŒ€ì‹œë³´ë“œ ì½˜í…ì¸  ì˜ì—­</h2>
          <p>Group_MainContent â€” ê° í˜ì´ì§€ë³„ ì½˜í…ì¸ ê°€ ì—¬ê¸°ì— ë“¤ì–´ê°‘ë‹ˆë‹¤</p>
        </div>
      </main>

    </div>
  </div>

  <script>
    /* ===== Role Data ===== */
    const roles = {
      student: {
        name: 'í…ŒìŠ¤íŠ¸í•™ìƒA', roleText: 'í•™ìƒ Â· ì¤‘1', roleShort: 'í•™ìƒ',
        initial: 'í…Œ', avatarClass: 'student', title: 'ëŒ€ì‹œë³´ë“œ',
        demoTitle: 'í•™ìƒ ëŒ€ì‹œë³´ë“œ ì½˜í…ì¸  ì˜ì—­', avatarBg: 'var(--primary)',
        menu: 'menuStudent'
      },
      admin: {
        name: 'í…ŒìŠ¤íŠ¸ê´€ë¦¬ì', roleText: 'í•™ì›ê´€ë¦¬ì', roleShort: 'í•™ì›ê´€ë¦¬ì',
        initial: 'í…Œ', avatarClass: 'admin', title: 'ëŒ€ì‹œë³´ë“œ',
        demoTitle: 'ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ ì½˜í…ì¸  ì˜ì—­', avatarBg: 'var(--navy)',
        menu: 'menuAdmin'
      },
      instructor: {
        name: 'í…ŒìŠ¤íŠ¸ê°•ì‚¬', roleText: 'ê°•ì‚¬', roleShort: 'ê°•ì‚¬',
        initial: 'í…Œ', avatarClass: 'instructor', title: 'ëŒ€ì‹œë³´ë“œ',
        demoTitle: 'ê°•ì‚¬ ëŒ€ì‹œë³´ë“œ ì½˜í…ì¸  ì˜ì—­', avatarBg: 'var(--success)',
        menu: 'menuInstructor'
      }
    };

    let currentRole = 'student';

    function switchRole(role) {
      currentRole = role;
      const d = roles[role];

      // Role buttons
      document.querySelectorAll('.role-btn').forEach(b => b.classList.remove('active'));
      event.target.classList.add('active');

      // Sidebar profile
      document.getElementById('sbAvatar').className = 'sb-avatar ' + d.avatarClass;
      document.getElementById('sbAvatar').textContent = d.initial;
      document.getElementById('sbName').textContent = d.name;
      document.getElementById('sbRole').textContent = d.roleText;

      // Header
      document.getElementById('headerTitle').textContent = d.title;
      document.getElementById('headerAvatar').className = 'header-avatar ' + d.avatarClass;
      document.getElementById('headerAvatar').textContent = d.initial;
      document.getElementById('headerUserName').textContent = d.name;

      // UserMenu
      document.getElementById('umAvatar').className = 'gf-um-avatar';
      document.getElementById('umAvatar').style.background = d.avatarBg;
      document.getElementById('umAvatar').textContent = d.initial;
      document.getElementById('umName').textContent = d.name;
      document.getElementById('umRole').textContent = d.roleShort;

      // Demo content
      document.getElementById('demoTitle').textContent = d.demoTitle;

      // Menus
      ['menuStudent', 'menuAdmin', 'menuInstructor'].forEach(id => {
        document.getElementById(id).style.display = id === d.menu ? '' : 'none';
      });

      closeDropdowns();
    }

    /* ===== Sidebar Toggle ===== */
    function openSidebar() {
      document.getElementById('sidebar').classList.add('open');
      document.getElementById('sidebarOverlay').classList.add('open');
    }
    function closeSidebar() {
      document.getElementById('sidebar').classList.remove('open');
      document.getElementById('sidebarOverlay').classList.remove('open');
    }

    /* ===== Dropdowns ===== */
    function closeDropdowns() {
      document.getElementById('gfNotif').classList.remove('open');
      document.getElementById('gfUserMenu').classList.remove('open');
    }

    function toggleNotif(e) {
      e.stopPropagation();
      const el = document.getElementById('gfNotif');
      const isOpen = el.classList.contains('open');
      closeDropdowns();
      if (!isOpen) el.classList.add('open');
    }

    function toggleUserMenu(e) {
      e.stopPropagation();
      const el = document.getElementById('gfUserMenu');
      const isOpen = el.classList.contains('open');
      closeDropdowns();
      if (!isOpen) el.classList.add('open');
    }

    document.addEventListener('click', (e) => {
      if (!e.target.closest('.gf-notification') && !e.target.closest('#notifBtn'))
        document.getElementById('gfNotif').classList.remove('open');
      if (!e.target.closest('.gf-usermenu') && !e.target.closest('#userMenuTrigger'))
        document.getElementById('gfUserMenu').classList.remove('open');
    });
  </script>

  <!--
    â˜… Bubble ì—˜ë¦¬ë¨¼íŠ¸ ë§¤í•‘ ìš”ì•½
    
    RE_Header (Reusable Element)
    â”œâ”€â”€ Properties: page_title (text), notif_count (number)
    â”œâ”€â”€ Custom State: sidebar_open (yes/no, default: no)
    â”œâ”€â”€ Group_Left
    â”‚   â”œâ”€â”€ Icon_Hamburger (â‰¤1200pxë§Œ í‘œì‹œ, í´ë¦­ â†’ sidebar_open toggle)
    â”‚   â””â”€â”€ Text_PageTitle (= page_title Property)
    â”œâ”€â”€ Group_Right
    â”‚   â”œâ”€â”€ Icon_Notification (ì¢… ì•„ì´ì½˜, Reference for GF_Notification)
    â”‚   â”‚   â””â”€â”€ Shape_NotifDot (notif_count > 0ì¼ ë•Œ í‘œì‹œ)
    â”‚   â””â”€â”€ Group_UserMenuTrigger (Reference for GF_UserMenu)
    â”‚       â”œâ”€â”€ Group_HeaderAvatar (ì—­í• ë³„ ìƒ‰ìƒ)
    â”‚       â”œâ”€â”€ Text_HeaderUserName (Current User's name)
    â”‚       â””â”€â”€ Icon_ExpandMore
    â”œâ”€â”€ GF_Notification (Group Focus)
    â”‚   â”œâ”€â”€ Header: "ì•Œë¦¼" + "ëª¨ë‘ ì½ìŒ"
    â”‚   â”œâ”€â”€ RG_Notifications (Notification í…Œì´ë¸”)
    â”‚   â””â”€â”€ Footer: "ì „ì²´ ì•Œë¦¼ ë³´ê¸°"
    â””â”€â”€ GF_UserMenu (Group Focus)
        â”œâ”€â”€ UserInfo: ì•„ë°”íƒ€ + ì´ë¦„ + ì—­í• 
        â”œâ”€â”€ MenuItem: ë§ˆì´í˜ì´ì§€, ì„¤ì •, ë„ì›€ë§
        â””â”€â”€ MenuItem_Logout: ë¡œê·¸ì•„ì›ƒ

    RE_Sidebar (Reusable Element)
    â”œâ”€â”€ Property: active_page (text)
    â”œâ”€â”€ Custom State: close_requested (yes/no, default: no)
    â”œâ”€â”€ Group_SidebarHeader
    â”‚   â”œâ”€â”€ Logo (32Ã—32, Primary) + App Name
    â”‚   â””â”€â”€ Icon_Close (â‰¤1200pxë§Œ í‘œì‹œ, í´ë¦­ â†’ close_requested = yes)
    â”œâ”€â”€ Group_UserProfile
    â”‚   â”œâ”€â”€ Avatar (48Ã—48, ì—­í• ë³„ ìƒ‰ìƒ)
    â”‚   â”œâ”€â”€ User Name
    â”‚   â””â”€â”€ User Role (+ í•™ë…„: í•™ìƒë§Œ)
    â”œâ”€â”€ Group_NavMenu (ì—­í• ë³„ ì¡°ê±´ í‘œì‹œ)
    â”‚   â”œâ”€â”€ Group_StudentMenu (role = STUDENT)
    â”‚   â”‚   â”œâ”€â”€ [í•™ìŠµ] í™ˆ / êµ­ì–´(sub) / ì˜ì–´(sub) / ìˆ˜í•™(sub)
    â”‚   â”‚   â””â”€â”€ [ê´€ë¦¬] í”Œë˜ë„ˆ / ë¦¬í¬íŠ¸
    â”‚   â”œâ”€â”€ Group_AdminMenu (role = ACADEMY_ADMIN)
    â”‚   â”‚   â””â”€â”€ [ê´€ë¦¬] ëŒ€ì‹œë³´ë“œ / í•™ìƒê´€ë¦¬ / ë°˜ê´€ë¦¬ / í•™ìŠµí˜„í™©
    â”‚   â””â”€â”€ Group_InstructorMenu (role = INSTRUCTOR)
    â”‚       â””â”€â”€ [ê°•ì‚¬] ëŒ€ì‹œë³´ë“œ / í•™ìƒê´€ë¦¬ / í•™ìƒìƒì„¸
    â””â”€â”€ Group_SidebarFooter
        â”œâ”€â”€ NavItem_Settings
        â””â”€â”€ NavItem_Logout
  -->
</body>
</html>
